(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function Mu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var au={exports:{}},Tr={};var Wh;function Qy(){if(Wh)return Tr;Wh=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(o,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var g in d)g!=="key"&&(f[g]=d[g])}else f=d;return d=f.ref,{$$typeof:s,type:o,key:m,ref:d!==void 0?d:null,props:f}}return Tr.Fragment=l,Tr.jsx=i,Tr.jsxs=i,Tr}var ep;function Zy(){return ep||(ep=1,au.exports=Qy()),au.exports}var a=Zy(),su={exports:{}},je={};var tp;function Jy(){if(tp)return je;tp=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),S=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function T(A,L,P){this.props=A,this.context=L,this.refs=j,this.updater=P||N}T.prototype.isReactComponent={},T.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},T.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=T.prototype;function z(A,L,P){this.props=A,this.context=L,this.refs=j,this.updater=P||N}var O=z.prototype=new C;O.constructor=z,k(O,T.prototype),O.isPureReactComponent=!0;var X=Array.isArray;function I(){}var Z={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function ie(A,L,P){var F=P.ref;return{$$typeof:s,type:A,key:L,ref:F!==void 0?F:null,props:P}}function U(A,L){return ie(A.type,L,A.props)}function ce(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function te(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return L[P]})}var H=/\/+/g;function me(A,L){return typeof A=="object"&&A!==null&&A.key!=null?te(""+A.key):L.toString(36)}function se(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(I,I):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function R(A,L,P,F,de){var be=typeof A;(be==="undefined"||be==="boolean")&&(A=null);var Ee=!1;if(A===null)Ee=!0;else switch(be){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(A.$$typeof){case s:case l:Ee=!0;break;case v:return Ee=A._init,R(Ee(A._payload),L,P,F,de)}}if(Ee)return de=de(A),Ee=F===""?"."+me(A,0):F,X(de)?(P="",Ee!=null&&(P=Ee.replace(H,"$&/")+"/"),R(de,L,P,"",function(ha){return ha})):de!=null&&(ce(de)&&(de=U(de,P+(de.key==null||A&&A.key===de.key?"":(""+de.key).replace(H,"$&/")+"/")+Ee)),L.push(de)),1;Ee=0;var Se=F===""?".":F+":";if(X(A))for(var He=0;He<A.length;He++)F=A[He],be=Se+me(F,He),Ee+=R(F,L,P,be,de);else if(He=E(A),typeof He=="function")for(A=He.call(A),He=0;!(F=A.next()).done;)F=F.value,be=Se+me(F,He++),Ee+=R(F,L,P,be,de);else if(be==="object"){if(typeof A.then=="function")return R(se(A),L,P,F,de);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ee(A,L,P){if(A==null)return A;var F=[],de=0;return R(A,F,"","",function(be){return L.call(P,be,de++)}),F}function J(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var B=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},re={map:ee,forEach:function(A,L,P){ee(A,function(){L.apply(this,arguments)},P)},count:function(A){var L=0;return ee(A,function(){L++}),L},toArray:function(A){return ee(A,function(L){return L})||[]},only:function(A){if(!ce(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return je.Activity=h,je.Children=re,je.Component=T,je.Fragment=i,je.Profiler=d,je.PureComponent=z,je.StrictMode=o,je.Suspense=b,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,je.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Z.H.useMemoCache(A)}},je.cache=function(A){return function(){return A.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(A,L,P){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var F=k({},A.props),de=A.key;if(L!=null)for(be in L.key!==void 0&&(de=""+L.key),L)!ue.call(L,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&L.ref===void 0||(F[be]=L[be]);var be=arguments.length-2;if(be===1)F.children=P;else if(1<be){for(var Ee=Array(be),Se=0;Se<be;Se++)Ee[Se]=arguments[Se+2];F.children=Ee}return ie(A.type,de,F)},je.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},je.createElement=function(A,L,P){var F,de={},be=null;if(L!=null)for(F in L.key!==void 0&&(be=""+L.key),L)ue.call(L,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(de[F]=L[F]);var Ee=arguments.length-2;if(Ee===1)de.children=P;else if(1<Ee){for(var Se=Array(Ee),He=0;He<Ee;He++)Se[He]=arguments[He+2];de.children=Se}if(A&&A.defaultProps)for(F in Ee=A.defaultProps,Ee)de[F]===void 0&&(de[F]=Ee[F]);return ie(A,be,de)},je.createRef=function(){return{current:null}},je.forwardRef=function(A){return{$$typeof:g,render:A}},je.isValidElement=ce,je.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:J}},je.memo=function(A,L){return{$$typeof:x,type:A,compare:L===void 0?null:L}},je.startTransition=function(A){var L=Z.T,P={};Z.T=P;try{var F=A(),de=Z.S;de!==null&&de(P,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(I,B)}catch(be){B(be)}finally{L!==null&&P.types!==null&&(L.types=P.types),Z.T=L}},je.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},je.use=function(A){return Z.H.use(A)},je.useActionState=function(A,L,P){return Z.H.useActionState(A,L,P)},je.useCallback=function(A,L){return Z.H.useCallback(A,L)},je.useContext=function(A){return Z.H.useContext(A)},je.useDebugValue=function(){},je.useDeferredValue=function(A,L){return Z.H.useDeferredValue(A,L)},je.useEffect=function(A,L){return Z.H.useEffect(A,L)},je.useEffectEvent=function(A){return Z.H.useEffectEvent(A)},je.useId=function(){return Z.H.useId()},je.useImperativeHandle=function(A,L,P){return Z.H.useImperativeHandle(A,L,P)},je.useInsertionEffect=function(A,L){return Z.H.useInsertionEffect(A,L)},je.useLayoutEffect=function(A,L){return Z.H.useLayoutEffect(A,L)},je.useMemo=function(A,L){return Z.H.useMemo(A,L)},je.useOptimistic=function(A,L){return Z.H.useOptimistic(A,L)},je.useReducer=function(A,L,P){return Z.H.useReducer(A,L,P)},je.useRef=function(A){return Z.H.useRef(A)},je.useState=function(A){return Z.H.useState(A)},je.useSyncExternalStore=function(A,L,P){return Z.H.useSyncExternalStore(A,L,P)},je.useTransition=function(){return Z.H.useTransition()},je.version="19.2.3",je}var ap;function _u(){return ap||(ap=1,su.exports=Jy()),su.exports}var y=_u();const ne=Mu(y);var nu={exports:{}},Lr={},lu={exports:{}},ru={};var sp;function Wy(){return sp||(sp=1,(function(s){function l(R,ee){var J=R.length;R.push(ee);e:for(;0<J;){var B=J-1>>>1,re=R[B];if(0<d(re,ee))R[B]=ee,R[J]=re,J=B;else break e}}function i(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var ee=R[0],J=R.pop();if(J!==ee){R[0]=J;e:for(var B=0,re=R.length,A=re>>>1;B<A;){var L=2*(B+1)-1,P=R[L],F=L+1,de=R[F];if(0>d(P,J))F<re&&0>d(de,P)?(R[B]=de,R[F]=J,B=F):(R[B]=P,R[L]=J,B=L);else if(F<re&&0>d(de,J))R[B]=de,R[F]=J,B=F;else break e}}return ee}function d(R,ee){var J=R.sortIndex-ee.sortIndex;return J!==0?J:R.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var b=[],x=[],v=1,h=null,S=3,E=!1,N=!1,k=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function O(R){for(var ee=i(x);ee!==null;){if(ee.callback===null)o(x);else if(ee.startTime<=R)o(x),ee.sortIndex=ee.expirationTime,l(b,ee);else break;ee=i(x)}}function X(R){if(k=!1,O(R),!N)if(i(b)!==null)N=!0,I||(I=!0,te());else{var ee=i(x);ee!==null&&se(X,ee.startTime-R)}}var I=!1,Z=-1,ue=5,ie=-1;function U(){return j?!0:!(s.unstable_now()-ie<ue)}function ce(){if(j=!1,I){var R=s.unstable_now();ie=R;var ee=!0;try{e:{N=!1,k&&(k=!1,C(Z),Z=-1),E=!0;var J=S;try{t:{for(O(R),h=i(b);h!==null&&!(h.expirationTime>R&&U());){var B=h.callback;if(typeof B=="function"){h.callback=null,S=h.priorityLevel;var re=B(h.expirationTime<=R);if(R=s.unstable_now(),typeof re=="function"){h.callback=re,O(R),ee=!0;break t}h===i(b)&&o(b),O(R)}else o(b);h=i(b)}if(h!==null)ee=!0;else{var A=i(x);A!==null&&se(X,A.startTime-R),ee=!1}}break e}finally{h=null,S=J,E=!1}ee=void 0}}finally{ee?te():I=!1}}}var te;if(typeof z=="function")te=function(){z(ce)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,me=H.port2;H.port1.onmessage=ce,te=function(){me.postMessage(null)}}else te=function(){T(ce,0)};function se(R,ee){Z=T(function(){R(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(R){R.callback=null},s.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<R?Math.floor(1e3/R):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(R){switch(S){case 1:case 2:case 3:var ee=3;break;default:ee=S}var J=S;S=ee;try{return R()}finally{S=J}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(R,ee){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var J=S;S=R;try{return ee()}finally{S=J}},s.unstable_scheduleCallback=function(R,ee,J){var B=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?B+J:B):J=B,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=J+re,R={id:v++,callback:ee,priorityLevel:R,startTime:J,expirationTime:re,sortIndex:-1},J>B?(R.sortIndex=J,l(x,R),i(b)===null&&R===i(x)&&(k?(C(Z),Z=-1):k=!0,se(X,J-B))):(R.sortIndex=re,l(b,R),N||E||(N=!0,I||(I=!0,te()))),R},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(R){var ee=S;return function(){var J=S;S=ee;try{return R.apply(this,arguments)}finally{S=J}}}})(ru)),ru}var np;function e2(){return np||(np=1,lu.exports=Wy()),lu.exports}var iu={exports:{}},_t={};var lp;function t2(){if(lp)return _t;lp=1;var s=_u();function l(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)x+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(l(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(b,x,v){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:h==null?null:""+h,children:b,containerInfo:x,implementation:v}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(b,x){if(b==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,_t.createPortal=function(b,x){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(l(299));return f(b,x,null,v)},_t.flushSync=function(b){var x=m.T,v=o.p;try{if(m.T=null,o.p=2,b)return b()}finally{m.T=x,o.p=v,o.d.f()}},_t.preconnect=function(b,x){typeof b=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,o.d.C(b,x))},_t.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},_t.preinit=function(b,x){if(typeof b=="string"&&x&&typeof x.as=="string"){var v=x.as,h=g(v,x.crossOrigin),S=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;v==="style"?o.d.S(b,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:h,integrity:S,fetchPriority:E}):v==="script"&&o.d.X(b,{crossOrigin:h,integrity:S,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},_t.preinitModule=function(b,x){if(typeof b=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var v=g(x.as,x.crossOrigin);o.d.M(b,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&o.d.M(b)},_t.preload=function(b,x){if(typeof b=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var v=x.as,h=g(v,x.crossOrigin);o.d.L(b,v,{crossOrigin:h,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},_t.preloadModule=function(b,x){if(typeof b=="string")if(x){var v=g(x.as,x.crossOrigin);o.d.m(b,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else o.d.m(b)},_t.requestFormReset=function(b){o.d.r(b)},_t.unstable_batchedUpdates=function(b,x){return b(x)},_t.useFormState=function(b,x,v){return m.H.useFormState(b,x,v)},_t.useFormStatus=function(){return m.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var rp;function Zp(){if(rp)return iu.exports;rp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),iu.exports=t2(),iu.exports}var ip;function a2(){if(ip)return Lr;ip=1;var s=e2(),l=_u(),i=Zp();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){n=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return b(c),e;if(u===r)return b(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==r.return)n=c,r=u;else{for(var p=!1,w=c.child;w;){if(w===n){p=!0,n=c,r=u;break}if(w===r){p=!0,r=c,n=u;break}w=w.sibling}if(!p){for(w=u.child;w;){if(w===n){p=!0,n=u,r=c;break}if(w===r){p=!0,r=u,n=c;break}w=w.sibling}if(!p)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),z=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case T:return"Profiler";case j:return"StrictMode";case X:return"Suspense";case I:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case z:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}var se=Array.isArray,R=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},B=[],re=-1;function A(e){return{current:e}}function L(e){0>re||(e.current=B[re],B[re]=null,re--)}function P(e,t){re++,B[re]=e.current,e.current=t}var F=A(null),de=A(null),be=A(null),Ee=A(null);function Se(e,t){switch(P(be,t),P(de,e),P(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jh(t),e=kh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(F),P(F,e)}function He(){L(F),L(de),L(be)}function ha(e){e.memoizedState!==null&&P(Ee,e);var t=F.current,n=kh(t,e.type);t!==n&&(P(de,e),P(F,n))}function Ea(e){de.current===e&&(L(F),L(de)),Ee.current===e&&(L(Ee),Sr._currentValue=J)}var Dt,ys;function xt(e){if(Dt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dt=t&&t[1]||"",ys=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+e+ys}var vs=!1;function ws(e,t){if(!e||vs)return"";vs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(G){var V=G}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(G){V=G}e.call(ae.prototype)}}else{try{throw Error()}catch(G){V=G}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(G){if(G&&V&&typeof G.stack=="string")return[G.stack,V.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),p=u[0],w=u[1];if(p&&w){var M=p.split(`
`),$=w.split(`
`);for(c=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;c<$.length&&!$[c].includes("DetermineComponentFrameRoot");)c++;if(r===M.length||c===$.length)for(r=M.length-1,c=$.length-1;1<=r&&0<=c&&M[r]!==$[c];)c--;for(;1<=r&&0<=c;r--,c--)if(M[r]!==$[c]){if(r!==1||c!==1)do if(r--,c--,0>c||M[r]!==$[c]){var Q=`
`+M[r].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=r&&0<=c);break}}}finally{vs=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xt(n):""}function Fa(e,t){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==t&&t!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return ws(e.type,!1);case 11:return ws(e.type.render,!1);case 1:return ws(e.type,!0);case 31:return xt("Activity");default:return""}}function Qa(e){try{var t="",n=null;do t+=Fa(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Bt=Object.prototype.hasOwnProperty,an=s.unstable_scheduleCallback,sn=s.unstable_cancelCallback,le=s.unstable_shouldYield,ht=s.unstable_requestPaint,gt=s.unstable_now,nn=s.unstable_getCurrentPriorityLevel,Tt=s.unstable_ImmediatePriority,js=s.unstable_UserBlockingPriority,Ge=s.unstable_NormalPriority,Za=s.unstable_LowPriority,aa=s.unstable_IdlePriority,On=s.log,Aa=s.unstable_setDisableYieldValue,ks=null,zt=null;function Ta(e){if(typeof On=="function"&&Aa(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(ks,e)}catch{}}var Lt=Math.clz32?Math.clz32:Ua,Yo=Math.log,Hl=Math.LN2;function Ua(e){return e>>>=0,e===0?32:31-(Yo(e)/Hl|0)|0}var Dn=256,Bn=262144,ln=4194304;function Ha(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~u,r!==0?c=Ha(r):(p&=w,p!==0?c=Ha(p):n||(n=w&~e,n!==0&&(c=Ha(n))))):(w=r&~u,w!==0?c=Ha(w):p!==0?c=Ha(p):n||(n=r&~e,n!==0&&(c=Ha(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function Ze(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var e=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),e}function Ns(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function et(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pt(e,t,n,r,c,u){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var w=e.entanglements,M=e.expirationTimes,$=e.hiddenUpdates;for(n=p&~n;0<n;){var Q=31-Lt(n),ae=1<<Q;w[Q]=0,M[Q]=-1;var V=$[Q];if(V!==null)for($[Q]=null,Q=0;Q<V.length;Q++){var G=V[Q];G!==null&&(G.lane&=-536870913)}n&=~ae}r!==0&&rn(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function rn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Lt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lt(n),c=1<<r;c&t|e[r]&t&&(e[r]|=t),n&=~c}}function It(e,t){var n=t&-t;return n=(n&42)!==0?1:zn(n),(n&(e.suspendedLanes|t))!==0?0:n}function zn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function La(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Go(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Gh(e.type))}function i0(e,t){var n=ee.p;try{return ee.p=e,t()}finally{ee.p=n}}var Ss=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ss,Yt="__reactProps$"+Ss,Un="__reactContainer$"+Ss,Xo="__reactEvents$"+Ss,Hg="__reactListeners$"+Ss,qg="__reactHandles$"+Ss,o0="__reactResources$"+Ss,ql="__reactMarker$"+Ss;function Ko(e){delete e[kt],delete e[Yt],delete e[Xo],delete e[Hg],delete e[qg]}function Hn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Un]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lh(e);e!==null;){if(n=e[kt])return n;e=Lh(e)}return t}e=n,n=e.parentNode}return null}function qn(e){if(e=e[kt]||e[Un]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $l(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function $n(e){var t=e[o0];return t||(t=e[o0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[ql]=!0}var c0=new Set,d0={};function on(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(d0[e]=t,e=0;e<t.length;e++)c0.add(t[e])}var $g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),u0={},f0={};function Pg(e){return Bt.call(f0,e)?!0:Bt.call(u0,e)?!1:$g.test(e)?f0[e]=!0:(u0[e]=!0,!1)}function Fr(e,t,n){if(Pg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Qr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ja(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function pa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function m0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vg(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){if(!e._valueTracker){var t=m0(e)?"checked":"value";e._valueTracker=Vg(e,t,""+e[t])}}function h0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=m0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ig=/[\n"\\]/g;function xa(e){return e.replace(Ig,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qo(e,t,n,r,c,u,p,w){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pa(t)):e.value!==""+pa(t)&&(e.value=""+pa(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Zo(e,p,pa(t)):n!=null?Zo(e,p,pa(n)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+pa(w):e.removeAttribute("name")}function p0(e,t,n,r,c,u,p,w){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Fo(e);return}n=n!=null?""+pa(n):"",t=t!=null?""+pa(t):n,w||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Fo(e)}function Zo(e,t,n){t==="number"&&Zr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Vn(e,t,n,r){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pa(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function x0(e,t,n){if(t!=null&&(t=""+pa(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+pa(n):""}function g0(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(o(92));if(se(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=pa(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Fo(e)}function In(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function b0(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Yg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function y0(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&n[c]!==r&&b0(e,c,r)}else for(var u in t)t.hasOwnProperty(u)&&b0(e,u,t[u])}function Jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return Xg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wa(){}var Wo=null;function ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yn=null,Gn=null;function v0(e){var t=qn(e);if(t&&(e=t.stateNode)){var n=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xa(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var c=r[Yt]||null;if(!c)throw Error(o(90));Qo(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&h0(r)}break e;case"textarea":x0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Vn(e,!!n.multiple,t,!1)}}}var tc=!1;function w0(e,t,n){if(tc)return e(t,n);tc=!0;try{var r=e(t);return r}finally{if(tc=!1,(Yn!==null||Gn!==null)&&(Hi(),Yn&&(t=Yn,e=Gn,Gn=Yn=null,v0(t),e)))for(t=0;t<e.length;t++)v0(e[t])}}function Pl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Yt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=!1;if(es)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){ac=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{ac=!1}var Cs=null,sc=null,Wr=null;function j0(){if(Wr)return Wr;var e,t=sc,n=t.length,r,c="value"in Cs?Cs.value:Cs.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(r=1;r<=p&&t[n-r]===c[u-r];r++);return Wr=c.slice(e,1<r?1-r:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function k0(){return!1}function Gt(e){function t(n,r,c,u,p){this._reactName=n,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ti:k0,this.isPropagationStopped=k0,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=Gt(cn),Il=h({},cn,{view:0,detail:0}),Kg=Gt(Il),nc,lc,Yl,si=h({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yl&&(Yl&&e.type==="mousemove"?(nc=e.screenX-Yl.screenX,lc=e.screenY-Yl.screenY):lc=nc=0,Yl=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),N0=Gt(si),Fg=h({},si,{dataTransfer:0}),Qg=Gt(Fg),Zg=h({},Il,{relatedTarget:0}),rc=Gt(Zg),Jg=h({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wg=Gt(Jg),eb=h({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tb=Gt(eb),ab=h({},cn,{data:0}),S0=Gt(ab),sb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lb[e])?!!t[e]:!1}function ic(){return rb}var ib=h({},Il,{key:function(e){if(e.key){var t=sb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ob=Gt(ib),cb=h({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C0=Gt(cb),db=h({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),ub=Gt(db),fb=h({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mb=Gt(fb),hb=h({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pb=Gt(hb),xb=h({},cn,{newState:0,oldState:0}),gb=Gt(xb),bb=[9,13,27,32],oc=es&&"CompositionEvent"in window,Gl=null;es&&"documentMode"in document&&(Gl=document.documentMode);var yb=es&&"TextEvent"in window&&!Gl,E0=es&&(!oc||Gl&&8<Gl&&11>=Gl),A0=" ",T0=!1;function L0(e,t){switch(e){case"keyup":return bb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function vb(e,t){switch(e){case"compositionend":return M0(t);case"keypress":return t.which!==32?null:(T0=!0,A0);case"textInput":return e=t.data,e===A0&&T0?null:e;default:return null}}function wb(e,t){if(Xn)return e==="compositionend"||!oc&&L0(e,t)?(e=j0(),Wr=sc=Cs=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return E0&&t.locale!=="ko"?null:t.data;default:return null}}var jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jb[e.type]:t==="textarea"}function R0(e,t,n,r){Yn?Gn?Gn.push(r):Gn=[r]:Yn=r,t=Gi(t,"onChange"),0<t.length&&(n=new ai("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xl=null,Kl=null;function kb(e){xh(e,0)}function ni(e){var t=$l(e);if(h0(t))return e}function O0(e,t){if(e==="change")return t}var D0=!1;if(es){var cc;if(es){var dc="oninput"in document;if(!dc){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),dc=typeof B0.oninput=="function"}cc=dc}else cc=!1;D0=cc&&(!document.documentMode||9<document.documentMode)}function z0(){Xl&&(Xl.detachEvent("onpropertychange",U0),Kl=Xl=null)}function U0(e){if(e.propertyName==="value"&&ni(Kl)){var t=[];R0(t,Kl,e,ec(e)),w0(kb,t)}}function Nb(e,t,n){e==="focusin"?(z0(),Xl=t,Kl=n,Xl.attachEvent("onpropertychange",U0)):e==="focusout"&&z0()}function Sb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(Kl)}function Cb(e,t){if(e==="click")return ni(t)}function Eb(e,t){if(e==="input"||e==="change")return ni(t)}function Ab(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:Ab;function Fl(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var c=n[r];if(!Bt.call(t,c)||!sa(e[c],t[c]))return!1}return!0}function H0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q0(e,t){var n=H0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H0(n)}}function $0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zr(e.document)}return t}function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tb=es&&"documentMode"in document&&11>=document.documentMode,Kn=null,fc=null,Ql=null,mc=!1;function V0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mc||Kn==null||Kn!==Zr(r)||(r=Kn,"selectionStart"in r&&uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ql&&Fl(Ql,r)||(Ql=r,r=Gi(fc,"onSelect"),0<r.length&&(t=new ai("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Kn)))}function dn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},hc={},I0={};es&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function un(e){if(hc[e])return hc[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in I0)return hc[e]=t[n];return e}var Y0=un("animationend"),G0=un("animationiteration"),X0=un("animationstart"),Lb=un("transitionrun"),Mb=un("transitionstart"),_b=un("transitioncancel"),K0=un("transitionend"),F0=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function Ma(e,t){F0.set(e,t),on(t,[e])}var li=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ga=[],Qn=0,xc=0;function ri(){for(var e=Qn,t=xc=Qn=0;t<e;){var n=ga[t];ga[t++]=null;var r=ga[t];ga[t++]=null;var c=ga[t];ga[t++]=null;var u=ga[t];if(ga[t++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}u!==0&&Q0(n,c,u)}}function ii(e,t,n,r){ga[Qn++]=e,ga[Qn++]=t,ga[Qn++]=n,ga[Qn++]=r,xc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function gc(e,t,n,r){return ii(e,t,n,r),oi(e)}function fn(e,t){return ii(e,null,null,t),oi(e)}function Q0(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,r=u.alternate,r!==null&&(r.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-Lt(n),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=n|536870912),u):null}function oi(e){if(50<br)throw br=0,Cd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Zn={};function Rb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,t,n,r){return new Rb(e,t,n,r)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ts(e,t){var n=e.alternate;return n===null?(n=na(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Z0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,n,r,c,u){var p=0;if(r=e,typeof e=="function")bc(e)&&(p=1);else if(typeof e=="string")p=Uy(e,n,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=na(31,n,t,c),e.elementType=ie,e.lanes=u,e;case k:return mn(n.children,c,u,t);case j:p=8,c|=24;break;case T:return e=na(12,n,t,c|2),e.elementType=T,e.lanes=u,e;case X:return e=na(13,n,t,c),e.elementType=X,e.lanes=u,e;case I:return e=na(19,n,t,c),e.elementType=I,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:p=10;break e;case C:p=9;break e;case O:p=11;break e;case Z:p=14;break e;case ue:p=16,r=null;break e}p=29,n=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=na(p,n,t,c),t.elementType=e,t.type=r,t.lanes=u,t}function mn(e,t,n,r){return e=na(7,e,r,t),e.lanes=n,e}function yc(e,t,n){return e=na(6,e,null,t),e.lanes=n,e}function J0(e){var t=na(18,null,null,0);return t.stateNode=e,t}function vc(e,t,n){return t=na(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var W0=new WeakMap;function ba(e,t){if(typeof e=="object"&&e!==null){var n=W0.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qa(t)},W0.set(e,t),t)}return{value:e,source:t,stack:Qa(t)}}var Jn=[],Wn=0,di=null,Zl=0,ya=[],va=0,Es=null,qa=1,$a="";function as(e,t){Jn[Wn++]=Zl,Jn[Wn++]=di,di=e,Zl=t}function ef(e,t,n){ya[va++]=qa,ya[va++]=$a,ya[va++]=Es,Es=e;var r=qa;e=$a;var c=32-Lt(r)-1;r&=~(1<<c),n+=1;var u=32-Lt(t)+c;if(30<u){var p=c-c%5;u=(r&(1<<p)-1).toString(32),r>>=p,c-=p,qa=1<<32-Lt(t)+c|n<<c|r,$a=u+e}else qa=1<<u|n<<c|r,$a=e}function wc(e){e.return!==null&&(as(e,1),ef(e,1,0))}function jc(e){for(;e===di;)di=Jn[--Wn],Jn[Wn]=null,Zl=Jn[--Wn],Jn[Wn]=null;for(;e===Es;)Es=ya[--va],ya[va]=null,$a=ya[--va],ya[va]=null,qa=ya[--va],ya[va]=null}function tf(e,t){ya[va++]=qa,ya[va++]=$a,ya[va++]=Es,qa=t.id,$a=t.overflow,Es=e}var Nt=null,Ke=null,Re=!1,As=null,wa=!1,kc=Error(o(519));function Ts(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(ba(t,e)),kc}function af(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[kt]=e,t[Yt]=r,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<vr.length;n++)Te(vr[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),p0(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),g0(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||vh(t.textContent,n)?(r.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),r.onScroll!=null&&Te("scroll",t),r.onScrollEnd!=null&&Te("scrollend",t),r.onClick!=null&&(t.onclick=Wa),t=!0):t=!1,t||Ts(e,!0)}function sf(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:Nt=Nt.return}}function el(e){if(e!==Nt)return!1;if(!Re)return sf(e),Re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$d(e.type,e.memoizedProps)),n=!n),n&&Ke&&Ts(e),sf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=Th(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=Th(e)}else t===27?(t=Ke,Vs(e.type)?(e=Gd,Gd=null,Ke=e):Ke=t):Ke=Nt?ka(e.stateNode.nextSibling):null;return!0}function hn(){Ke=Nt=null,Re=!1}function Nc(){var e=As;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),As=null),e}function Jl(e){As===null?As=[e]:As.push(e)}var Sc=A(null),pn=null,ss=null;function Ls(e,t,n){P(Sc,t._currentValue),t._currentValue=n}function ns(e){e._currentValue=Sc.current,L(Sc)}function Cc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ec(e,t,n,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var p=c.child;u=u.firstContext;e:for(;u!==null;){var w=u;u=c;for(var M=0;M<t.length;M++)if(w.context===t[M]){u.lanes|=n,w=u.alternate,w!==null&&(w.lanes|=n),Cc(u.return,n,e),r||(p=null);break e}u=w.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=n,u=p.alternate,u!==null&&(u.lanes|=n),Cc(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function tl(e,t,n,r){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var w=c.type;sa(c.pendingProps.value,p.value)||(e!==null?e.push(w):e=[w])}}else if(c===Ee.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Sr):e=[Sr])}c=c.return}e!==null&&Ec(t,e,n,r),t.flags|=262144}function ui(e){for(e=e.firstContext;e!==null;){if(!sa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xn(e){pn=e,ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return nf(pn,e)}function fi(e,t){return pn===null&&xn(e),nf(e,t)}function nf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ss===null){if(e===null)throw Error(o(308));ss=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ss=ss.next=t;return n}var Ob=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Db=s.unstable_scheduleCallback,Bb=s.unstable_NormalPriority,ct={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new Ob,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&Db(Bb,function(){e.controller.abort()})}var er=null,Tc=0,al=0,sl=null;function zb(e,t){if(er===null){var n=er=[];Tc=0,al=_d(),sl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Tc++,t.then(lf,lf),t}function lf(){if(--Tc===0&&er!==null){sl!==null&&(sl.status="fulfilled");var e=er;er=null,al=0,sl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ub(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),r}var rf=R.S;R.S=function(e,t){Im=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zb(e,t),rf!==null&&rf(e,t)};var gn=A(null);function Lc(){var e=gn.current;return e!==null?e:Ye.pooledCache}function mi(e,t){t===null?P(gn,gn.current):P(gn,t.pool)}function of(){var e=Lc();return e===null?null:{parent:ct._currentValue,pool:e}}var nl=Error(o(460)),Mc=Error(o(474)),hi=Error(o(542)),pi={then:function(){}};function cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function df(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wa,Wa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ff(e),e;default:if(typeof t.status=="string")t.then(Wa,Wa);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ff(e),e}throw yn=t,nl}}function bn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(yn=n,nl):n}}var yn=null;function uf(){if(yn===null)throw Error(o(459));var e=yn;return yn=null,e}function ff(e){if(e===nl||e===hi)throw Error(o(483))}var ll=null,tr=0;function xi(e){var t=tr;return tr+=1,ll===null&&(ll=[]),df(ll,e,t)}function ar(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gi(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function mf(e){function t(D,_){if(e){var q=D.deletions;q===null?(D.deletions=[_],D.flags|=16):q.push(_)}}function n(D,_){if(!e)return null;for(;_!==null;)t(D,_),_=_.sibling;return null}function r(D){for(var _=new Map;D!==null;)D.key!==null?_.set(D.key,D):_.set(D.index,D),D=D.sibling;return _}function c(D,_){return D=ts(D,_),D.index=0,D.sibling=null,D}function u(D,_,q){return D.index=q,e?(q=D.alternate,q!==null?(q=q.index,q<_?(D.flags|=67108866,_):q):(D.flags|=67108866,_)):(D.flags|=1048576,_)}function p(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function w(D,_,q,W){return _===null||_.tag!==6?(_=yc(q,D.mode,W),_.return=D,_):(_=c(_,q),_.return=D,_)}function M(D,_,q,W){var ge=q.type;return ge===k?Q(D,_,q.props.children,W,q.key):_!==null&&(_.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ue&&bn(ge)===_.type)?(_=c(_,q.props),ar(_,q),_.return=D,_):(_=ci(q.type,q.key,q.props,null,D.mode,W),ar(_,q),_.return=D,_)}function $(D,_,q,W){return _===null||_.tag!==4||_.stateNode.containerInfo!==q.containerInfo||_.stateNode.implementation!==q.implementation?(_=vc(q,D.mode,W),_.return=D,_):(_=c(_,q.children||[]),_.return=D,_)}function Q(D,_,q,W,ge){return _===null||_.tag!==7?(_=mn(q,D.mode,W,ge),_.return=D,_):(_=c(_,q),_.return=D,_)}function ae(D,_,q){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=yc(""+_,D.mode,q),_.return=D,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return q=ci(_.type,_.key,_.props,null,D.mode,q),ar(q,_),q.return=D,q;case N:return _=vc(_,D.mode,q),_.return=D,_;case ue:return _=bn(_),ae(D,_,q)}if(se(_)||te(_))return _=mn(_,D.mode,q,null),_.return=D,_;if(typeof _.then=="function")return ae(D,xi(_),q);if(_.$$typeof===z)return ae(D,fi(D,_),q);gi(D,_)}return null}function V(D,_,q,W){var ge=_!==null?_.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(D,_,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return q.key===ge?M(D,_,q,W):null;case N:return q.key===ge?$(D,_,q,W):null;case ue:return q=bn(q),V(D,_,q,W)}if(se(q)||te(q))return ge!==null?null:Q(D,_,q,W,null);if(typeof q.then=="function")return V(D,_,xi(q),W);if(q.$$typeof===z)return V(D,_,fi(D,q),W);gi(D,q)}return null}function G(D,_,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return D=D.get(q)||null,w(_,D,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return D=D.get(W.key===null?q:W.key)||null,M(_,D,W,ge);case N:return D=D.get(W.key===null?q:W.key)||null,$(_,D,W,ge);case ue:return W=bn(W),G(D,_,q,W,ge)}if(se(W)||te(W))return D=D.get(q)||null,Q(_,D,W,ge,null);if(typeof W.then=="function")return G(D,_,q,xi(W),ge);if(W.$$typeof===z)return G(D,_,q,fi(_,W),ge);gi(_,W)}return null}function he(D,_,q,W){for(var ge=null,Oe=null,pe=_,Ce=_=0,_e=null;pe!==null&&Ce<q.length;Ce++){pe.index>Ce?(_e=pe,pe=null):_e=pe.sibling;var De=V(D,pe,q[Ce],W);if(De===null){pe===null&&(pe=_e);break}e&&pe&&De.alternate===null&&t(D,pe),_=u(De,_,Ce),Oe===null?ge=De:Oe.sibling=De,Oe=De,pe=_e}if(Ce===q.length)return n(D,pe),Re&&as(D,Ce),ge;if(pe===null){for(;Ce<q.length;Ce++)pe=ae(D,q[Ce],W),pe!==null&&(_=u(pe,_,Ce),Oe===null?ge=pe:Oe.sibling=pe,Oe=pe);return Re&&as(D,Ce),ge}for(pe=r(pe);Ce<q.length;Ce++)_e=G(pe,D,Ce,q[Ce],W),_e!==null&&(e&&_e.alternate!==null&&pe.delete(_e.key===null?Ce:_e.key),_=u(_e,_,Ce),Oe===null?ge=_e:Oe.sibling=_e,Oe=_e);return e&&pe.forEach(function(Ks){return t(D,Ks)}),Re&&as(D,Ce),ge}function ye(D,_,q,W){if(q==null)throw Error(o(151));for(var ge=null,Oe=null,pe=_,Ce=_=0,_e=null,De=q.next();pe!==null&&!De.done;Ce++,De=q.next()){pe.index>Ce?(_e=pe,pe=null):_e=pe.sibling;var Ks=V(D,pe,De.value,W);if(Ks===null){pe===null&&(pe=_e);break}e&&pe&&Ks.alternate===null&&t(D,pe),_=u(Ks,_,Ce),Oe===null?ge=Ks:Oe.sibling=Ks,Oe=Ks,pe=_e}if(De.done)return n(D,pe),Re&&as(D,Ce),ge;if(pe===null){for(;!De.done;Ce++,De=q.next())De=ae(D,De.value,W),De!==null&&(_=u(De,_,Ce),Oe===null?ge=De:Oe.sibling=De,Oe=De);return Re&&as(D,Ce),ge}for(pe=r(pe);!De.done;Ce++,De=q.next())De=G(pe,D,Ce,De.value,W),De!==null&&(e&&De.alternate!==null&&pe.delete(De.key===null?Ce:De.key),_=u(De,_,Ce),Oe===null?ge=De:Oe.sibling=De,Oe=De);return e&&pe.forEach(function(Fy){return t(D,Fy)}),Re&&as(D,Ce),ge}function Ie(D,_,q,W){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case E:e:{for(var ge=q.key;_!==null;){if(_.key===ge){if(ge=q.type,ge===k){if(_.tag===7){n(D,_.sibling),W=c(_,q.props.children),W.return=D,D=W;break e}}else if(_.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ue&&bn(ge)===_.type){n(D,_.sibling),W=c(_,q.props),ar(W,q),W.return=D,D=W;break e}n(D,_);break}else t(D,_);_=_.sibling}q.type===k?(W=mn(q.props.children,D.mode,W,q.key),W.return=D,D=W):(W=ci(q.type,q.key,q.props,null,D.mode,W),ar(W,q),W.return=D,D=W)}return p(D);case N:e:{for(ge=q.key;_!==null;){if(_.key===ge)if(_.tag===4&&_.stateNode.containerInfo===q.containerInfo&&_.stateNode.implementation===q.implementation){n(D,_.sibling),W=c(_,q.children||[]),W.return=D,D=W;break e}else{n(D,_);break}else t(D,_);_=_.sibling}W=vc(q,D.mode,W),W.return=D,D=W}return p(D);case ue:return q=bn(q),Ie(D,_,q,W)}if(se(q))return he(D,_,q,W);if(te(q)){if(ge=te(q),typeof ge!="function")throw Error(o(150));return q=ge.call(q),ye(D,_,q,W)}if(typeof q.then=="function")return Ie(D,_,xi(q),W);if(q.$$typeof===z)return Ie(D,_,fi(D,q),W);gi(D,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,_!==null&&_.tag===6?(n(D,_.sibling),W=c(_,q),W.return=D,D=W):(n(D,_),W=yc(q,D.mode,W),W.return=D,D=W),p(D)):n(D,_)}return function(D,_,q,W){try{tr=0;var ge=Ie(D,_,q,W);return ll=null,ge}catch(pe){if(pe===nl||pe===hi)throw pe;var Oe=na(29,pe,null,D.mode);return Oe.lanes=W,Oe.return=D,Oe}}}var vn=mf(!0),hf=mf(!1),Ms=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Be&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=oi(e),Q0(e,null,n),t}return ii(e,r,t,n),oi(e)}function sr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vt(e,n)}}function Oc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Dc=!1;function nr(){if(Dc){var e=sl;if(e!==null)throw e}}function lr(e,t,n,r){Dc=!1;var c=e.updateQueue;Ms=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var M=w,$=M.next;M.next=null,p===null?u=$:p.next=$,p=M;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==p&&(w===null?Q.firstBaseUpdate=$:w.next=$,Q.lastBaseUpdate=M))}if(u!==null){var ae=c.baseState;p=0,Q=$=M=null,w=u;do{var V=w.lane&-536870913,G=V!==w.lane;if(G?(Me&V)===V:(r&V)===V){V!==0&&V===al&&(Dc=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=e,ye=w;V=t;var Ie=n;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){ae=he.call(Ie,ae,V);break e}ae=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,V=typeof he=="function"?he.call(Ie,ae,V):he,V==null)break e;ae=h({},ae,V);break e;case 2:Ms=!0}}V=w.callback,V!==null&&(e.flags|=64,G&&(e.flags|=8192),G=c.callbacks,G===null?c.callbacks=[V]:G.push(V))}else G={lane:V,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?($=Q=G,M=ae):Q=Q.next=G,p|=V;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;G=w,w=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);Q===null&&(M=ae),c.baseState=M,c.firstBaseUpdate=$,c.lastBaseUpdate=Q,u===null&&(c.shared.lanes=0),Us|=p,e.lanes=p,e.memoizedState=ae}}function pf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function xf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)pf(n[e],t)}var rl=A(null),bi=A(0);function gf(e,t){e=ms,P(bi,e),P(rl,t),ms=e|t.baseLanes}function Bc(){P(bi,ms),P(rl,rl.current)}function zc(){ms=bi.current,L(rl),L(bi)}var la=A(null),ja=null;function Os(e){var t=e.alternate;P(st,st.current&1),P(la,e),ja===null&&(t===null||rl.current!==null||t.memoizedState!==null)&&(ja=e)}function Uc(e){P(st,st.current),P(la,e),ja===null&&(ja=e)}function bf(e){e.tag===22?(P(st,st.current),P(la,e),ja===null&&(ja=e)):Ds()}function Ds(){P(st,st.current),P(la,la.current)}function ra(e){L(la),ja===e&&(ja=null),L(st)}var st=A(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Id(n)||Yd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=0,ke=null,Pe=null,dt=null,vi=!1,il=!1,wn=!1,wi=0,rr=0,ol=null,Hb=0;function tt(){throw Error(o(321))}function Hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sa(e[n],t[n]))return!1;return!0}function qc(e,t,n,r,c,u){return ls=u,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?tm:td,wn=!1,u=n(r,c),wn=!1,il&&(u=vf(t,n,r,c)),yf(e),u}function yf(e){R.H=cr;var t=Pe!==null&&Pe.next!==null;if(ls=0,dt=Pe=ke=null,vi=!1,rr=0,ol=null,t)throw Error(o(300));e===null||ut||(e=e.dependencies,e!==null&&ui(e)&&(ut=!0))}function vf(e,t,n,r){ke=e;var c=0;do{if(il&&(ol=null),rr=0,il=!1,25<=c)throw Error(o(301));if(c+=1,dt=Pe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=am,u=t(n,r)}while(il);return u}function qb(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?ir(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(ke.flags|=1024),t}function $c(){var e=wi!==0;return wi=0,e}function Pc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vc(e){if(vi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vi=!1}ls=0,dt=Pe=ke=null,il=!1,rr=wi=0,ol=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?ke.memoizedState=dt=e:dt=dt.next=e,dt}function nt(){if(Pe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=dt===null?ke.memoizedState:dt.next;if(t!==null)dt=t,Pe=e;else{if(e===null)throw ke.alternate===null?Error(o(467)):Error(o(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},dt===null?ke.memoizedState=dt=e:dt=dt.next=e}return dt}function ji(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ir(e){var t=rr;return rr+=1,ol===null&&(ol=[]),e=df(ol,e,t),t=ke,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?tm:td),e}function ki(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ir(e);if(e.$$typeof===z)return St(e)}throw Error(o(438,String(e)))}function Ic(e){var t=null,n=ke.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ke.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ji(),ke.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=U;return t.index++,n}function rs(e,t){return typeof t=="function"?t(e):t}function Ni(e){var t=nt();return Yc(t,Pe,e)}function Yc(e,t,n){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=n;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}t.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var w=p=null,M=null,$=t,Q=!1;do{var ae=$.lane&-536870913;if(ae!==$.lane?(Me&ae)===ae:(ls&ae)===ae){var V=$.revertLane;if(V===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ae===al&&(Q=!0);else if((ls&V)===V){$=$.next,V===al&&(Q=!0);continue}else ae={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(w=M=ae,p=u):M=M.next=ae,ke.lanes|=V,Us|=V;ae=$.action,wn&&n(u,ae),u=$.hasEagerState?$.eagerState:n(u,ae)}else V={lane:ae,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(w=M=V,p=u):M=M.next=V,ke.lanes|=ae,Us|=ae;$=$.next}while($!==null&&$!==t);if(M===null?p=u:M.next=w,!sa(u,e.memoizedState)&&(ut=!0,Q&&(n=sl,n!==null)))throw n;e.memoizedState=u,e.baseState=p,e.baseQueue=M,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gc(e){var t=nt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do u=e(u,p.action),p=p.next;while(p!==c);sa(u,t.memoizedState)||(ut=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function wf(e,t,n){var r=ke,c=nt(),u=Re;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var p=!sa((Pe||c).memoizedState,n);if(p&&(c.memoizedState=n,ut=!0),c=c.queue,Fc(Nf.bind(null,r,c,e),[e]),c.getSnapshot!==t||p||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,cl(9,{destroy:void 0},kf.bind(null,r,c,n,t),null),Ye===null)throw Error(o(349));u||(ls&127)!==0||jf(r,t,n)}return n}function jf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t=ji(),ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kf(e,t,n,r){t.value=n,t.getSnapshot=r,Sf(t)&&Cf(e)}function Nf(e,t,n){return n(function(){Sf(t)&&Cf(e)})}function Sf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sa(e,n)}catch{return!0}}function Cf(e){var t=fn(e,2);t!==null&&Zt(t,e,2)}function Xc(e){var t=Ut();if(typeof e=="function"){var n=e;if(e=n(),wn){Ta(!0);try{n()}finally{Ta(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},t}function Ef(e,t,n,r){return e.baseState=n,Yc(e,Pe,typeof r=="function"?r:rs)}function $b(e,t,n,r,c){if(Ei(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};R.T!==null?n(!0):u.isTransition=!1,r(u),n=t.pending,n===null?(u.next=t.pending=u,Af(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Af(e,t){var n=t.action,r=t.payload,c=e.state;if(t.isTransition){var u=R.T,p={};R.T=p;try{var w=n(c,r),M=R.S;M!==null&&M(p,w),Tf(e,t,w)}catch($){Kc(e,t,$)}finally{u!==null&&p.types!==null&&(u.types=p.types),R.T=u}}else try{u=n(c,r),Tf(e,t,u)}catch($){Kc(e,t,$)}}function Tf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Lf(e,t,r)},function(r){return Kc(e,t,r)}):Lf(e,t,n)}function Lf(e,t,n){t.status="fulfilled",t.value=n,Mf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Af(e,n)))}function Kc(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Mf(t),t=t.next;while(t!==r)}e.action=null}function Mf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _f(e,t){return t}function Rf(e,t){if(Re){var n=Ye.formState;if(n!==null){e:{var r=ke;if(Re){if(Ke){t:{for(var c=Ke,u=wa;c.nodeType!==8;){if(!u){c=null;break t}if(c=ka(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){Ke=ka(c.nextSibling),r=c.data==="F!";break e}}Ts(r)}r=!1}r&&(t=n[0])}}return n=Ut(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:t},n.queue=r,n=Jf.bind(null,ke,r),r.dispatch=n,r=Xc(!1),u=ed.bind(null,ke,!1,r.queue),r=Ut(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,n=$b.bind(null,ke,c,u,n),c.dispatch=n,r.memoizedState=e,[t,n,!1]}function Of(e){var t=nt();return Df(t,Pe,e)}function Df(e,t,n){if(t=Yc(e,t,_f)[0],e=Ni(rs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ir(t)}catch(p){throw p===nl?hi:p}else r=t;t=nt();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(ke.flags|=2048,cl(9,{destroy:void 0},Pb.bind(null,c,n),null)),[r,u,e]}function Pb(e,t){e.action=t}function Bf(e){var t=nt(),n=Pe;if(n!==null)return Df(t,n,e);nt(),t=t.memoizedState,n=nt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function cl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ke.updateQueue,t===null&&(t=ji(),ke.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zf(){return nt().memoizedState}function Si(e,t,n,r){var c=Ut();ke.flags|=e,c.memoizedState=cl(1|t,{destroy:void 0},n,r===void 0?null:r)}function Ci(e,t,n,r){var c=nt();r=r===void 0?null:r;var u=c.memoizedState.inst;Pe!==null&&r!==null&&Hc(r,Pe.memoizedState.deps)?c.memoizedState=cl(t,u,n,r):(ke.flags|=e,c.memoizedState=cl(1|t,u,n,r))}function Uf(e,t){Si(8390656,8,e,t)}function Fc(e,t){Ci(2048,8,e,t)}function Vb(e){ke.flags|=4;var t=ke.updateQueue;if(t===null)t=ji(),ke.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Hf(e){var t=nt().memoizedState;return Vb({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function qf(e,t){return Ci(4,2,e,t)}function $f(e,t){return Ci(4,4,e,t)}function Pf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,n){n=n!=null?n.concat([e]):null,Ci(4,4,Pf.bind(null,t,e),n)}function Qc(){}function If(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Hc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yf(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Hc(t,r[1]))return r[0];if(r=e(),wn){Ta(!0);try{e()}finally{Ta(!1)}}return n.memoizedState=[r,t],r}function Zc(e,t,n){return n===void 0||(ls&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Gm(),ke.lanes|=e,Us|=e,n)}function Gf(e,t,n,r){return sa(n,t)?n:rl.current!==null?(e=Zc(e,n,r),sa(e,t)||(ut=!0),e):(ls&42)===0||(ls&1073741824)!==0&&(Me&261930)===0?(ut=!0,e.memoizedState=n):(e=Gm(),ke.lanes|=e,Us|=e,t)}function Xf(e,t,n,r,c){var u=ee.p;ee.p=u!==0&&8>u?u:8;var p=R.T,w={};R.T=w,ed(e,!1,t,n);try{var M=c(),$=R.S;if($!==null&&$(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=Ub(M,r);or(e,t,Q,ca(e))}else or(e,t,r,ca(e))}catch(ae){or(e,t,{then:function(){},status:"rejected",reason:ae},ca())}finally{ee.p=u,p!==null&&w.types!==null&&(p.types=w.types),R.T=p}}function Ib(){}function Jc(e,t,n,r){if(e.tag!==5)throw Error(o(476));var c=Kf(e).queue;Xf(e,c,t,J,n===null?Ib:function(){return Ff(e),n(r)})}function Kf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:J},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ff(e){var t=Kf(e);t.next===null&&(t=e.alternate.memoizedState),or(e,t.next.queue,{},ca())}function Wc(){return St(Sr)}function Qf(){return nt().memoizedState}function Zf(){return nt().memoizedState}function Yb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ca();e=_s(n);var r=Rs(t,e,n);r!==null&&(Zt(r,t,n),sr(r,t,n)),t={cache:Ac()},e.payload=t;return}t=t.return}}function Gb(e,t,n){var r=ca();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ei(e)?Wf(t,n):(n=gc(e,t,n,r),n!==null&&(Zt(n,e,r),em(n,t,r)))}function Jf(e,t,n){var r=ca();or(e,t,n,r)}function or(e,t,n,r){var c={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ei(e))Wf(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,w=u(p,n);if(c.hasEagerState=!0,c.eagerState=w,sa(w,p))return ii(e,t,c,0),Ye===null&&ri(),!1}catch{}if(n=gc(e,t,c,r),n!==null)return Zt(n,e,r),em(n,t,r),!0}return!1}function ed(e,t,n,r){if(r={lane:2,revertLane:_d(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ei(e)){if(t)throw Error(o(479))}else t=gc(e,n,r,2),t!==null&&Zt(t,e,2)}function Ei(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Wf(e,t){il=vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function em(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vt(e,n)}}var cr={readContext:St,use:ki,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};cr.useEffectEvent=tt;var tm={readContext:St,use:ki,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Uf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Si(4194308,4,Pf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Si(4194308,4,e,t)},useInsertionEffect:function(e,t){Si(4,2,e,t)},useMemo:function(e,t){var n=Ut();t=t===void 0?null:t;var r=e();if(wn){Ta(!0);try{e()}finally{Ta(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ut();if(n!==void 0){var c=n(t);if(wn){Ta(!0);try{n(t)}finally{Ta(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Gb.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Xc(e);var t=e.queue,n=Jf.bind(null,ke,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qc,useDeferredValue:function(e,t){var n=Ut();return Zc(n,e,t)},useTransition:function(){var e=Xc(!1);return e=Xf.bind(null,ke,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ke,c=Ut();if(Re){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ye===null)throw Error(o(349));(Me&127)!==0||jf(r,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,Uf(Nf.bind(null,r,u,e),[e]),r.flags|=2048,cl(9,{destroy:void 0},kf.bind(null,r,u,n,t),null),n},useId:function(){var e=Ut(),t=Ye.identifierPrefix;if(Re){var n=$a,r=qa;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=wi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Hb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wc,useFormState:Rf,useActionState:Rf,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ed.bind(null,ke,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ic,useCacheRefresh:function(){return Ut().memoizedState=Yb.bind(null,ke)},useEffectEvent:function(e){var t=Ut(),n={impl:e};return t.memoizedState=n,function(){if((Be&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},td={readContext:St,use:ki,useCallback:If,useContext:St,useEffect:Fc,useImperativeHandle:Vf,useInsertionEffect:qf,useLayoutEffect:$f,useMemo:Yf,useReducer:Ni,useRef:zf,useState:function(){return Ni(rs)},useDebugValue:Qc,useDeferredValue:function(e,t){var n=nt();return Gf(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Ni(rs)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:ir(e),t]},useSyncExternalStore:wf,useId:Qf,useHostTransitionStatus:Wc,useFormState:Of,useActionState:Of,useOptimistic:function(e,t){var n=nt();return Ef(n,Pe,e,t)},useMemoCache:Ic,useCacheRefresh:Zf};td.useEffectEvent=Hf;var am={readContext:St,use:ki,useCallback:If,useContext:St,useEffect:Fc,useImperativeHandle:Vf,useInsertionEffect:qf,useLayoutEffect:$f,useMemo:Yf,useReducer:Gc,useRef:zf,useState:function(){return Gc(rs)},useDebugValue:Qc,useDeferredValue:function(e,t){var n=nt();return Pe===null?Zc(n,e,t):Gf(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Gc(rs)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:ir(e),t]},useSyncExternalStore:wf,useId:Qf,useHostTransitionStatus:Wc,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,t){var n=nt();return Pe!==null?Ef(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Zf};am.useEffectEvent=Hf;function ad(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sd={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ca(),c=_s(r);c.payload=t,n!=null&&(c.callback=n),t=Rs(e,c,r),t!==null&&(Zt(t,e,r),sr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ca(),c=_s(r);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Rs(e,c,r),t!==null&&(Zt(t,e,r),sr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ca(),r=_s(n);r.tag=2,t!=null&&(r.callback=t),t=Rs(e,r,n),t!==null&&(Zt(t,e,n),sr(t,e,n))}};function sm(e,t,n,r,c,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,p):t.prototype&&t.prototype.isPureReactComponent?!Fl(n,r)||!Fl(c,u):!0}function nm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function jn(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=h({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function lm(e){li(e)}function rm(e){console.error(e)}function im(e){li(e)}function Ai(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function om(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nd(e,t,n){return n=_s(n),n.tag=3,n.payload={element:null},n.callback=function(){Ai(e,t)},n}function cm(e){return e=_s(e),e.tag=3,e}function dm(e,t,n,r){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){om(t,n,r)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){om(t,n,r),typeof c!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function Xb(e,t,n,r,c){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&tl(t,n,c,!0),n=la.current,n!==null){switch(n.tag){case 31:case 13:return ja===null?qi():n.alternate===null&&at===0&&(at=3),n.flags&=-257,n.flags|=65536,n.lanes=c,r===pi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Td(e,r,c)),!1;case 22:return n.flags|=65536,r===pi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Td(e,r,c)),!1}throw Error(o(435,n.tag))}return Td(e,r,c),qi(),!1}if(Re)return t=la.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==kc&&(e=Error(o(422),{cause:r}),Jl(ba(e,n)))):(r!==kc&&(t=Error(o(423),{cause:r}),Jl(ba(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=ba(r,n),c=nd(e.stateNode,r,c),Oc(e,c),at!==4&&(at=2)),!1;var u=Error(o(520),{cause:r});if(u=ba(u,n),gr===null?gr=[u]:gr.push(u),at!==4&&(at=2),t===null)return!0;r=ba(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=nd(n.stateNode,r,e),Oc(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Hs===null||!Hs.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=cm(c),dm(c,e,n,r),Oc(n,c),!1}n=n.return}while(n!==null);return!1}var ld=Error(o(461)),ut=!1;function Ct(e,t,n,r){t.child=e===null?hf(t,null,n,r):vn(t,e.child,n,r)}function um(e,t,n,r,c){n=n.render;var u=t.ref;if("ref"in r){var p={};for(var w in r)w!=="ref"&&(p[w]=r[w])}else p=r;return xn(t),r=qc(e,t,n,p,u,c),w=$c(),e!==null&&!ut?(Pc(e,t,c),is(e,t,c)):(Re&&w&&wc(t),t.flags|=1,Ct(e,t,r,c),t.child)}function fm(e,t,n,r,c){if(e===null){var u=n.type;return typeof u=="function"&&!bc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,mm(e,t,u,r,c)):(e=ci(n.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!md(e,c)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:Fl,n(p,r)&&e.ref===t.ref)return is(e,t,c)}return t.flags|=1,e=ts(u,r),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,n,r,c){if(e!==null){var u=e.memoizedProps;if(Fl(u,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=u,md(e,c))(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,is(e,t,c)}return rd(e,t,n,r,c)}function hm(e,t,n,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,t.child=null;return pm(e,t,u,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mi(t,u!==null?u.cachePool:null),u!==null?gf(t,u):Bc(),bf(t);else return r=t.lanes=536870912,pm(e,t,u!==null?u.baseLanes|n:n,n,r)}else u!==null?(mi(t,u.cachePool),gf(t,u),Ds(),t.memoizedState=null):(e!==null&&mi(t,null),Bc(),Ds());return Ct(e,t,c,n),t.child}function dr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pm(e,t,n,r,c){var u=Lc();return u=u===null?null:{parent:ct._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&mi(t,null),Bc(),bf(t),e!==null&&tl(e,t,r,!0),t.childLanes=c,null}function Ti(e,t){return t=Mi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xm(e,t,n){return vn(t,e.child,null,n),e=Ti(t,t.pendingProps),e.flags|=2,ra(t),t.memoizedState=null,e}function Kb(e,t,n){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(r.mode==="hidden")return e=Ti(t,r),t.lanes=536870912,dr(null,e);if(Uc(t),(e=Ke)?(e=Ah(e,wa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Es!==null?{id:qa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},n=J0(e),n.return=t,t.child=n,Nt=t,Ke=null)):e=null,e===null)throw Ts(t);return t.lanes=536870912,null}return Ti(t,r)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(Uc(t),c)if(t.flags&256)t.flags&=-257,t=xm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ut||tl(e,t,n,!1),c=(n&e.childLanes)!==0,ut||c){if(r=Ye,r!==null&&(p=It(r,n),p!==0&&p!==u.retryLane))throw u.retryLane=p,fn(e,p),Zt(r,e,p),ld;qi(),t=xm(e,t,n)}else e=u.treeContext,Ke=ka(p.nextSibling),Nt=t,Re=!0,As=null,wa=!1,e!==null&&tf(t,e),t=Ti(t,r),t.flags|=4096;return t}return e=ts(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Li(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rd(e,t,n,r,c){return xn(t),n=qc(e,t,n,r,void 0,c),r=$c(),e!==null&&!ut?(Pc(e,t,c),is(e,t,c)):(Re&&r&&wc(t),t.flags|=1,Ct(e,t,n,c),t.child)}function gm(e,t,n,r,c,u){return xn(t),t.updateQueue=null,n=vf(t,r,n,c),yf(e),r=$c(),e!==null&&!ut?(Pc(e,t,u),is(e,t,u)):(Re&&r&&wc(t),t.flags|=1,Ct(e,t,n,u),t.child)}function bm(e,t,n,r,c){if(xn(t),t.stateNode===null){var u=Zn,p=n.contextType;typeof p=="object"&&p!==null&&(u=St(p)),u=new n(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=sd,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},_c(t),p=n.contextType,u.context=typeof p=="object"&&p!==null?St(p):Zn,u.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(ad(t,n,p,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&sd.enqueueReplaceState(u,u.state,null),lr(t,r,u,c),nr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var w=t.memoizedProps,M=jn(n,w);u.props=M;var $=u.context,Q=n.contextType;p=Zn,typeof Q=="object"&&Q!==null&&(p=St(Q));var ae=n.getDerivedStateFromProps;Q=typeof ae=="function"||typeof u.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,Q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(w||$!==p)&&nm(t,u,r,p),Ms=!1;var V=t.memoizedState;u.state=V,lr(t,r,u,c),nr(),$=t.memoizedState,w||V!==$||Ms?(typeof ae=="function"&&(ad(t,n,ae,r),$=t.memoizedState),(M=Ms||sm(t,n,M,r,V,$,p))?(Q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=$),u.props=r,u.state=$,u.context=p,r=M):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Rc(e,t),p=t.memoizedProps,Q=jn(n,p),u.props=Q,ae=t.pendingProps,V=u.context,$=n.contextType,M=Zn,typeof $=="object"&&$!==null&&(M=St($)),w=n.getDerivedStateFromProps,($=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==ae||V!==M)&&nm(t,u,r,M),Ms=!1,V=t.memoizedState,u.state=V,lr(t,r,u,c),nr();var G=t.memoizedState;p!==ae||V!==G||Ms||e!==null&&e.dependencies!==null&&ui(e.dependencies)?(typeof w=="function"&&(ad(t,n,w,r),G=t.memoizedState),(Q=Ms||sm(t,n,Q,r,V,G,M)||e!==null&&e.dependencies!==null&&ui(e.dependencies))?($||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,G,M),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,G,M)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=G),u.props=r,u.state=G,u.context=M,r=Q):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,Li(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=vn(t,e.child,null,c),t.child=vn(t,null,n,c)):Ct(e,t,n,c),t.memoizedState=u.state,e=t.child):e=is(e,t,c),e}function ym(e,t,n,r){return hn(),t.flags|=256,Ct(e,t,n,r),t.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(e){return{baseLanes:e,cachePool:of()}}function cd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=oa),e}function vm(e,t,n){var r=t.pendingProps,c=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(c?Os(t):Ds(),(e=Ke)?(e=Ah(e,wa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Es!==null?{id:qa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},n=J0(e),n.return=t,t.child=n,Nt=t,Ke=null)):e=null,e===null)throw Ts(t);return Yd(e)?t.lanes=32:t.lanes=536870912,null}var w=r.children;return r=r.fallback,c?(Ds(),c=t.mode,w=Mi({mode:"hidden",children:w},c),r=mn(r,c,n,null),w.return=t,r.return=t,w.sibling=r,t.child=w,r=t.child,r.memoizedState=od(n),r.childLanes=cd(e,p,n),t.memoizedState=id,dr(null,r)):(Os(t),dd(t,w))}var M=e.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(u)t.flags&256?(Os(t),t.flags&=-257,t=ud(e,t,n)):t.memoizedState!==null?(Ds(),t.child=e.child,t.flags|=128,t=null):(Ds(),w=r.fallback,c=t.mode,r=Mi({mode:"visible",children:r.children},c),w=mn(w,c,n,null),w.flags|=2,r.return=t,w.return=t,r.sibling=w,t.child=r,vn(t,e.child,null,n),r=t.child,r.memoizedState=od(n),r.childLanes=cd(e,p,n),t.memoizedState=id,t=dr(null,r));else if(Os(t),Yd(w)){if(p=w.nextSibling&&w.nextSibling.dataset,p)var $=p.dgst;p=$,r=Error(o(419)),r.stack="",r.digest=p,Jl({value:r,source:null,stack:null}),t=ud(e,t,n)}else if(ut||tl(e,t,n,!1),p=(n&e.childLanes)!==0,ut||p){if(p=Ye,p!==null&&(r=It(p,n),r!==0&&r!==M.retryLane))throw M.retryLane=r,fn(e,r),Zt(p,e,r),ld;Id(w)||qi(),t=ud(e,t,n)}else Id(w)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Ke=ka(w.nextSibling),Nt=t,Re=!0,As=null,wa=!1,e!==null&&tf(t,e),t=dd(t,r.children),t.flags|=4096);return t}return c?(Ds(),w=r.fallback,c=t.mode,M=e.child,$=M.sibling,r=ts(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,$!==null?w=ts($,w):(w=mn(w,c,n,null),w.flags|=2),w.return=t,r.return=t,r.sibling=w,t.child=r,dr(null,r),r=t.child,w=e.child.memoizedState,w===null?w=od(n):(c=w.cachePool,c!==null?(M=ct._currentValue,c=c.parent!==M?{parent:M,pool:M}:c):c=of(),w={baseLanes:w.baseLanes|n,cachePool:c}),r.memoizedState=w,r.childLanes=cd(e,p,n),t.memoizedState=id,dr(e.child,r)):(Os(t),n=e.child,e=n.sibling,n=ts(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function dd(e,t){return t=Mi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Mi(e,t){return e=na(22,e,null,t),e.lanes=0,e}function ud(e,t,n){return vn(t,e.child,null,n),e=dd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cc(e.return,t,n)}function fd(e,t,n,r,c,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:c,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=n,p.tailMode=c,p.treeForkCount=u)}function jm(e,t,n){var r=t.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var p=st.current,w=(p&2)!==0;if(w?(p=p&1|2,t.flags|=128):p&=1,P(st,p),Ct(e,t,r,n),r=Re?Zl:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wm(e,n,t);else if(e.tag===19)wm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&yi(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),fd(t,!1,c,n,u,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&yi(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}fd(t,!0,n,null,u,r);break;case"together":fd(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Us|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(tl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function md(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ui(e)))}function Fb(e,t,n){switch(t.tag){case 3:Se(t,t.stateNode.containerInfo),Ls(t,ct,e.memoizedState.cache),hn();break;case 27:case 5:ha(t);break;case 4:Se(t,t.stateNode.containerInfo);break;case 10:Ls(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uc(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Os(t),t.flags|=128,null):(n&t.child.childLanes)!==0?vm(e,t,n):(Os(t),e=is(e,t,n),e!==null?e.sibling:null);Os(t);break;case 19:var c=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(tl(e,t,n,!1),r=(n&t.childLanes)!==0),c){if(r)return jm(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(st,st.current),r)break;return null;case 22:return t.lanes=0,hm(e,t,n,t.pendingProps);case 24:Ls(t,ct,e.memoizedState.cache)}return is(e,t,n)}function km(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!md(e,n)&&(t.flags&128)===0)return ut=!1,Fb(e,t,n);ut=(e.flags&131072)!==0}else ut=!1,Re&&(t.flags&1048576)!==0&&ef(t,Zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=bn(t.elementType),t.type=e,typeof e=="function")bc(e)?(r=jn(e,r),t.tag=1,t=bm(null,t,e,r,n)):(t.tag=0,t=rd(null,t,e,r,n));else{if(e!=null){var c=e.$$typeof;if(c===O){t.tag=11,t=um(null,t,e,r,n);break e}else if(c===Z){t.tag=14,t=fm(null,t,e,r,n);break e}}throw t=me(e)||e,Error(o(306,t,""))}}return t;case 0:return rd(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,c=jn(r,t.pendingProps),bm(e,t,r,c,n);case 3:e:{if(Se(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var u=t.memoizedState;c=u.element,Rc(e,t),lr(t,r,null,n);var p=t.memoizedState;if(r=p.cache,Ls(t,ct,r),r!==u.cache&&Ec(t,[ct],n,!0),nr(),r=p.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=ym(e,t,r,n);break e}else if(r!==c){c=ba(Error(o(424)),t),Jl(c),t=ym(e,t,r,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=ka(e.firstChild),Nt=t,Re=!0,As=null,wa=!0,n=hf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hn(),r===c){t=is(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 26:return Li(e,t),e===null?(n=Oh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Re||(n=t.type,e=t.pendingProps,r=Xi(be.current).createElement(n),r[kt]=t,r[Yt]=e,Et(r,n,e),yt(r),t.stateNode=r):t.memoizedState=Oh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ha(t),e===null&&Re&&(r=t.stateNode=Mh(t.type,t.pendingProps,be.current),Nt=t,wa=!0,c=Ke,Vs(t.type)?(Gd=c,Ke=ka(r.firstChild)):Ke=c),Ct(e,t,t.pendingProps.children,n),Li(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((c=r=Ke)&&(r=Sy(r,t.type,t.pendingProps,wa),r!==null?(t.stateNode=r,Nt=t,Ke=ka(r.firstChild),wa=!1,c=!0):c=!1),c||Ts(t)),ha(t),c=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,r=u.children,$d(c,u)?r=null:p!==null&&$d(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=qc(e,t,qb,null,null,n),Sr._currentValue=c),Li(e,t),Ct(e,t,r,n),t.child;case 6:return e===null&&Re&&((e=n=Ke)&&(n=Cy(n,t.pendingProps,wa),n!==null?(t.stateNode=n,Nt=t,Ke=null,e=!0):e=!1),e||Ts(t)),null;case 13:return vm(e,t,n);case 4:return Se(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vn(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return um(e,t,t.type,t.pendingProps,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ls(t,t.type,r.value),Ct(e,t,r.children,n),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,xn(t),c=St(c),r=r(c),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return fm(e,t,t.type,t.pendingProps,n);case 15:return mm(e,t,t.type,t.pendingProps,n);case 19:return jm(e,t,n);case 31:return Kb(e,t,n);case 22:return hm(e,t,n,t.pendingProps);case 24:return xn(t),r=St(ct),e===null?(c=Lc(),c===null&&(c=Ye,u=Ac(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:r,cache:c},_c(t),Ls(t,ct,c)):((e.lanes&n)!==0&&(Rc(e,t),lr(t,null,null,n),nr()),c=e.memoizedState,u=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ls(t,ct,r)):(r=u.cache,Ls(t,ct,r),r!==c.cache&&Ec(t,[ct],n,!0))),Ct(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function os(e){e.flags|=4}function hd(e,t,n,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Qm())e.flags|=8192;else throw yn=pi,Mc}else e.flags&=-16777217}function Nm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hh(t))if(Qm())e.flags|=8192;else throw yn=pi,Mc}function _i(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mt():536870912,e.lanes|=t,ml|=t)}function ur(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qb(e,t,n){var r=t.pendingProps;switch(jc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ns(ct),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(el(t)?os(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nc())),Fe(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(os(t),u!==null?(Fe(t),Nm(t,u)):(Fe(t),hd(t,c,null,r,n))):u?u!==e.memoizedState?(os(t),Fe(t),Nm(t,u)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&os(t),Fe(t),hd(t,c,e,r,n)),null;case 27:if(Ea(t),n=be.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&os(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}e=F.current,el(t)?af(t):(e=Mh(c,r,n),t.stateNode=e,os(t))}return Fe(t),null;case 5:if(Ea(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&os(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}if(u=F.current,el(t))af(t);else{var p=Xi(be.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?p.createElement(c,{is:r.is}):p.createElement(c)}}u[kt]=t,u[Yt]=r;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(Et(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&os(t)}}return Fe(t),hd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&os(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=be.current,el(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,c=Nt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[kt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||vh(e.nodeValue,n)),e||Ts(t,!0)}else e=Xi(e).createTextNode(r),e[kt]=t,t.stateNode=e}return Fe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=el(t),n!==null){if(e===null){if(!r)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[kt]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else n=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ra(t),t):(ra(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Fe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=el(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[kt]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),c=!1}else c=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ra(t),t):(ra(t),null)}return ra(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),_i(t,t.updateQueue),Fe(t),null);case 4:return He(),e===null&&Bd(t.stateNode.containerInfo),Fe(t),null;case 10:return ns(t.type),Fe(t),null;case 19:if(L(st),r=t.memoizedState,r===null)return Fe(t),null;if(c=(t.flags&128)!==0,u=r.rendering,u===null)if(c)ur(r,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=yi(e),u!==null){for(t.flags|=128,ur(r,!1),e=u.updateQueue,t.updateQueue=e,_i(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Z0(n,e),n=n.sibling;return P(st,st.current&1|2),Re&&as(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&gt()>zi&&(t.flags|=128,c=!0,ur(r,!1),t.lanes=4194304)}else{if(!c)if(e=yi(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,_i(t,e),ur(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Re)return Fe(t),null}else 2*gt()-r.renderingStartTime>zi&&n!==536870912&&(t.flags|=128,c=!0,ur(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=gt(),e.sibling=null,n=st.current,P(st,c?n&1|2:n&1),Re&&as(t,r.treeForkCount),e):(Fe(t),null);case 22:case 23:return ra(t),zc(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),n=t.updateQueue,n!==null&&_i(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&L(gn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ns(ct),Fe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Zb(e,t){switch(jc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(ct),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ea(t),null;case 31:if(t.memoizedState!==null){if(ra(t),t.alternate===null)throw Error(o(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(st),null;case 4:return He(),null;case 10:return ns(t.type),null;case 22:case 23:return ra(t),zc(),e!==null&&L(gn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ns(ct),null;case 25:return null;default:return null}}function Sm(e,t){switch(jc(t),t.tag){case 3:ns(ct),He();break;case 26:case 27:case 5:Ea(t);break;case 4:He();break;case 31:t.memoizedState!==null&&ra(t);break;case 13:ra(t);break;case 19:L(st);break;case 10:ns(t.type);break;case 22:case 23:ra(t),zc(),e!==null&&L(gn);break;case 24:ns(ct)}}function fr(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){r=void 0;var u=n.create,p=n.inst;r=u(),p.destroy=r}n=n.next}while(n!==c)}}catch(w){$e(t,t.return,w)}}function Bs(e,t,n){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var p=r.inst,w=p.destroy;if(w!==void 0){p.destroy=void 0,c=t;var M=n,$=w;try{$()}catch(Q){$e(c,M,Q)}}}r=r.next}while(r!==u)}}catch(Q){$e(t,t.return,Q)}}function Cm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xf(t,n)}catch(r){$e(e,e.return,r)}}}function Em(e,t,n){n.props=jn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){$e(e,t,r)}}function mr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(c){$e(e,t,c)}}function Pa(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(c){$e(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){$e(e,t,c)}else n.current=null}function Am(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(c){$e(e,e.return,c)}}function pd(e,t,n){try{var r=e.stateNode;yy(r,e.type,n,t),r[Yt]=t}catch(c){$e(e,e.return,c)}}function Tm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wa));else if(r!==4&&(r===27&&Vs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gd(e,t,n),e=e.sibling;e!==null;)gd(e,t,n),e=e.sibling}function Ri(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Vs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ri(e,t,n),e=e.sibling;e!==null;)Ri(e,t,n),e=e.sibling}function Lm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Et(t,r,n),t[kt]=e,t[Yt]=n}catch(u){$e(e,e.return,u)}}var cs=!1,ft=!1,bd=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Jb(e,t){if(e=e.containerInfo,Hd=eo,e=P0(e),uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,w=-1,M=-1,$=0,Q=0,ae=e,V=null;t:for(;;){for(var G;ae!==n||c!==0&&ae.nodeType!==3||(w=p+c),ae!==u||r!==0&&ae.nodeType!==3||(M=p+r),ae.nodeType===3&&(p+=ae.nodeValue.length),(G=ae.firstChild)!==null;)V=ae,ae=G;for(;;){if(ae===e)break t;if(V===n&&++$===c&&(w=p),V===u&&++Q===r&&(M=p),(G=ae.nextSibling)!==null)break;ae=V,V=ae.parentNode}ae=G}n=w===-1||M===-1?null:{start:w,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(qd={focusedElem:e,selectionRange:n},eo=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,r=n.stateNode;try{var he=jn(n.type,c);e=r.getSnapshotBeforeUpdate(he,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(ye){$e(n,n.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function _m(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:us(e,n),r&4&&fr(5,n);break;case 1:if(us(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){$e(n,n.return,p)}else{var c=jn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$e(n,n.return,p)}}r&64&&Cm(n),r&512&&mr(n,n.return);break;case 3:if(us(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xf(e,t)}catch(p){$e(n,n.return,p)}}break;case 27:t===null&&r&4&&Lm(n);case 26:case 5:us(e,n),t===null&&r&4&&Am(n),r&512&&mr(n,n.return);break;case 12:us(e,n);break;case 31:us(e,n),r&4&&Dm(e,n);break;case 13:us(e,n),r&4&&Bm(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=iy.bind(null,n),Ey(e,n))));break;case 22:if(r=n.memoizedState!==null||cs,!r){t=t!==null&&t.memoizedState!==null||ft,c=cs;var u=ft;cs=r,(ft=t)&&!u?fs(e,n,(n.subtreeFlags&8772)!==0):us(e,n),cs=c,ft=u}break;case 30:break;default:us(e,n)}}function Rm(e){var t=e.alternate;t!==null&&(e.alternate=null,Rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ko(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Xt=!1;function ds(e,t,n){for(n=n.child;n!==null;)Om(e,t,n),n=n.sibling}function Om(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ks,n)}catch{}switch(n.tag){case 26:ft||Pa(n,t),ds(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ft||Pa(n,t);var r=Je,c=Xt;Vs(n.type)&&(Je=n.stateNode,Xt=!1),ds(e,t,n),jr(n.stateNode),Je=r,Xt=c;break;case 5:ft||Pa(n,t);case 6:if(r=Je,c=Xt,Je=null,ds(e,t,n),Je=r,Xt=c,Je!==null)if(Xt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(u){$e(n,t,u)}else try{Je.removeChild(n.stateNode)}catch(u){$e(n,t,u)}break;case 18:Je!==null&&(Xt?(e=Je,Ch(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wl(e)):Ch(Je,n.stateNode));break;case 4:r=Je,c=Xt,Je=n.stateNode.containerInfo,Xt=!0,ds(e,t,n),Je=r,Xt=c;break;case 0:case 11:case 14:case 15:Bs(2,n,t),ft||Bs(4,n,t),ds(e,t,n);break;case 1:ft||(Pa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Em(n,t,r)),ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:ft=(r=ft)||n.memoizedState!==null,ds(e,t,n),ft=r;break;default:ds(e,t,n)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wl(e)}catch(n){$e(t,t.return,n)}}}function Bm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(n){$e(t,t.return,n)}}function Wb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mm),t;default:throw Error(o(435,e.tag))}}function Oi(e,t){var n=Wb(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var c=oy.bind(null,e,r);r.then(c,c)}})}function Kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var c=n[r],u=e,p=t,w=p;e:for(;w!==null;){switch(w.tag){case 27:if(Vs(w.type)){Je=w.stateNode,Xt=!1;break e}break;case 5:Je=w.stateNode,Xt=!1;break e;case 3:case 4:Je=w.stateNode.containerInfo,Xt=!0;break e}w=w.return}if(Je===null)throw Error(o(160));Om(u,p,c),Je=null,Xt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}var _a=null;function zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Ft(e),r&4&&(Bs(3,e,e.return),fr(3,e),Bs(5,e,e.return));break;case 1:Kt(t,e),Ft(e),r&512&&(ft||n===null||Pa(n,n.return)),r&64&&cs&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var c=_a;if(Kt(t,e),Ft(e),r&512&&(ft||n===null||Pa(n,n.return)),r&4){var u=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[ql]||u[kt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),Et(u,r,n),u[kt]=e,yt(u),r=u;break e;case"link":var p=zh("link","href",c).get(r+(n.href||""));if(p){for(var w=0;w<p.length;w++)if(u=p[w],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(w,1);break t}}u=c.createElement(r),Et(u,r,n),c.head.appendChild(u);break;case"meta":if(p=zh("meta","content",c).get(r+(n.content||""))){for(w=0;w<p.length;w++)if(u=p[w],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(w,1);break t}}u=c.createElement(r),Et(u,r,n),c.head.appendChild(u);break;default:throw Error(o(468,r))}u[kt]=e,yt(u),r=u}e.stateNode=r}else Uh(c,e.type,e.stateNode);else e.stateNode=Bh(c,r,e.memoizedProps);else u!==r?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,r===null?Uh(c,e.type,e.stateNode):Bh(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&pd(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kt(t,e),Ft(e),r&512&&(ft||n===null||Pa(n,n.return)),n!==null&&r&4&&pd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kt(t,e),Ft(e),r&512&&(ft||n===null||Pa(n,n.return)),e.flags&32){c=e.stateNode;try{In(c,"")}catch(he){$e(e,e.return,he)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,pd(e,c,n!==null?n.memoizedProps:c)),r&1024&&(bd=!0);break;case 6:if(Kt(t,e),Ft(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(he){$e(e,e.return,he)}}break;case 3:if(Qi=null,c=_a,_a=Ki(t.containerInfo),Kt(t,e),_a=c,Ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(he){$e(e,e.return,he)}bd&&(bd=!1,Um(e));break;case 4:r=_a,_a=Ki(e.stateNode.containerInfo),Kt(t,e),Ft(e),_a=r;break;case 12:Kt(t,e),Ft(e);break;case 31:Kt(t,e),Ft(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Oi(e,r)));break;case 13:Kt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bi=gt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Oi(e,r)));break;case 22:c=e.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,$=cs,Q=ft;if(cs=$||c,ft=Q||M,Kt(t,e),ft=Q,cs=$,Ft(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||M||cs||ft||kn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){M=n=t;try{if(u=M.stateNode,c)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{w=M.stateNode;var ae=M.memoizedProps.style,V=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(he){$e(M,M.return,he)}}}else if(t.tag===6){if(n===null){M=t;try{M.stateNode.nodeValue=c?"":M.memoizedProps}catch(he){$e(M,M.return,he)}}}else if(t.tag===18){if(n===null){M=t;try{var G=M.stateNode;c?Eh(G,!0):Eh(M.stateNode,!1)}catch(he){$e(M,M.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Oi(e,n))));break;case 19:Kt(t,e),Ft(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Oi(e,r)));break;case 30:break;case 21:break;default:Kt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Tm(r)){n=r;break}r=r.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=xd(e);Ri(e,u,c);break;case 5:var p=n.stateNode;n.flags&32&&(In(p,""),n.flags&=-33);var w=xd(e);Ri(e,w,p);break;case 3:case 4:var M=n.stateNode.containerInfo,$=xd(e);gd(e,$,M);break;default:throw Error(o(161))}}catch(Q){$e(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Um(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function us(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_m(e,t.alternate,t),t=t.sibling}function kn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bs(4,t,t.return),kn(t);break;case 1:Pa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Em(t,t.return,n),kn(t);break;case 27:jr(t.stateNode);case 26:case 5:Pa(t,t.return),kn(t);break;case 22:t.memoizedState===null&&kn(t);break;case 30:kn(t);break;default:kn(t)}e=e.sibling}}function fs(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:fs(c,u,n),fr(4,u);break;case 1:if(fs(c,u,n),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch($){$e(r,r.return,$)}if(r=u,c=r.updateQueue,c!==null){var w=r.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)pf(M[c],w)}catch($){$e(r,r.return,$)}}n&&p&64&&Cm(u),mr(u,u.return);break;case 27:Lm(u);case 26:case 5:fs(c,u,n),n&&r===null&&p&4&&Am(u),mr(u,u.return);break;case 12:fs(c,u,n);break;case 31:fs(c,u,n),n&&p&4&&Dm(c,u);break;case 13:fs(c,u,n),n&&p&4&&Bm(c,u);break;case 22:u.memoizedState===null&&fs(c,u,n),mr(u,u.return);break;case 30:break;default:fs(c,u,n)}t=t.sibling}}function yd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Wl(n))}function vd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e))}function Ra(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hm(e,t,n,r),t=t.sibling}function Hm(e,t,n,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Ra(e,t,n,r),c&2048&&fr(9,t);break;case 1:Ra(e,t,n,r);break;case 3:Ra(e,t,n,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e)));break;case 12:if(c&2048){Ra(e,t,n,r),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,w=u.onPostCommit;typeof w=="function"&&w(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){$e(t,t.return,M)}}else Ra(e,t,n,r);break;case 31:Ra(e,t,n,r);break;case 13:Ra(e,t,n,r);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?Ra(e,t,n,r):hr(e,t):u._visibility&2?Ra(e,t,n,r):(u._visibility|=2,dl(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&yd(p,t);break;case 24:Ra(e,t,n,r),c&2048&&vd(t.alternate,t);break;default:Ra(e,t,n,r)}}function dl(e,t,n,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,w=n,M=r,$=p.flags;switch(p.tag){case 0:case 11:case 15:dl(u,p,w,M,c),fr(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?dl(u,p,w,M,c):hr(u,p):(Q._visibility|=2,dl(u,p,w,M,c)),c&&$&2048&&yd(p.alternate,p);break;case 24:dl(u,p,w,M,c),c&&$&2048&&vd(p.alternate,p);break;default:dl(u,p,w,M,c)}t=t.sibling}}function hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,c=r.flags;switch(r.tag){case 22:hr(n,r),c&2048&&yd(r.alternate,r);break;case 24:hr(n,r),c&2048&&vd(r.alternate,r);break;default:hr(n,r)}t=t.sibling}}var pr=8192;function ul(e,t,n){if(e.subtreeFlags&pr)for(e=e.child;e!==null;)qm(e,t,n),e=e.sibling}function qm(e,t,n){switch(e.tag){case 26:ul(e,t,n),e.flags&pr&&e.memoizedState!==null&&Hy(n,_a,e.memoizedState,e.memoizedProps);break;case 5:ul(e,t,n);break;case 3:case 4:var r=_a;_a=Ki(e.stateNode.containerInfo),ul(e,t,n),_a=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=pr,pr=16777216,ul(e,t,n),pr=r):ul(e,t,n));break;default:ul(e,t,n)}}function $m(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];vt=r,Vm(r,e)}$m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pm(e),e=e.sibling}function Pm(e){switch(e.tag){case 0:case 11:case 15:xr(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:xr(e);break;case 12:xr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Di(e)):xr(e);break;default:xr(e)}}function Di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];vt=r,Vm(r,e)}$m(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bs(8,t,t.return),Di(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Di(t));break;default:Di(t)}e=e.sibling}}function Vm(e,t){for(;vt!==null;){var n=vt;switch(n.tag){case 0:case 11:case 15:Bs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Wl(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,vt=r;else e:for(n=e;vt!==null;){r=vt;var c=r.sibling,u=r.return;if(Rm(r),r===n){vt=null;break e}if(c!==null){c.return=u,vt=c;break e}vt=u}}}var ey={getCacheForType:function(e){var t=St(ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return St(ct).controller.signal}},ty=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ye=null,Ae=null,Me=0,qe=0,ia=null,zs=!1,fl=!1,wd=!1,ms=0,at=0,Us=0,Nn=0,jd=0,oa=0,ml=0,gr=null,Qt=null,kd=!1,Bi=0,Im=0,zi=1/0,Ui=null,Hs=null,pt=0,qs=null,hl=null,hs=0,Nd=0,Sd=null,Ym=null,br=0,Cd=null;function ca(){return(Be&2)!==0&&Me!==0?Me&-Me:R.T!==null?_d():Go()}function Gm(){if(oa===0)if((Me&536870912)===0||Re){var e=Bn;Bn<<=1,(Bn&3932160)===0&&(Bn=262144),oa=e}else oa=536870912;return e=la.current,e!==null&&(e.flags|=32),oa}function Zt(e,t,n){(e===Ye&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(pl(e,0),$s(e,Me,oa,!1)),et(e,n),((Be&2)===0||e!==Ye)&&(e===Ye&&((Be&2)===0&&(Nn|=n),at===4&&$s(e,Me,oa,!1)),Va(e))}function Xm(e,t,n){if((Be&6)!==0)throw Error(o(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ze(e,t),c=r?ny(e,t):Ad(e,t,!0),u=r;do{if(c===0){fl&&!r&&$s(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!ay(n)){c=Ad(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var w=e;c=gr;var M=w.current.memoizedState.isDehydrated;if(M&&(pl(w,p).flags|=256),p=Ad(w,p,!1),p!==2){if(wd&&!M){w.errorRecoveryDisabledLanes|=u,Nn|=u,c=4;break e}u=Qt,Qt=c,u!==null&&(Qt===null?Qt=u:Qt.push.apply(Qt,u))}c=p}if(u=!1,c!==2)continue}}if(c===1){pl(e,0),$s(e,t,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:$s(r,t,oa,!zs);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Bi+300-gt(),10<c)){if($s(r,t,oa,!zs),we(r,0,!0)!==0)break e;hs=t,r.timeoutHandle=Nh(Km.bind(null,r,n,Qt,Ui,kd,t,oa,Nn,ml,zs,u,"Throttled",-0,0),c);break e}Km(r,n,Qt,Ui,kd,t,oa,Nn,ml,zs,u,null,-0,0)}}break}while(!0);Va(e)}function Km(e,t,n,r,c,u,p,w,M,$,Q,ae,V,G){if(e.timeoutHandle=-1,ae=t.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wa},qm(t,u,ae);var he=(u&62914560)===u?Bi-gt():(u&4194048)===u?Im-gt():0;if(he=qy(ae,he),he!==null){hs=u,e.cancelPendingCommit=he(ah.bind(null,e,t,u,n,r,c,p,w,M,Q,ae,null,V,G)),$s(e,u,p,!$);return}}ah(e,t,u,n,r,c,p,w,M)}function ay(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var c=n[r],u=c.getSnapshot;c=c.value;try{if(!sa(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $s(e,t,n,r){t&=~jd,t&=~Nn,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var u=31-Lt(c),p=1<<u;r[u]=-1,c&=~p}n!==0&&rn(e,n,t)}function Hi(){return(Be&6)===0?(yr(0),!1):!0}function Ed(){if(Ae!==null){if(qe===0)var e=Ae.return;else e=Ae,ss=pn=null,Vc(e),ll=null,tr=0,e=Ae;for(;e!==null;)Sm(e.alternate,e),e=e.return;Ae=null}}function pl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),hs=0,Ed(),Ye=e,Ae=n=ts(e.current,null),Me=t,qe=0,ia=null,zs=!1,fl=Ze(e,t),wd=!1,ml=oa=jd=Nn=Us=at=0,Qt=gr=null,kd=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Lt(r),u=1<<c;t|=e[c],r&=~u}return ms=t,ri(),n}function Fm(e,t){ke=null,R.H=cr,t===nl||t===hi?(t=uf(),qe=3):t===Mc?(t=uf(),qe=4):qe=t===ld?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ia=t,Ae===null&&(at=1,Ai(e,ba(t,e.current)))}function Qm(){var e=la.current;return e===null?!0:(Me&4194048)===Me?ja===null:(Me&62914560)===Me||(Me&536870912)!==0?e===ja:!1}function Zm(){var e=R.H;return R.H=cr,e===null?cr:e}function Jm(){var e=R.A;return R.A=ey,e}function qi(){at=4,zs||(Me&4194048)!==Me&&la.current!==null||(fl=!0),(Us&134217727)===0&&(Nn&134217727)===0||Ye===null||$s(Ye,Me,oa,!1)}function Ad(e,t,n){var r=Be;Be|=2;var c=Zm(),u=Jm();(Ye!==e||Me!==t)&&(Ui=null,pl(e,t)),t=!1;var p=at;e:do try{if(qe!==0&&Ae!==null){var w=Ae,M=ia;switch(qe){case 8:Ed(),p=6;break e;case 3:case 2:case 9:case 6:la.current===null&&(t=!0);var $=qe;if(qe=0,ia=null,xl(e,w,M,$),n&&fl){p=0;break e}break;default:$=qe,qe=0,ia=null,xl(e,w,M,$)}}sy(),p=at;break}catch(Q){Fm(e,Q)}while(!0);return t&&e.shellSuspendCounter++,ss=pn=null,Be=r,R.H=c,R.A=u,Ae===null&&(Ye=null,Me=0,ri()),p}function sy(){for(;Ae!==null;)Wm(Ae)}function ny(e,t){var n=Be;Be|=2;var r=Zm(),c=Jm();Ye!==e||Me!==t?(Ui=null,zi=gt()+500,pl(e,t)):fl=Ze(e,t);e:do try{if(qe!==0&&Ae!==null){t=Ae;var u=ia;t:switch(qe){case 1:qe=0,ia=null,xl(e,t,u,1);break;case 2:case 9:if(cf(u)){qe=0,ia=null,eh(t);break}t=function(){qe!==2&&qe!==9||Ye!==e||(qe=7),Va(e)},u.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:cf(u)?(qe=0,ia=null,eh(t)):(qe=0,ia=null,xl(e,t,u,7));break;case 5:var p=null;switch(Ae.tag){case 26:p=Ae.memoizedState;case 5:case 27:var w=Ae;if(p?Hh(p):w.stateNode.complete){qe=0,ia=null;var M=w.sibling;if(M!==null)Ae=M;else{var $=w.return;$!==null?(Ae=$,$i($)):Ae=null}break t}}qe=0,ia=null,xl(e,t,u,5);break;case 6:qe=0,ia=null,xl(e,t,u,6);break;case 8:Ed(),at=6;break e;default:throw Error(o(462))}}ly();break}catch(Q){Fm(e,Q)}while(!0);return ss=pn=null,R.H=r,R.A=c,Be=n,Ae!==null?0:(Ye=null,Me=0,ri(),at)}function ly(){for(;Ae!==null&&!le();)Wm(Ae)}function Wm(e){var t=km(e.alternate,e,ms);e.memoizedProps=e.pendingProps,t===null?$i(e):Ae=t}function eh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gm(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=gm(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Vc(t);default:Sm(n,t),t=Ae=Z0(t,ms),t=km(n,t,ms)}e.memoizedProps=e.pendingProps,t===null?$i(e):Ae=t}function xl(e,t,n,r){ss=pn=null,Vc(t),ll=null,tr=0;var c=t.return;try{if(Xb(e,c,t,n,Me)){at=1,Ai(e,ba(n,e.current)),Ae=null;return}}catch(u){if(c!==null)throw Ae=c,u;at=1,Ai(e,ba(n,e.current)),Ae=null;return}t.flags&32768?(Re||r===1?e=!0:fl||(Me&536870912)!==0?e=!1:(zs=e=!0,(r===2||r===9||r===3||r===6)&&(r=la.current,r!==null&&r.tag===13&&(r.flags|=16384))),th(t,e)):$i(t)}function $i(e){var t=e;do{if((t.flags&32768)!==0){th(t,zs);return}e=t.return;var n=Qb(t.alternate,t,ms);if(n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);at===0&&(at=5)}function th(e,t){do{var n=Zb(e.alternate,e);if(n!==null){n.flags&=32767,Ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=n}while(e!==null);at=6,Ae=null}function ah(e,t,n,r,c,u,p,w,M){e.cancelPendingCommit=null;do Pi();while(pt!==0);if((Be&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=xc,Pt(e,n,u,p,w,M),e===Ye&&(Ae=Ye=null,Me=0),hl=t,qs=e,hs=n,Nd=u,Sd=c,Ym=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cy(Ge,function(){return ih(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=R.T,R.T=null,c=ee.p,ee.p=2,p=Be,Be|=4;try{Jb(e,t,n)}finally{Be=p,ee.p=c,R.T=r}}pt=1,sh(),nh(),lh()}}function sh(){if(pt===1){pt=0;var e=qs,t=hl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var r=ee.p;ee.p=2;var c=Be;Be|=4;try{zm(t,e);var u=qd,p=P0(e.containerInfo),w=u.focusedElem,M=u.selectionRange;if(p!==w&&w&&w.ownerDocument&&$0(w.ownerDocument.documentElement,w)){if(M!==null&&uc(w)){var $=M.start,Q=M.end;if(Q===void 0&&(Q=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(Q,w.value.length);else{var ae=w.ownerDocument||document,V=ae&&ae.defaultView||window;if(V.getSelection){var G=V.getSelection(),he=w.textContent.length,ye=Math.min(M.start,he),Ie=M.end===void 0?ye:Math.min(M.end,he);!G.extend&&ye>Ie&&(p=Ie,Ie=ye,ye=p);var D=q0(w,ye),_=q0(w,Ie);if(D&&_&&(G.rangeCount!==1||G.anchorNode!==D.node||G.anchorOffset!==D.offset||G.focusNode!==_.node||G.focusOffset!==_.offset)){var q=ae.createRange();q.setStart(D.node,D.offset),G.removeAllRanges(),ye>Ie?(G.addRange(q),G.extend(_.node,_.offset)):(q.setEnd(_.node,_.offset),G.addRange(q))}}}}for(ae=[],G=w;G=G.parentNode;)G.nodeType===1&&ae.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var W=ae[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}eo=!!Hd,qd=Hd=null}finally{Be=c,ee.p=r,R.T=n}}e.current=t,pt=2}}function nh(){if(pt===2){pt=0;var e=qs,t=hl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var r=ee.p;ee.p=2;var c=Be;Be|=4;try{_m(e,t.alternate,t)}finally{Be=c,ee.p=r,R.T=n}}pt=3}}function lh(){if(pt===4||pt===3){pt=0,ht();var e=qs,t=hl,n=hs,r=Ym;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,hl=qs=null,rh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Hs=null),La(n),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ks,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=R.T,c=ee.p,ee.p=2,R.T=null;try{for(var u=e.onRecoverableError,p=0;p<r.length;p++){var w=r[p];u(w.value,{componentStack:w.stack})}}finally{R.T=t,ee.p=c}}(hs&3)!==0&&Pi(),Va(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Cd?br++:(br=0,Cd=e):br=0,yr(0)}}function rh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wl(t)))}function Pi(){return sh(),nh(),lh(),ih()}function ih(){if(pt!==5)return!1;var e=qs,t=Nd;Nd=0;var n=La(hs),r=R.T,c=ee.p;try{ee.p=32>n?32:n,R.T=null,n=Sd,Sd=null;var u=qs,p=hs;if(pt=0,hl=qs=null,hs=0,(Be&6)!==0)throw Error(o(331));var w=Be;if(Be|=4,Pm(u.current),Hm(u,u.current,p,n),Be=w,yr(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ks,u)}catch{}return!0}finally{ee.p=c,R.T=r,rh(e,t)}}function oh(e,t,n){t=ba(n,t),t=nd(e.stateNode,t,2),e=Rs(e,t,2),e!==null&&(et(e,2),Va(e))}function $e(e,t,n){if(e.tag===3)oh(e,e,n);else for(;t!==null;){if(t.tag===3){oh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hs===null||!Hs.has(r))){e=ba(n,e),n=cm(2),r=Rs(t,n,2),r!==null&&(dm(n,r,t,e),et(r,2),Va(r));break}}t=t.return}}function Td(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ty;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(n)||(wd=!0,c.add(n),e=ry.bind(null,e,t,n),t.then(e,e))}function ry(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ye===e&&(Me&n)===n&&(at===4||at===3&&(Me&62914560)===Me&&300>gt()-Bi?(Be&2)===0&&pl(e,0):jd|=n,ml===Me&&(ml=0)),Va(e)}function ch(e,t){t===0&&(t=Mt()),e=fn(e,t),e!==null&&(et(e,t),Va(e))}function iy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ch(e,n)}function oy(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),ch(e,n)}function cy(e,t){return an(e,t)}var Vi=null,gl=null,Ld=!1,Ii=!1,Md=!1,Ps=0;function Va(e){e!==gl&&e.next===null&&(gl===null?Vi=gl=e:gl=gl.next=e),Ii=!0,Ld||(Ld=!0,uy())}function yr(e,t){if(!Md&&Ii){Md=!0;do for(var n=!1,r=Vi;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var p=r.suspendedLanes,w=r.pingedLanes;u=(1<<31-Lt(42|e)+1)-1,u&=c&~(p&~w),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,mh(r,u))}else u=Me,u=we(r,r===Ye?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Ze(r,u)||(n=!0,mh(r,u));r=r.next}while(n);Md=!1}}function dy(){dh()}function dh(){Ii=Ld=!1;var e=0;Ps!==0&&wy()&&(e=Ps);for(var t=gt(),n=null,r=Vi;r!==null;){var c=r.next,u=uh(r,t);u===0?(r.next=null,n===null?Vi=c:n.next=c,c===null&&(gl=n)):(n=r,(e!==0||(u&3)!==0)&&(Ii=!0)),r=c}pt!==0&&pt!==5||yr(e),Ps!==0&&(Ps=0)}function uh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-Lt(u),w=1<<p,M=c[p];M===-1?((w&n)===0||(w&r)!==0)&&(c[p]=bt(w,t)):M<=t&&(e.expiredLanes|=w),u&=~w}if(t=Ye,n=Me,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&sn(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ze(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&sn(r),La(n)){case 2:case 8:n=js;break;case 32:n=Ge;break;case 268435456:n=aa;break;default:n=Ge}return r=fh.bind(null,e),n=an(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&sn(r),e.callbackPriority=2,e.callbackNode=null,2}function fh(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pi()&&e.callbackNode!==n)return null;var r=Me;return r=we(e,e===Ye?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Xm(e,r,t),uh(e,gt()),e.callbackNode!=null&&e.callbackNode===n?fh.bind(null,e):null)}function mh(e,t){if(Pi())return null;Xm(e,t,!0)}function uy(){ky(function(){(Be&6)!==0?an(Tt,dy):dh()})}function _d(){if(Ps===0){var e=al;e===0&&(e=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Ps=e}return Ps}function hh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function ph(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fy(e,t,n,r,c){if(t==="submit"&&n&&n.stateNode===c){var u=hh((c[Yt]||null).action),p=r.submitter;p&&(t=(t=p[Yt]||null)?hh(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var w=new ai("action","action",null,r,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ps!==0){var M=p?ph(c,p):new FormData(c);Jc(n,{pending:!0,data:M,method:c.method,action:u},null,M)}}else typeof u=="function"&&(w.preventDefault(),M=p?ph(c,p):new FormData(c),Jc(n,{pending:!0,data:M,method:c.method,action:u},u,M))},currentTarget:c}]})}}for(var Rd=0;Rd<pc.length;Rd++){var Od=pc[Rd],my=Od.toLowerCase(),hy=Od[0].toUpperCase()+Od.slice(1);Ma(my,"on"+hy)}Ma(Y0,"onAnimationEnd"),Ma(G0,"onAnimationIteration"),Ma(X0,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Lb,"onTransitionRun"),Ma(Mb,"onTransitionStart"),Ma(_b,"onTransitionCancel"),Ma(K0,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vr));function xh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],c=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var p=r.length-1;0<=p;p--){var w=r[p],M=w.instance,$=w.currentTarget;if(w=w.listener,M!==u&&c.isPropagationStopped())break e;u=w,c.currentTarget=$;try{u(c)}catch(Q){li(Q)}c.currentTarget=null,u=M}else for(p=0;p<r.length;p++){if(w=r[p],M=w.instance,$=w.currentTarget,w=w.listener,M!==u&&c.isPropagationStopped())break e;u=w,c.currentTarget=$;try{u(c)}catch(Q){li(Q)}c.currentTarget=null,u=M}}}}function Te(e,t){var n=t[Xo];n===void 0&&(n=t[Xo]=new Set);var r=e+"__bubble";n.has(r)||(gh(t,e,2,!1),n.add(r))}function Dd(e,t,n){var r=0;t&&(r|=4),gh(n,e,r,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Yi]){e[Yi]=!0,c0.forEach(function(n){n!=="selectionchange"&&(py.has(n)||Dd(n,!1,e),Dd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Dd("selectionchange",!1,t))}}function gh(e,t,n,r){switch(Gh(t)){case 2:var c=Vy;break;case 8:c=Iy;break;default:c=Zd}n=c.bind(null,t,n,e),c=void 0,!ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function zd(e,t,n,r,c){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var w=r.stateNode.containerInfo;if(w===c)break;if(p===4)for(p=r.return;p!==null;){var M=p.tag;if((M===3||M===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;w!==null;){if(p=Hn(w),p===null)return;if(M=p.tag,M===5||M===6||M===26||M===27){r=u=p;continue e}w=w.parentNode}}r=r.return}w0(function(){var $=u,Q=ec(n),ae=[];e:{var V=F0.get(e);if(V!==void 0){var G=ai,he=e;switch(e){case"keypress":if(ei(n)===0)break e;case"keydown":case"keyup":G=ob;break;case"focusin":he="focus",G=rc;break;case"focusout":he="blur",G=rc;break;case"beforeblur":case"afterblur":G=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ub;break;case Y0:case G0:case X0:G=Wg;break;case K0:G=mb;break;case"scroll":case"scrollend":G=Kg;break;case"wheel":G=pb;break;case"copy":case"cut":case"paste":G=tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=C0;break;case"toggle":case"beforetoggle":G=gb}var ye=(t&4)!==0,Ie=!ye&&(e==="scroll"||e==="scrollend"),D=ye?V!==null?V+"Capture":null:V;ye=[];for(var _=$,q;_!==null;){var W=_;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||D===null||(W=Pl(_,D),W!=null&&ye.push(wr(_,W,q))),Ie)break;_=_.return}0<ye.length&&(V=new G(V,he,null,n,Q),ae.push({event:V,listeners:ye}))}}if((t&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",V&&n!==Wo&&(he=n.relatedTarget||n.fromElement)&&(Hn(he)||he[Un]))break e;if((G||V)&&(V=Q.window===Q?Q:(V=Q.ownerDocument)?V.defaultView||V.parentWindow:window,G?(he=n.relatedTarget||n.toElement,G=$,he=he?Hn(he):null,he!==null&&(Ie=f(he),ye=he.tag,he!==Ie||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(G=null,he=$),G!==he)){if(ye=N0,W="onMouseLeave",D="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ye=C0,W="onPointerLeave",D="onPointerEnter",_="pointer"),Ie=G==null?V:$l(G),q=he==null?V:$l(he),V=new ye(W,_+"leave",G,n,Q),V.target=Ie,V.relatedTarget=q,W=null,Hn(Q)===$&&(ye=new ye(D,_+"enter",he,n,Q),ye.target=q,ye.relatedTarget=Ie,W=ye),Ie=W,G&&he)t:{for(ye=xy,D=G,_=he,q=0,W=D;W;W=ye(W))q++;W=0;for(var ge=_;ge;ge=ye(ge))W++;for(;0<q-W;)D=ye(D),q--;for(;0<W-q;)_=ye(_),W--;for(;q--;){if(D===_||_!==null&&D===_.alternate){ye=D;break t}D=ye(D),_=ye(_)}ye=null}else ye=null;G!==null&&bh(ae,V,G,ye,!1),he!==null&&Ie!==null&&bh(ae,Ie,he,ye,!0)}}e:{if(V=$?$l($):window,G=V.nodeName&&V.nodeName.toLowerCase(),G==="select"||G==="input"&&V.type==="file")var Oe=O0;else if(_0(V))if(D0)Oe=Eb;else{Oe=Sb;var pe=Nb}else G=V.nodeName,!G||G.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?$&&Jo($.elementType)&&(Oe=O0):Oe=Cb;if(Oe&&(Oe=Oe(e,$))){R0(ae,Oe,n,Q);break e}pe&&pe(e,V,$),e==="focusout"&&$&&V.type==="number"&&$.memoizedProps.value!=null&&Zo(V,"number",V.value)}switch(pe=$?$l($):window,e){case"focusin":(_0(pe)||pe.contentEditable==="true")&&(Kn=pe,fc=$,Ql=null);break;case"focusout":Ql=fc=Kn=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,V0(ae,n,Q);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":V0(ae,n,Q)}var Ce;if(oc)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Xn?L0(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(E0&&n.locale!=="ko"&&(Xn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Xn&&(Ce=j0()):(Cs=Q,sc="value"in Cs?Cs.value:Cs.textContent,Xn=!0)),pe=Gi($,_e),0<pe.length&&(_e=new S0(_e,e,null,n,Q),ae.push({event:_e,listeners:pe}),Ce?_e.data=Ce:(Ce=M0(n),Ce!==null&&(_e.data=Ce)))),(Ce=yb?vb(e,n):wb(e,n))&&(_e=Gi($,"onBeforeInput"),0<_e.length&&(pe=new S0("onBeforeInput","beforeinput",null,n,Q),ae.push({event:pe,listeners:_e}),pe.data=Ce)),fy(ae,e,$,n,Q)}xh(ae,t)})}function wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Pl(e,n),c!=null&&r.unshift(wr(e,c,u)),c=Pl(e,t),c!=null&&r.push(wr(e,c,u))),e.tag===3)return r;e=e.return}return[]}function xy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bh(e,t,n,r,c){for(var u=t._reactName,p=[];n!==null&&n!==r;){var w=n,M=w.alternate,$=w.stateNode;if(w=w.tag,M!==null&&M===r)break;w!==5&&w!==26&&w!==27||$===null||(M=$,c?($=Pl(n,u),$!=null&&p.unshift(wr(n,$,M))):c||($=Pl(n,u),$!=null&&p.push(wr(n,$,M)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var gy=/\r\n?/g,by=/\u0000|\uFFFD/g;function yh(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(by,"")}function vh(e,t){return t=yh(t),yh(e)===t}function Ve(e,t,n,r,c,u){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||In(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&In(e,""+r);break;case"className":Qr(e,"class",r);break;case"tabIndex":Qr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(e,n,r);break;case"style":y0(e,r,u);break;case"data":if(t!=="object"){Qr(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Jr(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",c.name,c,null),Ve(e,t,"formEncType",c.formEncType,c,null),Ve(e,t,"formMethod",c.formMethod,c,null),Ve(e,t,"formTarget",c.formTarget,c,null)):(Ve(e,t,"encType",c.encType,c,null),Ve(e,t,"method",c.method,c,null),Ve(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Jr(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Wa);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Jr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Fr(e,"popover",r);break;case"xlinkActuate":Ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ja(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ja(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ja(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ja(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Fr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Gg.get(n)||n,Fr(e,n,r))}}function Ud(e,t,n,r,c,u){switch(n){case"style":y0(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof r=="string"?In(e,r):(typeof r=="number"||typeof r=="bigint")&&In(e,""+r);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!d0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[Yt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,c);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Fr(e,n,r)}}}function Et(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var r=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var p=n[u];if(p!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,u,p,n,null)}}c&&Ve(e,t,"srcSet",n.srcSet,n,null),r&&Ve(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var w=u=p=c=null,M=null,$=null;for(r in n)if(n.hasOwnProperty(r)){var Q=n[r];if(Q!=null)switch(r){case"name":c=Q;break;case"type":p=Q;break;case"checked":M=Q;break;case"defaultChecked":$=Q;break;case"value":u=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Ve(e,t,r,Q,n,null)}}p0(e,u,w,M,$,p,c,!1);return;case"select":Te("invalid",e),r=p=u=null;for(c in n)if(n.hasOwnProperty(c)&&(w=n[c],w!=null))switch(c){case"value":u=w;break;case"defaultValue":p=w;break;case"multiple":r=w;default:Ve(e,t,c,w,n,null)}t=u,n=p,e.multiple=!!r,t!=null?Vn(e,!!r,t,!1):n!=null&&Vn(e,!!r,n,!0);return;case"textarea":Te("invalid",e),u=c=r=null;for(p in n)if(n.hasOwnProperty(p)&&(w=n[p],w!=null))switch(p){case"value":r=w;break;case"defaultValue":c=w;break;case"children":u=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:Ve(e,t,p,w,n,null)}g0(e,r,c,u);return;case"option":for(M in n)n.hasOwnProperty(M)&&(r=n[M],r!=null)&&(M==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ve(e,t,M,r,n,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(r=0;r<vr.length;r++)Te(vr[r],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in n)if(n.hasOwnProperty($)&&(r=n[$],r!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,$,r,n,null)}return;default:if(Jo(t)){for(Q in n)n.hasOwnProperty(Q)&&(r=n[Q],r!==void 0&&Ud(e,t,Q,r,n,void 0));return}}for(w in n)n.hasOwnProperty(w)&&(r=n[w],r!=null&&Ve(e,t,w,r,n,null))}function yy(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,p=null,w=null,M=null,$=null,Q=null;for(G in n){var ae=n[G];if(n.hasOwnProperty(G)&&ae!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=ae;default:r.hasOwnProperty(G)||Ve(e,t,G,null,r,ae)}}for(var V in r){var G=r[V];if(ae=n[V],r.hasOwnProperty(V)&&(G!=null||ae!=null))switch(V){case"type":u=G;break;case"name":c=G;break;case"checked":$=G;break;case"defaultChecked":Q=G;break;case"value":p=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:G!==ae&&Ve(e,t,V,G,r,ae)}}Qo(e,p,w,M,$,Q,u,c);return;case"select":G=p=w=V=null;for(u in n)if(M=n[u],n.hasOwnProperty(u)&&M!=null)switch(u){case"value":break;case"multiple":G=M;default:r.hasOwnProperty(u)||Ve(e,t,u,null,r,M)}for(c in r)if(u=r[c],M=n[c],r.hasOwnProperty(c)&&(u!=null||M!=null))switch(c){case"value":V=u;break;case"defaultValue":w=u;break;case"multiple":p=u;default:u!==M&&Ve(e,t,c,u,r,M)}t=w,n=p,r=G,V!=null?Vn(e,!!n,V,!1):!!r!=!!n&&(t!=null?Vn(e,!!n,t,!0):Vn(e,!!n,n?[]:"",!1));return;case"textarea":G=V=null;for(w in n)if(c=n[w],n.hasOwnProperty(w)&&c!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ve(e,t,w,null,r,c)}for(p in r)if(c=r[p],u=n[p],r.hasOwnProperty(p)&&(c!=null||u!=null))switch(p){case"value":V=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&Ve(e,t,p,c,r,u)}x0(e,V,G);return;case"option":for(var he in n)V=n[he],n.hasOwnProperty(he)&&V!=null&&!r.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:Ve(e,t,he,null,r,V));for(M in r)V=r[M],G=n[M],r.hasOwnProperty(M)&&V!==G&&(V!=null||G!=null)&&(M==="selected"?e.selected=V&&typeof V!="function"&&typeof V!="symbol":Ve(e,t,M,V,r,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in n)V=n[ye],n.hasOwnProperty(ye)&&V!=null&&!r.hasOwnProperty(ye)&&Ve(e,t,ye,null,r,V);for($ in r)if(V=r[$],G=n[$],r.hasOwnProperty($)&&V!==G&&(V!=null||G!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,t));break;default:Ve(e,t,$,V,r,G)}return;default:if(Jo(t)){for(var Ie in n)V=n[Ie],n.hasOwnProperty(Ie)&&V!==void 0&&!r.hasOwnProperty(Ie)&&Ud(e,t,Ie,void 0,r,V);for(Q in r)V=r[Q],G=n[Q],!r.hasOwnProperty(Q)||V===G||V===void 0&&G===void 0||Ud(e,t,Q,V,r,G);return}}for(var D in n)V=n[D],n.hasOwnProperty(D)&&V!=null&&!r.hasOwnProperty(D)&&Ve(e,t,D,null,r,V);for(ae in r)V=r[ae],G=n[ae],!r.hasOwnProperty(ae)||V===G||V==null&&G==null||Ve(e,t,ae,V,r,G)}function wh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var c=n[r],u=c.transferSize,p=c.initiatorType,w=c.duration;if(u&&w&&wh(p)){for(p=0,w=c.responseEnd,r+=1;r<n.length;r++){var M=n[r],$=M.startTime;if($>w)break;var Q=M.transferSize,ae=M.initiatorType;Q&&wh(ae)&&(M=M.responseEnd,p+=Q*(M<w?1:(w-$)/(M-$)))}if(--r,t+=8*(u+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hd=null,qd=null;function Xi(e){return e.nodeType===9?e:e.ownerDocument}function jh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pd=null;function wy(){var e=window.event;return e&&e.type==="popstate"?e===Pd?!1:(Pd=e,!0):(Pd=null,!1)}var Nh=typeof setTimeout=="function"?setTimeout:void 0,jy=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(e){return Sh.resolve(null).then(e).catch(Ny)}:Nh;function Ny(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function Ch(e,t){var n=t,r=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(c),wl(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")jr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,jr(n);for(var u=n.firstChild;u;){var p=u.nextSibling,w=u.nodeName;u[ql]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=p}}else n==="body"&&jr(e.ownerDocument.body);n=c}while(n);wl(t)}function Eh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Vd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vd(n),Ko(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Sy(e,t,n,r){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ka(e.nextSibling),e===null)break}return null}function Cy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ka(e.nextSibling),e===null))return null;return e}function Ah(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ka(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ey(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gd=null;function Th(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ka(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Lh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Mh(e,t,n){switch(t=Xi(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function jr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ko(e)}var Na=new Map,_h=new Set;function Ki(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ps=ee.d;ee.d={f:Ay,r:Ty,D:Ly,C:My,L:_y,m:Ry,X:Dy,S:Oy,M:By};function Ay(){var e=ps.f(),t=Hi();return e||t}function Ty(e){var t=qn(e);t!==null&&t.tag===5&&t.type==="form"?Ff(t):ps.r(e)}var bl=typeof document>"u"?null:document;function Rh(e,t,n){var r=bl;if(r&&typeof t=="string"&&t){var c=xa(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),_h.has(c)||(_h.add(c),e={rel:e,crossOrigin:n,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),Et(t,"link",e),yt(t),r.head.appendChild(t)))}}function Ly(e){ps.D(e),Rh("dns-prefetch",e,null)}function My(e,t){ps.C(e,t),Rh("preconnect",e,t)}function _y(e,t,n){ps.L(e,t,n);var r=bl;if(r&&e&&t){var c='link[rel="preload"][as="'+xa(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+xa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+xa(n.imageSizes)+'"]')):c+='[href="'+xa(e)+'"]';var u=c;switch(t){case"style":u=yl(e);break;case"script":u=vl(e)}Na.has(u)||(e=h({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Na.set(u,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(kr(u))||t==="script"&&r.querySelector(Nr(u))||(t=r.createElement("link"),Et(t,"link",e),yt(t),r.head.appendChild(t)))}}function Ry(e,t){ps.m(e,t);var n=bl;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+xa(r)+'"][href="'+xa(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=vl(e)}if(!Na.has(u)&&(e=h({rel:"modulepreload",href:e},t),Na.set(u,e),n.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nr(u)))return}r=n.createElement("link"),Et(r,"link",e),yt(r),n.head.appendChild(r)}}}function Oy(e,t,n){ps.S(e,t,n);var r=bl;if(r&&e){var c=$n(r).hoistableStyles,u=yl(e);t=t||"default";var p=c.get(u);if(!p){var w={loading:0,preload:null};if(p=r.querySelector(kr(u)))w.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Na.get(u))&&Xd(e,n);var M=p=r.createElement("link");yt(M),Et(M,"link",e),M._p=new Promise(function($,Q){M.onload=$,M.onerror=Q}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fi(p,t,r)}p={type:"stylesheet",instance:p,count:1,state:w},c.set(u,p)}}}function Dy(e,t){ps.X(e,t);var n=bl;if(n&&e){var r=$n(n).hoistableScripts,c=vl(e),u=r.get(c);u||(u=n.querySelector(Nr(c)),u||(e=h({src:e,async:!0},t),(t=Na.get(c))&&Kd(e,t),u=n.createElement("script"),yt(u),Et(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function By(e,t){ps.M(e,t);var n=bl;if(n&&e){var r=$n(n).hoistableScripts,c=vl(e),u=r.get(c);u||(u=n.querySelector(Nr(c)),u||(e=h({src:e,async:!0,type:"module"},t),(t=Na.get(c))&&Kd(e,t),u=n.createElement("script"),yt(u),Et(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function Oh(e,t,n,r){var c=(c=be.current)?Ki(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=yl(n.href),n=$n(c).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=yl(n.href);var u=$n(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(kr(e)))&&!u._p&&(p.instance=u,p.state.loading=5),Na.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Na.set(e,n),u||zy(c,e,n,p.state))),t&&r===null)throw Error(o(528,""));return p}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vl(n),n=$n(c).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function yl(e){return'href="'+xa(e)+'"'}function kr(e){return'link[rel="stylesheet"]['+e+"]"}function Dh(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function zy(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Et(t,"link",n),yt(t),e.head.appendChild(t))}function vl(e){return'[src="'+xa(e)+'"]'}function Nr(e){return"script[async]"+e}function Bh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+xa(n.href)+'"]');if(r)return t.instance=r,yt(r),r;var c=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),yt(r),Et(r,"style",c),Fi(r,n.precedence,e),t.instance=r;case"stylesheet":c=yl(n.href);var u=e.querySelector(kr(c));if(u)return t.state.loading|=4,t.instance=u,yt(u),u;r=Dh(n),(c=Na.get(c))&&Xd(r,c),u=(e.ownerDocument||e).createElement("link"),yt(u);var p=u;return p._p=new Promise(function(w,M){p.onload=w,p.onerror=M}),Et(u,"link",r),t.state.loading|=4,Fi(u,n.precedence,e),t.instance=u;case"script":return u=vl(n.src),(c=e.querySelector(Nr(u)))?(t.instance=c,yt(c),c):(r=n,(c=Na.get(u))&&(r=h({},n),Kd(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),yt(c),Et(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Fi(r,n.precedence,e));return t.instance}function Fi(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,p=0;p<r.length;p++){var w=r[p];if(w.dataset.precedence===t)u=w;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qi=null;function zh(e,t,n){if(Qi===null){var r=new Map,c=Qi=new Map;c.set(n,r)}else c=Qi,r=c.get(n),r||(r=new Map,c.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[ql]||u[kt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var w=r.get(p);w?w.push(u):r.set(p,[u])}}return r}function Uh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Uy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Hh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hy(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=yl(r.href),u=t.querySelector(kr(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zi.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,yt(u);return}u=t.ownerDocument||t,r=Dh(r),(c=Na.get(c))&&Xd(r,c),u=u.createElement("link"),yt(u);var p=u;p._p=new Promise(function(w,M){p.onload=w,p.onerror=M}),Et(u,"link",r),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Zi.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Fd=0;function qy(e,t){return e.stylesheets&&e.count===0&&Wi(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Fd===0&&(Fd=62500*vy());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Fd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ji=null;function Wi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ji=new Map,t.forEach($y,e),Ji=null,Zi.call(e))}function $y(e,t){if(!(t.state.loading&4)){var n=Ji.get(e);if(n)var r=n.get(null);else{n=new Map,Ji.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var p=c[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),r=p)}r&&n.set(null,r)}c=t.instance,p=c.getAttribute("data-precedence"),u=n.get(p)||r,u===r&&n.set(null,c),n.set(p,c),this.count++,r=Zi.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Sr={$$typeof:z,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Py(e,t,n,r,c,u,p,w,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.hiddenUpdates=Ns(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function qh(e,t,n,r,c,u,p,w,M,$,Q,ae){return e=new Py(e,t,n,p,M,$,Q,ae,w),t=1,u===!0&&(t|=24),u=na(3,null,null,t),e.current=u,u.stateNode=e,t=Ac(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:n,cache:t},_c(u),e}function $h(e){return e?(e=Zn,e):Zn}function Ph(e,t,n,r,c,u){c=$h(c),r.context===null?r.context=c:r.pendingContext=c,r=_s(t),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Rs(e,r,t),n!==null&&(Zt(n,e,t),sr(n,e,t))}function Vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qd(e,t){Vh(e,t),(e=e.alternate)&&Vh(e,t)}function Ih(e){if(e.tag===13||e.tag===31){var t=fn(e,67108864);t!==null&&Zt(t,e,67108864),Qd(e,67108864)}}function Yh(e){if(e.tag===13||e.tag===31){var t=ca();t=zn(t);var n=fn(e,t);n!==null&&Zt(n,e,t),Qd(e,t)}}var eo=!0;function Vy(e,t,n,r){var c=R.T;R.T=null;var u=ee.p;try{ee.p=2,Zd(e,t,n,r)}finally{ee.p=u,R.T=c}}function Iy(e,t,n,r){var c=R.T;R.T=null;var u=ee.p;try{ee.p=8,Zd(e,t,n,r)}finally{ee.p=u,R.T=c}}function Zd(e,t,n,r){if(eo){var c=Jd(r);if(c===null)zd(e,t,r,to,n),Xh(e,r);else if(Gy(c,e,t,n,r))r.stopPropagation();else if(Xh(e,r),t&4&&-1<Yy.indexOf(e)){for(;c!==null;){var u=qn(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=Ha(u.pendingLanes);if(p!==0){var w=u;for(w.pendingLanes|=2,w.entangledLanes|=2;p;){var M=1<<31-Lt(p);w.entanglements[1]|=M,p&=~M}Va(u),(Be&6)===0&&(zi=gt()+500,yr(0))}}break;case 31:case 13:w=fn(u,2),w!==null&&Zt(w,u,2),Hi(),Qd(u,2)}if(u=Jd(r),u===null&&zd(e,t,r,to,n),u===c)break;c=u}c!==null&&r.stopPropagation()}else zd(e,t,r,null,n)}}function Jd(e){return e=ec(e),Wd(e)}var to=null;function Wd(e){if(to=null,e=Hn(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return to=e,null}function Gh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Tt:return 2;case js:return 8;case Ge:case Za:return 32;case aa:return 268435456;default:return 32}default:return 32}}var eu=!1,Is=null,Ys=null,Gs=null,Cr=new Map,Er=new Map,Xs=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xh(e,t){switch(e){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function Ar(e,t,n,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},t!==null&&(t=qn(t),t!==null&&Ih(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Gy(e,t,n,r,c){switch(t){case"focusin":return Is=Ar(Is,e,t,n,r,c),!0;case"dragenter":return Ys=Ar(Ys,e,t,n,r,c),!0;case"mouseover":return Gs=Ar(Gs,e,t,n,r,c),!0;case"pointerover":var u=c.pointerId;return Cr.set(u,Ar(Cr.get(u)||null,e,t,n,r,c)),!0;case"gotpointercapture":return u=c.pointerId,Er.set(u,Ar(Er.get(u)||null,e,t,n,r,c)),!0}return!1}function Kh(e){var t=Hn(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,i0(e.priority,function(){Yh(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,i0(e.priority,function(){Yh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jd(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wo=r,n.target.dispatchEvent(r),Wo=null}else return t=qn(n),t!==null&&Ih(t),e.blockedOn=n,!1;t.shift()}return!0}function Fh(e,t,n){ao(e)&&n.delete(t)}function Xy(){eu=!1,Is!==null&&ao(Is)&&(Is=null),Ys!==null&&ao(Ys)&&(Ys=null),Gs!==null&&ao(Gs)&&(Gs=null),Cr.forEach(Fh),Er.forEach(Fh)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Xy)))}var no=null;function Qh(e){no!==e&&(no=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){no===e&&(no=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Wd(r||n)===null)continue;break}var u=qn(n);u!==null&&(e.splice(t,3),t-=3,Jc(u,{pending:!0,data:c,method:n.method,action:r},r,c))}}))}function wl(e){function t(M){return so(M,e)}Is!==null&&so(Is,e),Ys!==null&&so(Ys,e),Gs!==null&&so(Gs,e),Cr.forEach(t),Er.forEach(t);for(var n=0;n<Xs.length;n++){var r=Xs[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Xs.length&&(n=Xs[0],n.blockedOn===null);)Kh(n),n.blockedOn===null&&Xs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var c=n[r],u=n[r+1],p=c[Yt]||null;if(typeof u=="function")p||Qh(n);else if(p){var w=null;if(u&&u.hasAttribute("formAction")){if(c=u,p=u[Yt]||null)w=p.formAction;else if(Wd(c)!==null)continue}else w=p.action;typeof w=="function"?n[r+1]=w:(n.splice(r,3),r-=3),Qh(n)}}}function Zh(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function tu(e){this._internalRoot=e}lo.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,r=ca();Ph(n,r,e,t,null,null)},lo.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ph(e.current,2,null,e,null,null),Hi(),t[Un]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Go();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xs.length&&t!==0&&t<Xs[n].priority;n++);Xs.splice(n,0,e),n===0&&Kh(e)}};var Jh=l.version;if(Jh!=="19.2.3")throw Error(o(527,Jh,"19.2.3"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Ky={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{ks=ro.inject(Ky),zt=ro}catch{}}return Lr.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,r="",c=lm,u=rm,p=im;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=qh(e,1,!1,null,null,n,r,null,c,u,p,Zh),e[Un]=t.current,Bd(e),new tu(t)},Lr.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var r=!1,c="",u=lm,p=rm,w=im,M=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.formState!==void 0&&(M=n.formState)),t=qh(e,1,!0,t,n??null,r,c,M,u,p,w,Zh),t.context=$h(null),n=t.current,r=ca(),r=zn(r),c=_s(r),c.callback=null,Rs(n,c,r),n=r,t.current.lanes=n,et(t,n),Va(t),e[Un]=t.current,Bd(e),new lo(t)},Lr.version="19.2.3",Lr}var op;function s2(){if(op)return nu.exports;op=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),nu.exports=a2(),nu.exports}var n2=s2();const l2=Mu(n2);var cp="popstate";function r2(s={}){function l(o,d){let{pathname:f,search:m,hash:g}=o.location;return vu("",{pathname:f,search:m,hash:g},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(o,d){return typeof d=="string"?d:Rr(d)}return o2(l,i,null,s)}function We(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function Da(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function i2(){return Math.random().toString(36).substring(2,10)}function dp(s,l){return{usr:s.state,key:s.key,idx:l}}function vu(s,l,i=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Ll(l):l,state:i,key:l&&l.key||o||i2()}}function Rr({pathname:s="/",search:l="",hash:i=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Ll(s){let l={};if(s){let i=s.indexOf("#");i>=0&&(l.hash=s.substring(i),s=s.substring(0,i));let o=s.indexOf("?");o>=0&&(l.search=s.substring(o),s=s.substring(0,o)),s&&(l.pathname=s)}return l}function o2(s,l,i,o={}){let{window:d=document.defaultView,v5Compat:f=!1}=o,m=d.history,g="POP",b=null,x=v();x==null&&(x=0,m.replaceState({...m.state,idx:x},""));function v(){return(m.state||{idx:null}).idx}function h(){g="POP";let j=v(),T=j==null?null:j-x;x=j,b&&b({action:g,location:k.location,delta:T})}function S(j,T){g="PUSH";let C=vu(k.location,j,T);x=v()+1;let z=dp(C,x),O=k.createHref(C);try{m.pushState(z,"",O)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;d.location.assign(O)}f&&b&&b({action:g,location:k.location,delta:1})}function E(j,T){g="REPLACE";let C=vu(k.location,j,T);x=v();let z=dp(C,x),O=k.createHref(C);m.replaceState(z,"",O),f&&b&&b({action:g,location:k.location,delta:0})}function N(j){return c2(j)}let k={get action(){return g},get location(){return s(d,m)},listen(j){if(b)throw new Error("A history only accepts one active listener");return d.addEventListener(cp,h),b=j,()=>{d.removeEventListener(cp,h),b=null}},createHref(j){return l(d,j)},createURL:N,encodeLocation(j){let T=N(j);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:E,go(j){return m.go(j)}};return k}function c2(s,l=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),We(i,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:Rr(s);return o=o.replace(/ $/,"%20"),!l&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function Jp(s,l,i="/"){return d2(s,l,i,!1)}function d2(s,l,i,o){let d=typeof l=="string"?Ll(l):l,f=bs(d.pathname||"/",i);if(f==null)return null;let m=Wp(s);u2(m);let g=null;for(let b=0;g==null&&b<m.length;++b){let x=j2(f);g=v2(m[b],x,o)}return g}function Wp(s,l=[],i=[],o="",d=!1){let f=(m,g,b=d,x)=>{let v={relativePath:x===void 0?m.path||"":x,caseSensitive:m.caseSensitive===!0,childrenIndex:g,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(o)&&b)return;We(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length)}let h=xs([o,v.relativePath]),S=i.concat(v);m.children&&m.children.length>0&&(We(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Wp(m.children,l,S,h,b)),!(m.path==null&&!m.index)&&l.push({path:h,score:b2(h,m.index),routesMeta:S})};return s.forEach((m,g)=>{if(m.path===""||!m.path?.includes("?"))f(m,g);else for(let b of ex(m.path))f(m,g,!0,b)}),l}function ex(s){let l=s.split("/");if(l.length===0)return[];let[i,...o]=l,d=i.endsWith("?"),f=i.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let m=ex(o.join("/")),g=[];return g.push(...m.map(b=>b===""?f:[f,b].join("/"))),d&&g.push(...m),g.map(b=>s.startsWith("/")&&b===""?"/":b)}function u2(s){s.sort((l,i)=>l.score!==i.score?i.score-l.score:y2(l.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var f2=/^:[\w-]+$/,m2=3,h2=2,p2=1,x2=10,g2=-2,up=s=>s==="*";function b2(s,l){let i=s.split("/"),o=i.length;return i.some(up)&&(o+=g2),l&&(o+=h2),i.filter(d=>!up(d)).reduce((d,f)=>d+(f2.test(f)?m2:f===""?p2:x2),o)}function y2(s,l){return s.length===l.length&&s.slice(0,-1).every((o,d)=>o===l[d])?s[s.length-1]-l[l.length-1]:0}function v2(s,l,i=!1){let{routesMeta:o}=s,d={},f="/",m=[];for(let g=0;g<o.length;++g){let b=o[g],x=g===o.length-1,v=f==="/"?l:l.slice(f.length)||"/",h=vo({path:b.relativePath,caseSensitive:b.caseSensitive,end:x},v),S=b.route;if(!h&&x&&i&&!o[o.length-1].route.index&&(h=vo({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},v)),!h)return null;Object.assign(d,h.params),m.push({params:d,pathname:xs([f,h.pathname]),pathnameBase:C2(xs([f,h.pathnameBase])),route:S}),h.pathnameBase!=="/"&&(f=xs([f,h.pathnameBase]))}return m}function vo(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=w2(s.path,s.caseSensitive,s.end),d=l.match(i);if(!d)return null;let f=d[0],m=f.replace(/(.)\/+$/,"$1"),g=d.slice(1);return{params:o.reduce((x,{paramName:v,isOptional:h},S)=>{if(v==="*"){let N=g[S]||"";m=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const E=g[S];return h&&!E?x[v]=void 0:x[v]=(E||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:m,pattern:s}}function w2(s,l=!1,i=!0){Da(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,b)=>(o.push({paramName:g,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(o.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,l?void 0:"i"),o]}function j2(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Da(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function bs(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let i=l.endsWith("/")?l.length-1:l.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}var k2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function N2(s,l="/"){let{pathname:i,search:o="",hash:d=""}=typeof s=="string"?Ll(s):s,f;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?f=fp(i.substring(1),"/"):f=fp(i,l)):f=l,{pathname:f,search:E2(o),hash:A2(d)}}function fp(s,l){let i=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function ou(s,l,i,o){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S2(s){return s.filter((l,i)=>i===0||l.route.path&&l.route.path.length>0)}function Ru(s){let l=S2(s);return l.map((i,o)=>o===l.length-1?i.pathname:i.pathnameBase)}function Ou(s,l,i,o=!1){let d;typeof s=="string"?d=Ll(s):(d={...s},We(!d.pathname||!d.pathname.includes("?"),ou("?","pathname","search",d)),We(!d.pathname||!d.pathname.includes("#"),ou("#","pathname","hash",d)),We(!d.search||!d.search.includes("#"),ou("#","search","hash",d)));let f=s===""||d.pathname==="",m=f?"/":d.pathname,g;if(m==null)g=i;else{let h=l.length-1;if(!o&&m.startsWith("..")){let S=m.split("/");for(;S[0]==="..";)S.shift(),h-=1;d.pathname=S.join("/")}g=h>=0?l[h]:"/"}let b=N2(d,g),x=m&&m!=="/"&&m.endsWith("/"),v=(f||m===".")&&i.endsWith("/");return!b.pathname.endsWith("/")&&(x||v)&&(b.pathname+="/"),b}var xs=s=>s.join("/").replace(/\/\/+/g,"/"),C2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),E2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,A2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,T2=class{constructor(s,l,i,o=!1){this.status=s,this.statusText=l||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function L2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function M2(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ax(s,l){let i=s;if(typeof i!="string"||!k2.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let o=i,d=!1;if(tx)try{let f=new URL(window.location.href),m=i.startsWith("//")?new URL(f.protocol+i):new URL(i),g=bs(m.pathname,l);m.origin===f.origin&&g!=null?i=g+m.search+m.hash:d=!0}catch{Da(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sx=["POST","PUT","PATCH","DELETE"];new Set(sx);var _2=["GET",...sx];new Set(_2);var Ml=y.createContext(null);Ml.displayName="DataRouter";var Ro=y.createContext(null);Ro.displayName="DataRouterState";var R2=y.createContext(!1),nx=y.createContext({isTransitioning:!1});nx.displayName="ViewTransition";var O2=y.createContext(new Map);O2.displayName="Fetchers";var D2=y.createContext(null);D2.displayName="Await";var ua=y.createContext(null);ua.displayName="Navigation";var Br=y.createContext(null);Br.displayName="Location";var Ba=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ba.displayName="Route";var Du=y.createContext(null);Du.displayName="RouteError";var lx="REACT_ROUTER_ERROR",B2="REDIRECT",z2="ROUTE_ERROR_RESPONSE";function U2(s){if(s.startsWith(`${lx}:${B2}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function H2(s){if(s.startsWith(`${lx}:${z2}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new T2(l.status,l.statusText,l.data)}catch{}}function q2(s,{relative:l}={}){We(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=y.useContext(ua),{hash:d,pathname:f,search:m}=zr(s,{relative:l}),g=f;return i!=="/"&&(g=f==="/"?i:xs([i,f])),o.createHref({pathname:g,search:m,hash:d})}function _l(){return y.useContext(Br)!=null}function Ka(){return We(_l(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Br).location}var rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ix(s){y.useContext(ua).static||y.useLayoutEffect(s)}function tn(){let{isDataRoute:s}=y.useContext(Ba);return s?ev():$2()}function $2(){We(_l(),"useNavigate() may be used only in the context of a <Router> component.");let s=y.useContext(Ml),{basename:l,navigator:i}=y.useContext(ua),{matches:o}=y.useContext(Ba),{pathname:d}=Ka(),f=JSON.stringify(Ru(o)),m=y.useRef(!1);return ix(()=>{m.current=!0}),y.useCallback((b,x={})=>{if(Da(m.current,rx),!m.current)return;if(typeof b=="number"){i.go(b);return}let v=Ou(b,JSON.parse(f),d,x.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:xs([l,v.pathname])),(x.replace?i.replace:i.push)(v,x.state,x)},[l,i,f,d,s])}y.createContext(null);function P2(){let{matches:s}=y.useContext(Ba),l=s[s.length-1];return l?l.params:{}}function zr(s,{relative:l}={}){let{matches:i}=y.useContext(Ba),{pathname:o}=Ka(),d=JSON.stringify(Ru(i));return y.useMemo(()=>Ou(s,JSON.parse(d),o,l==="path"),[s,d,o,l])}function V2(s,l){return ox(s,l)}function ox(s,l,i,o,d){We(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=y.useContext(ua),{matches:m}=y.useContext(Ba),g=m[m.length-1],b=g?g.params:{},x=g?g.pathname:"/",v=g?g.pathnameBase:"/",h=g&&g.route;{let C=h&&h.path||"";dx(x,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let S=Ka(),E;if(l){let C=typeof l=="string"?Ll(l):l;We(v==="/"||C.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${C.pathname}" was given in the \`location\` prop.`),E=C}else E=S;let N=E.pathname||"/",k=N;if(v!=="/"){let C=v.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=Jp(s,{pathname:k});Da(h||j!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Da(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=K2(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},b,C.params),pathname:xs([v,f.encodeLocation?f.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?v:xs([v,f.encodeLocation?f.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),m,i,o,d);return l&&T?y.createElement(Br.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},T):T}function I2(){let s=W2(),l=L2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:f},"ErrorBoundary")," or"," ",y.createElement("code",{style:f},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},l),i?y.createElement("pre",{style:d},i):null,m)}var Y2=y.createElement(I2,null),cx=class extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=H2(s.digest);i&&(s=i)}let l=s!==void 0?y.createElement(Ba.Provider,{value:this.props.routeContext},y.createElement(Du.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?y.createElement(G2,{error:s},l):l}};cx.contextType=R2;var cu=new WeakMap;function G2({children:s,error:l}){let{basename:i}=y.useContext(ua);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let o=U2(l.digest);if(o){let d=cu.get(l);if(d)throw d;let f=ax(o.location,i);if(tx&&!cu.get(l))if(f.isExternal||o.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:o.replace}));throw cu.set(l,m),m}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return s}function X2({routeContext:s,match:l,children:i}){let o=y.useContext(Ml);return o&&o.static&&o.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=l.route.id),y.createElement(Ba.Provider,{value:s},i)}function K2(s,l=[],i=null,o=null,d=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(l.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let f=s,m=i?.errors;if(m!=null){let v=f.findIndex(h=>h.route.id&&m?.[h.route.id]!==void 0);We(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let g=!1,b=-1;if(i)for(let v=0;v<f.length;v++){let h=f[v];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(b=v),h.route.id){let{loaderData:S,errors:E}=i,N=h.route.loader&&!S.hasOwnProperty(h.route.id)&&(!E||E[h.route.id]===void 0);if(h.route.lazy||N){g=!0,b>=0?f=f.slice(0,b+1):f=[f[0]];break}}}let x=i&&o?(v,h)=>{o(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:M2(i.matches),errorInfo:h})}:void 0;return f.reduceRight((v,h,S)=>{let E,N=!1,k=null,j=null;i&&(E=m&&h.route.id?m[h.route.id]:void 0,k=h.route.errorElement||Y2,g&&(b<0&&S===0?(dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,j=null):b===S&&(N=!0,j=h.route.hydrateFallbackElement||null)));let T=l.concat(f.slice(0,S+1)),C=()=>{let z;return E?z=k:N?z=j:h.route.Component?z=y.createElement(h.route.Component,null):h.route.element?z=h.route.element:z=v,y.createElement(X2,{match:h,routeContext:{outlet:v,matches:T,isDataRoute:i!=null},children:z})};return i&&(h.route.ErrorBoundary||h.route.errorElement||S===0)?y.createElement(cx,{location:i.location,revalidation:i.revalidation,component:k,error:E,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:x}):C()},null)}function Bu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F2(s){let l=y.useContext(Ml);return We(l,Bu(s)),l}function Q2(s){let l=y.useContext(Ro);return We(l,Bu(s)),l}function Z2(s){let l=y.useContext(Ba);return We(l,Bu(s)),l}function zu(s){let l=Z2(s),i=l.matches[l.matches.length-1];return We(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function J2(){return zu("useRouteId")}function W2(){let s=y.useContext(Du),l=Q2("useRouteError"),i=zu("useRouteError");return s!==void 0?s:l.errors?.[i]}function ev(){let{router:s}=F2("useNavigate"),l=zu("useNavigate"),i=y.useRef(!1);return ix(()=>{i.current=!0}),y.useCallback(async(d,f={})=>{Da(i.current,rx),i.current&&(typeof d=="number"?await s.navigate(d):await s.navigate(d,{fromRouteId:l,...f}))},[s,l])}var mp={};function dx(s,l,i){!l&&!mp[s]&&(mp[s]=!0,Da(!1,i))}y.memo(tv);function tv({routes:s,future:l,state:i,onError:o}){return ox(s,void 0,i,o,l)}function du({to:s,replace:l,state:i,relative:o}){We(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=y.useContext(ua);Da(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=y.useContext(Ba),{pathname:m}=Ka(),g=tn(),b=Ou(s,Ru(f),m,o==="path"),x=JSON.stringify(b);return y.useEffect(()=>{g(JSON.parse(x),{replace:l,state:i,relative:o})},[g,x,o,l,i]),null}function mt(s){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function av({basename:s="/",children:l=null,location:i,navigationType:o="POP",navigator:d,static:f=!1,unstable_useTransitions:m}){We(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),b=y.useMemo(()=>({basename:g,navigator:d,static:f,unstable_useTransitions:m,future:{}}),[g,d,f,m]);typeof i=="string"&&(i=Ll(i));let{pathname:x="/",search:v="",hash:h="",state:S=null,key:E="default"}=i,N=y.useMemo(()=>{let k=bs(x,g);return k==null?null:{location:{pathname:k,search:v,hash:h,state:S,key:E},navigationType:o}},[g,x,v,h,S,E,o]);return Da(N!=null,`<Router basename="${g}"> is not able to match the URL "${x}${v}${h}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:y.createElement(ua.Provider,{value:b},y.createElement(Br.Provider,{children:l,value:N}))}function hp({children:s,location:l}){return V2(wu(s),l)}function wu(s,l=[]){let i=[];return y.Children.forEach(s,(o,d)=>{if(!y.isValidElement(o))return;let f=[...l,d];if(o.type===y.Fragment){i.push.apply(i,wu(o.props.children,f));return}We(o.type===mt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=wu(o.props.children,f)),i.push(m)}),i}var mo="get",ho="application/x-www-form-urlencoded";function Oo(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function sv(s){return Oo(s)&&s.tagName.toLowerCase()==="button"}function nv(s){return Oo(s)&&s.tagName.toLowerCase()==="form"}function lv(s){return Oo(s)&&s.tagName.toLowerCase()==="input"}function rv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function iv(s,l){return s.button===0&&(!l||l==="_self")&&!rv(s)}var io=null;function ov(){if(io===null)try{new FormData(document.createElement("form"),0),io=!1}catch{io=!0}return io}var cv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uu(s){return s!=null&&!cv.has(s)?(Da(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ho}"`),null):s}function dv(s,l){let i,o,d,f,m;if(nv(s)){let g=s.getAttribute("action");o=g?bs(g,l):null,i=s.getAttribute("method")||mo,d=uu(s.getAttribute("enctype"))||ho,f=new FormData(s)}else if(sv(s)||lv(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=s.getAttribute("formaction")||g.getAttribute("action");if(o=b?bs(b,l):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||mo,d=uu(s.getAttribute("formenctype"))||uu(g.getAttribute("enctype"))||ho,f=new FormData(g,s),!ov()){let{name:x,type:v,value:h}=s;if(v==="image"){let S=x?`${x}.`:"";f.append(`${S}x`,"0"),f.append(`${S}y`,"0")}else x&&f.append(x,h)}}else{if(Oo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=mo,o=null,d=ho,m=s}return f&&d==="text/plain"&&(m=f,f=void 0),{action:o,method:i.toLowerCase(),encType:d,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uu(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function uv(s,l,i,o){let d=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:l&&bs(d.pathname,l)==="/"?d.pathname=`${l.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function fv(s,l){if(s.id in l)return l[s.id];try{let i=await import(s.module);return l[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function hv(s,l,i){let o=await Promise.all(s.map(async d=>{let f=l.routes[d.route.id];if(f){let m=await fv(f,i);return m.links?m.links():[]}return[]}));return bv(o.flat(1).filter(mv).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function pp(s,l,i,o,d,f){let m=(b,x)=>i[x]?b.route.id!==i[x].route.id:!0,g=(b,x)=>i[x].pathname!==b.pathname||i[x].route.path?.endsWith("*")&&i[x].params["*"]!==b.params["*"];return f==="assets"?l.filter((b,x)=>m(b,x)||g(b,x)):f==="data"?l.filter((b,x)=>{let v=o.routes[b.route.id];if(!v||!v.hasLoader)return!1;if(m(b,x)||g(b,x))return!0;if(b.route.shouldRevalidate){let h=b.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function pv(s,l,{includeHydrateFallback:i}={}){return xv(s.map(o=>{let d=l.routes[o.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),i&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function xv(s){return[...new Set(s)]}function gv(s){let l={},i=Object.keys(s).sort();for(let o of i)l[o]=s[o];return l}function bv(s,l){let i=new Set;return new Set(l),s.reduce((o,d)=>{let f=JSON.stringify(gv(d));return i.has(f)||(i.add(f),o.push({key:f,link:d})),o},[])}function ux(){let s=y.useContext(Ml);return Uu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function yv(){let s=y.useContext(Ro);return Uu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Hu=y.createContext(void 0);Hu.displayName="FrameworkContext";function fx(){let s=y.useContext(Hu);return Uu(s,"You must render this element inside a <HydratedRouter> element"),s}function vv(s,l){let i=y.useContext(Hu),[o,d]=y.useState(!1),[f,m]=y.useState(!1),{onFocus:g,onBlur:b,onMouseEnter:x,onMouseLeave:v,onTouchStart:h}=l,S=y.useRef(null);y.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let k=T=>{T.forEach(C=>{m(C.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[s]),y.useEffect(()=>{if(o){let k=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(k)}}},[o]);let E=()=>{d(!0)},N=()=>{d(!1),m(!1)};return i?s!=="intent"?[f,S,{}]:[f,S,{onFocus:Mr(g,E),onBlur:Mr(b,N),onMouseEnter:Mr(x,E),onMouseLeave:Mr(v,N),onTouchStart:Mr(h,E)}]:[!1,S,{}]}function Mr(s,l){return i=>{s&&s(i),i.defaultPrevented||l(i)}}function wv({page:s,...l}){let{router:i}=ux(),o=y.useMemo(()=>Jp(i.routes,s,i.basename),[i.routes,s,i.basename]);return o?y.createElement(kv,{page:s,matches:o,...l}):null}function jv(s){let{manifest:l,routeModules:i}=fx(),[o,d]=y.useState([]);return y.useEffect(()=>{let f=!1;return hv(s,l,i).then(m=>{f||d(m)}),()=>{f=!0}},[s,l,i]),o}function kv({page:s,matches:l,...i}){let o=Ka(),{future:d,manifest:f,routeModules:m}=fx(),{basename:g}=ux(),{loaderData:b,matches:x}=yv(),v=y.useMemo(()=>pp(s,l,x,f,o,"data"),[s,l,x,f,o]),h=y.useMemo(()=>pp(s,l,x,f,o,"assets"),[s,l,x,f,o]),S=y.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let k=new Set,j=!1;if(l.forEach(C=>{let z=f.routes[C.route.id];!z||!z.hasLoader||(!v.some(O=>O.route.id===C.route.id)&&C.route.id in b&&m[C.route.id]?.shouldRevalidate||z.hasClientLoader?j=!0:k.add(C.route.id))}),k.size===0)return[];let T=uv(s,g,d.unstable_trailingSlashAwareDataRequests,"data");return j&&k.size>0&&T.searchParams.set("_routes",l.filter(C=>k.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[g,d.unstable_trailingSlashAwareDataRequests,b,o,f,v,l,s,m]),E=y.useMemo(()=>pv(h,f),[h,f]),N=jv(h);return y.createElement(y.Fragment,null,S.map(k=>y.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),E.map(k=>y.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),N.map(({key:k,link:j})=>y.createElement("link",{key:k,nonce:i.nonce,...j,crossOrigin:j.crossOrigin??i.crossOrigin})))}function Nv(...s){return l=>{s.forEach(i=>{typeof i=="function"?i(l):i!=null&&(i.current=l)})}}var Sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sv&&(window.__reactRouterVersion="7.13.0")}catch{}function Cv({basename:s,children:l,unstable_useTransitions:i,window:o}){let d=y.useRef();d.current==null&&(d.current=r2({window:o,v5Compat:!0}));let f=d.current,[m,g]=y.useState({action:f.action,location:f.location}),b=y.useCallback(x=>{i===!1?g(x):y.startTransition(()=>g(x))},[i]);return y.useLayoutEffect(()=>f.listen(b),[f,b]),y.createElement(av,{basename:s,children:l,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i})}var mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hx=y.forwardRef(function({onClick:l,discover:i="render",prefetch:o="none",relative:d,reloadDocument:f,replace:m,state:g,target:b,to:x,preventScrollReset:v,viewTransition:h,unstable_defaultShouldRevalidate:S,...E},N){let{basename:k,unstable_useTransitions:j}=y.useContext(ua),T=typeof x=="string"&&mx.test(x),C=ax(x,k);x=C.to;let z=q2(x,{relative:d}),[O,X,I]=vv(o,E),Z=Lv(x,{replace:m,state:g,target:b,preventScrollReset:v,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:S,unstable_useTransitions:j});function ue(U){l&&l(U),U.defaultPrevented||Z(U)}let ie=y.createElement("a",{...E,...I,href:C.absoluteURL||z,onClick:C.isExternal||f?l:ue,ref:Nv(N,X),target:b,"data-discover":!T&&i==="render"?"true":void 0});return O&&!T?y.createElement(y.Fragment,null,ie,y.createElement(wv,{page:z})):ie});hx.displayName="Link";var Ev=y.forwardRef(function({"aria-current":l="page",caseSensitive:i=!1,className:o="",end:d=!1,style:f,to:m,viewTransition:g,children:b,...x},v){let h=zr(m,{relative:x.relative}),S=Ka(),E=y.useContext(Ro),{navigator:N,basename:k}=y.useContext(ua),j=E!=null&&Dv(h)&&g===!0,T=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,C=S.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(C=C.toLowerCase(),z=z?z.toLowerCase():null,T=T.toLowerCase()),z&&k&&(z=bs(z,k)||z);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let X=C===T||!d&&C.startsWith(T)&&C.charAt(O)==="/",I=z!=null&&(z===T||!d&&z.startsWith(T)&&z.charAt(T.length)==="/"),Z={isActive:X,isPending:I,isTransitioning:j},ue=X?l:void 0,ie;typeof o=="function"?ie=o(Z):ie=[o,X?"active":null,I?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let U=typeof f=="function"?f(Z):f;return y.createElement(hx,{...x,"aria-current":ue,className:ie,ref:v,style:U,to:m,viewTransition:g},typeof b=="function"?b(Z):b)});Ev.displayName="NavLink";var Av=y.forwardRef(({discover:s="render",fetcherKey:l,navigate:i,reloadDocument:o,replace:d,state:f,method:m=mo,action:g,onSubmit:b,relative:x,preventScrollReset:v,viewTransition:h,unstable_defaultShouldRevalidate:S,...E},N)=>{let{unstable_useTransitions:k}=y.useContext(ua),j=Rv(),T=Ov(g,{relative:x}),C=m.toLowerCase()==="get"?"get":"post",z=typeof g=="string"&&mx.test(g),O=X=>{if(b&&b(X),X.defaultPrevented)return;X.preventDefault();let I=X.nativeEvent.submitter,Z=I?.getAttribute("formmethod")||m,ue=()=>j(I||X.currentTarget,{fetcherKey:l,method:Z,navigate:i,replace:d,state:f,relative:x,preventScrollReset:v,viewTransition:h,unstable_defaultShouldRevalidate:S});k&&i!==!1?y.startTransition(()=>ue()):ue()};return y.createElement("form",{ref:N,method:C,action:T,onSubmit:o?b:O,...E,"data-discover":!z&&s==="render"?"true":void 0})});Av.displayName="Form";function Tv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(s){let l=y.useContext(Ml);return We(l,Tv(s)),l}function Lv(s,{target:l,replace:i,state:o,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:b}={}){let x=tn(),v=Ka(),h=zr(s,{relative:f});return y.useCallback(S=>{if(iv(S,l)){S.preventDefault();let E=i!==void 0?i:Rr(v)===Rr(h),N=()=>x(s,{replace:E,state:o,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:g});b?y.startTransition(()=>N()):N()}},[v,x,h,i,o,l,s,d,f,m,g,b])}var Mv=0,_v=()=>`__${String(++Mv)}__`;function Rv(){let{router:s}=px("useSubmit"),{basename:l}=y.useContext(ua),i=J2(),o=s.fetch,d=s.navigate;return y.useCallback(async(f,m={})=>{let{action:g,method:b,encType:x,formData:v,body:h}=dv(f,l);if(m.navigate===!1){let S=m.fetcherKey||_v();await o(S,i,m.action||g,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:v,body:h,formMethod:m.method||b,formEncType:m.encType||x,flushSync:m.flushSync})}else await d(m.action||g,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:v,body:h,formMethod:m.method||b,formEncType:m.encType||x,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[o,d,l,i])}function Ov(s,{relative:l}={}){let{basename:i}=y.useContext(ua),o=y.useContext(Ba);We(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),f={...zr(s||".",{relative:l})},m=Ka();if(s==null){f.search=m.search;let g=new URLSearchParams(f.search),b=g.getAll("index");if(b.some(v=>v==="")){g.delete("index"),b.filter(h=>h).forEach(h=>g.append("index",h));let v=g.toString();f.search=v?`?${v}`:""}}return(!s||s===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:xs([i,f.pathname])),Rr(f)}function Dv(s,{relative:l}={}){let i=y.useContext(nx);We(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=px("useViewTransitionState"),d=zr(s,{relative:l});if(!i.isTransitioning)return!1;let f=bs(i.currentLocation.pathname,o)||i.currentLocation.pathname,m=bs(i.nextLocation.pathname,o)||i.nextLocation.pathname;return vo(d.pathname,m)!=null||vo(d.pathname,f)!=null}var Bv=Zp();const zv=Mu(Bv),Uv=()=>a.jsx("footer",{className:"mt-auto border-t border-gray-300 dark:border-slate-800/60 pt-12",children:a.jsx("div",{className:"flex w-full items-center justify-between gap-6 px-2",children:a.jsxs("div",{className:"flex flex-col w-full items-center justify-center space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-white rounded flex items-center justify-center text-[10px] font-black text-white",children:a.jsx("img",{src:"/EasyTech.svg",alt:"Logo",className:""})}),a.jsxs("span",{className:"text-sm font-black text-gray-900 dark:text-white tracking-tight",children:["Easy Tech ",a.jsx("span",{className:"text-gray-400 font-medium",children:"Cloud"})]})]}),a.jsxs("p",{className:"text-[10px] text-center text-gray-500 font-medium uppercase tracking-widest",children:[" ",new Date().getFullYear()," Enterprise ISP Management System. ",a.jsx("br",{className:"lg:hidden"})," All rights reserved."]})]})})}),Hv=({navItems:s,theme:l,toggleTheme:i,children:o,currentUser:d,onLogout:f})=>{const m=tn(),g=Ka(),[b,x]=y.useState("dashboard"),[v,h]=y.useState(""),[S,E]=y.useState(!1);y.useEffect(()=>{const j=g.pathname.split("/").filter(Boolean);j[0]&&x(j[0]),j[1]?h(j[1]):h("")},[g.pathname]);const N=()=>{if(!v)return"";const T=s.find(C=>C.id===b)?.subItems?.find(C=>C.id===v);return T?` / ${T.label}`:""},k=j=>j==="management"||j==="crm"||j==="revenue"?!0:b===j;return a.jsxs("div",{className:"h-screen w-full flex bg-gray-50 dark:bg-slate-950 transition-all duration-300 overflow-hidden font-sans",children:[S&&a.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:()=>E(!1)}),a.jsxs("aside",{className:`
          bg-slate-900 text-white flex flex-col h-full fixed lg:relative z-40 shadow-2xl transition-all duration-300 ease-in-out
          ${S?"translate-x-0 w-72 lg:w-64":"-translate-x-full lg:translate-x-0 w-72 lg:w-20"}
        `,children:[a.jsxs("div",{className:"p-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center font-bold shadow-lg shadow-blue-500/20",children:a.jsx("img",{src:"/EasyTech.svg",alt:"Logo",className:""})}),(S||window.innerWidth<1024)&&a.jsx("span",{className:"font-bold text-lg tracking-tight",children:"EasyTech"})]}),a.jsx("button",{onClick:()=>E(!1),className:"lg:hidden p-2 hover:bg-slate-800 rounded-lg text-slate-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto px-4 space-y-1 py-2 scrollbar-hide",children:s.map(j=>a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{if(x(j.id),!j.subItems)m(`/${j.id}`);else{const C=j.subItems.some(z=>z.id===v)?v:j.subItems[0].id;m(`/${j.id}/${C}`)}!j.subItems&&window.innerWidth<1024&&E(!1)},className:`w-full flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${b===j.id?"bg-blue-600 text-white shadow-lg shadow-blue-500/10":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx("div",{className:"w-5 h-5 flex-shrink-0",children:j.icon}),(S||window.innerWidth<1024)&&a.jsx("span",{className:"text-sm font-medium",children:j.label})]}),(S||window.innerWidth<1024)&&j.subItems&&k(j.id)&&a.jsx("div",{className:"mt-1 ml-6 space-y-1 border-l border-slate-700/50 pl-4 animate-in slide-in-from-top-2",children:j.subItems.map(T=>a.jsx("button",{onClick:()=>{x(j.id),m(`/${j.id}/${T.id}`),window.innerWidth<1024&&E(!1)},className:`w-full text-left py-2 text-xs transition-colors rounded-r-lg pl-2 ${b===j.id&&v===T.id?"text-blue-400 font-bold bg-blue-500/5":"text-slate-500 hover:text-white hover:bg-slate-800/50"}`,children:T.label},T.id))})]},j.id))}),(S||window.innerWidth<1024)&&a.jsx("div",{className:"p-4 border-t border-slate-800",children:a.jsxs("button",{onClick:f,className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-slate-400 hover:bg-red-600/20 hover:text-red-400 transition-all group",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),a.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full overflow-hidden relative",children:[a.jsxs("header",{className:"flex-shrink-0 z-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-gray-200 dark:border-slate-800 px-4 lg:px-6 py-4 flex items-center justify-between transition-theme",children:[a.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[a.jsx("button",{onClick:()=>E(!S),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors flex items-center justify-center","aria-label":"Toggle Navigation",children:a.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("h1",{className:"text-lg lg:text-xl font-bold capitalize text-gray-800 dark:text-white tracking-tight truncate max-w-[150px] sm:max-w-none",children:[b.replace("-"," ")," ",a.jsx("span",{className:"text-gray-400 font-normal hidden sm:inline",children:N()})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[a.jsx("button",{onClick:i,className:"p-2 lg:p-2.5 rounded-xl bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 hover:scale-110 transition-transform",children:l==="dark"?"":""}),a.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 pl-2 lg:pl-4 border-l border-gray-100 dark:border-slate-800",children:[a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white leading-none",children:d?.name||"User"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase tracking-tighter",children:"Admin"})]}),a.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400 font-black shadow-sm flex-shrink-0",children:d?.name?.charAt(0)||"A"})]})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto scroll-smooth",children:a.jsxs("div",{className:"p-4 lg:p-10 max-w-7xl mx-auto w-full animate-in fade-in duration-500 pb-10 min-h-full flex flex-col",children:[a.jsx("div",{className:"flex-1",children:o}),a.jsx(Uv,{})]})})]})]})},Le=({title:s,children:l,className:i})=>a.jsxs("div",{className:`bg-white dark:bg-slate-900 rounded-xl shadow-md border border-gray-100 dark:border-slate-800 p-6 transition-all duration-300 ${i}`,children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:s}),l]}),jl=({label:s,value:l,subValue:i,icon:o,color:d})=>a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-6 transition-all duration-300",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s}),a.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-opacity-10",style:{backgroundColor:`${d}20`,color:d},children:a.jsx("div",{className:"w-6 h-6",children:o})}),a.jsx("div",{children:a.jsxs("div",{className:"flex items-baseline space-x-2",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors",children:l}),i&&a.jsx("span",{className:"absolute top-4 right-4 text-xs text-green-500 font-medium",children:i})]})})]})]}),rt=({variant:s,children:l})=>{const i={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",Active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",online:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",expired:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",offline:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",Inactive:"bg-gray-100 text-gray-700 dark:bg-slate-800 dark:text-slate-400",suspended:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i[s]||"bg-gray-100 text-gray-700 dark:bg-slate-800 dark:text-slate-400"}`,children:l})},qu=({checked:s,onChange:l,label:i})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),l()},className:`relative inline-flex h-5 w-10 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${s?"bg-blue-600":"bg-gray-200 dark:bg-slate-700"}`,children:a.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${s?"translate-x-5":"translate-x-0"}`})}),i&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:i})]}),Qe=({isOpen:s,onClose:l,title:i,children:o,maxWidth:d="max-w-md"})=>s?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:`bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full ${d} overflow-hidden transform animate-in slide-in-from-bottom-4 duration-300`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-800 flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i}),a.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-full text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:o})]})}):null,qv=({data:s})=>{const l=Math.max(...s.map(m=>m.value))*1.2,i=150,o=400,d=s.map((m,g)=>{const b=g/(s.length-1)*o,x=i-m.value/l*i;return`${b},${x}`}).join(" "),f=`0,${i} ${d} ${o},${i}`;return a.jsxs("div",{className:"w-full h-48 relative mt-4",children:[a.jsxs("svg",{viewBox:`0 0 ${o} ${i}`,preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"chartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.3"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]})}),a.jsx("line",{x1:"0",y1:i*.25,x2:o,y2:i*.25,className:"stroke-gray-100 dark:stroke-slate-800",strokeWidth:"1"}),a.jsx("line",{x1:"0",y1:i*.5,x2:o,y2:i*.5,className:"stroke-gray-100 dark:stroke-slate-800",strokeWidth:"1"}),a.jsx("line",{x1:"0",y1:i*.75,x2:o,y2:i*.75,className:"stroke-gray-100 dark:stroke-slate-800",strokeWidth:"1"}),a.jsx("polyline",{points:f,fill:"url(#chartGradient)"}),a.jsx("polyline",{points:d,fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-lg"}),s.map((m,g)=>{const b=g/(s.length-1)*o,x=i-m.value/l*i;return a.jsxs("g",{className:"group cursor-pointer",children:[a.jsx("circle",{cx:b,cy:x,r:"4",fill:"white",className:"stroke-blue-500 stroke-2"}),g===s.length-1&&a.jsx("circle",{cx:b,cy:x,r:"8",fill:"#3b82f6",fillOpacity:"0.2",className:"animate-ping"})]},g)})]}),a.jsx("div",{className:"flex justify-between mt-4",children:s.map((m,g)=>a.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:m.label},g))})]})},kl={primary:"#2563eb",success:"#22c55e",danger:"#ef4444",warning:"#f59e0b"},Oa={Dashboard:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),Management:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),CRM:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),Revenue:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Settings:s=>a.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})};function xx(s,l){return function(){return s.apply(l,arguments)}}const{toString:$v}=Object.prototype,{getPrototypeOf:$u}=Object,{iterator:Do,toStringTag:gx}=Symbol,Bo=(s=>l=>{const i=$v.call(l);return s[i]||(s[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),za=s=>(s=s.toLowerCase(),l=>Bo(l)===s),zo=s=>l=>typeof l===s,{isArray:Rl}=Array,Cl=zo("undefined");function Ur(s){return s!==null&&!Cl(s)&&s.constructor!==null&&!Cl(s.constructor)&&Wt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const bx=za("ArrayBuffer");function Pv(s){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(s):l=s&&s.buffer&&bx(s.buffer),l}const Vv=zo("string"),Wt=zo("function"),yx=zo("number"),Hr=s=>s!==null&&typeof s=="object",Iv=s=>s===!0||s===!1,po=s=>{if(Bo(s)!=="object")return!1;const l=$u(s);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(gx in s)&&!(Do in s)},Yv=s=>{if(!Hr(s)||Ur(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Gv=za("Date"),Xv=za("File"),Kv=za("Blob"),Fv=za("FileList"),Qv=s=>Hr(s)&&Wt(s.pipe),Zv=s=>{let l;return s&&(typeof FormData=="function"&&s instanceof FormData||Wt(s.append)&&((l=Bo(s))==="formdata"||l==="object"&&Wt(s.toString)&&s.toString()==="[object FormData]"))},Jv=za("URLSearchParams"),[Wv,ew,tw,aw]=["ReadableStream","Request","Response","Headers"].map(za),sw=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qr(s,l,{allOwnKeys:i=!1}={}){if(s===null||typeof s>"u")return;let o,d;if(typeof s!="object"&&(s=[s]),Rl(s))for(o=0,d=s.length;o<d;o++)l.call(null,s[o],o,s);else{if(Ur(s))return;const f=i?Object.getOwnPropertyNames(s):Object.keys(s),m=f.length;let g;for(o=0;o<m;o++)g=f[o],l.call(null,s[g],g,s)}}function vx(s,l){if(Ur(s))return null;l=l.toLowerCase();const i=Object.keys(s);let o=i.length,d;for(;o-- >0;)if(d=i[o],l===d.toLowerCase())return d;return null}const En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wx=s=>!Cl(s)&&s!==En;function ju(){const{caseless:s,skipUndefined:l}=wx(this)&&this||{},i={},o=(d,f)=>{const m=s&&vx(i,f)||f;po(i[m])&&po(d)?i[m]=ju(i[m],d):po(d)?i[m]=ju({},d):Rl(d)?i[m]=d.slice():(!l||!Cl(d))&&(i[m]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&qr(arguments[d],o);return i}const nw=(s,l,i,{allOwnKeys:o}={})=>(qr(l,(d,f)=>{i&&Wt(d)?s[f]=xx(d,i):s[f]=d},{allOwnKeys:o}),s),lw=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),rw=(s,l,i,o)=>{s.prototype=Object.create(l.prototype,o),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:l.prototype}),i&&Object.assign(s.prototype,i)},iw=(s,l,i,o)=>{let d,f,m;const g={};if(l=l||{},s==null)return l;do{for(d=Object.getOwnPropertyNames(s),f=d.length;f-- >0;)m=d[f],(!o||o(m,s,l))&&!g[m]&&(l[m]=s[m],g[m]=!0);s=i!==!1&&$u(s)}while(s&&(!i||i(s,l))&&s!==Object.prototype);return l},ow=(s,l,i)=>{s=String(s),(i===void 0||i>s.length)&&(i=s.length),i-=l.length;const o=s.indexOf(l,i);return o!==-1&&o===i},cw=s=>{if(!s)return null;if(Rl(s))return s;let l=s.length;if(!yx(l))return null;const i=new Array(l);for(;l-- >0;)i[l]=s[l];return i},dw=(s=>l=>s&&l instanceof s)(typeof Uint8Array<"u"&&$u(Uint8Array)),uw=(s,l)=>{const o=(s&&s[Do]).call(s);let d;for(;(d=o.next())&&!d.done;){const f=d.value;l.call(s,f[0],f[1])}},fw=(s,l)=>{let i;const o=[];for(;(i=s.exec(l))!==null;)o.push(i);return o},mw=za("HTMLFormElement"),hw=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,d){return o.toUpperCase()+d}),xp=(({hasOwnProperty:s})=>(l,i)=>s.call(l,i))(Object.prototype),pw=za("RegExp"),jx=(s,l)=>{const i=Object.getOwnPropertyDescriptors(s),o={};qr(i,(d,f)=>{let m;(m=l(d,f,s))!==!1&&(o[f]=m||d)}),Object.defineProperties(s,o)},xw=s=>{jx(s,(l,i)=>{if(Wt(s)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=s[i];if(Wt(o)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},gw=(s,l)=>{const i={},o=d=>{d.forEach(f=>{i[f]=!0})};return Rl(s)?o(s):o(String(s).split(l)),i},bw=()=>{},yw=(s,l)=>s!=null&&Number.isFinite(s=+s)?s:l;function vw(s){return!!(s&&Wt(s.append)&&s[gx]==="FormData"&&s[Do])}const ww=s=>{const l=new Array(10),i=(o,d)=>{if(Hr(o)){if(l.indexOf(o)>=0)return;if(Ur(o))return o;if(!("toJSON"in o)){l[d]=o;const f=Rl(o)?[]:{};return qr(o,(m,g)=>{const b=i(m,d+1);!Cl(b)&&(f[g]=b)}),l[d]=void 0,f}}return o};return i(s,0)},jw=za("AsyncFunction"),kw=s=>s&&(Hr(s)||Wt(s))&&Wt(s.then)&&Wt(s.catch),kx=((s,l)=>s?setImmediate:l?((i,o)=>(En.addEventListener("message",({source:d,data:f})=>{d===En&&f===i&&o.length&&o.shift()()},!1),d=>{o.push(d),En.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Wt(En.postMessage)),Nw=typeof queueMicrotask<"u"?queueMicrotask.bind(En):typeof process<"u"&&process.nextTick||kx,Sw=s=>s!=null&&Wt(s[Do]),Y={isArray:Rl,isArrayBuffer:bx,isBuffer:Ur,isFormData:Zv,isArrayBufferView:Pv,isString:Vv,isNumber:yx,isBoolean:Iv,isObject:Hr,isPlainObject:po,isEmptyObject:Yv,isReadableStream:Wv,isRequest:ew,isResponse:tw,isHeaders:aw,isUndefined:Cl,isDate:Gv,isFile:Xv,isBlob:Kv,isRegExp:pw,isFunction:Wt,isStream:Qv,isURLSearchParams:Jv,isTypedArray:dw,isFileList:Fv,forEach:qr,merge:ju,extend:nw,trim:sw,stripBOM:lw,inherits:rw,toFlatObject:iw,kindOf:Bo,kindOfTest:za,endsWith:ow,toArray:cw,forEachEntry:uw,matchAll:fw,isHTMLForm:mw,hasOwnProperty:xp,hasOwnProp:xp,reduceDescriptors:jx,freezeMethods:xw,toObjectSet:gw,toCamelCase:hw,noop:bw,toFiniteNumber:yw,findKey:vx,global:En,isContextDefined:wx,isSpecCompliantForm:vw,toJSONObject:ww,isAsyncFn:jw,isThenable:kw,setImmediate:kx,asap:Nw,isIterable:Sw};function Ne(s,l,i,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",l&&(this.code=l),i&&(this.config=i),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}Y.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const Nx=Ne.prototype,Sx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Sx[s]={value:s}});Object.defineProperties(Ne,Sx);Object.defineProperty(Nx,"isAxiosError",{value:!0});Ne.from=(s,l,i,o,d,f)=>{const m=Object.create(Nx);Y.toFlatObject(s,m,function(v){return v!==Error.prototype},x=>x!=="isAxiosError");const g=s&&s.message?s.message:"Error",b=l==null&&s?s.code:l;return Ne.call(m,g,b,i,o,d),s&&m.cause==null&&Object.defineProperty(m,"cause",{value:s,configurable:!0}),m.name=s&&s.name||"Error",f&&Object.assign(m,f),m};const Cw=null;function ku(s){return Y.isPlainObject(s)||Y.isArray(s)}function Cx(s){return Y.endsWith(s,"[]")?s.slice(0,-2):s}function gp(s,l,i){return s?s.concat(l).map(function(d,f){return d=Cx(d),!i&&f?"["+d+"]":d}).join(i?".":""):l}function Ew(s){return Y.isArray(s)&&!s.some(ku)}const Aw=Y.toFlatObject(Y,{},null,function(l){return/^is[A-Z]/.test(l)});function Uo(s,l,i){if(!Y.isObject(s))throw new TypeError("target must be an object");l=l||new FormData,i=Y.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,j){return!Y.isUndefined(j[k])});const o=i.metaTokens,d=i.visitor||v,f=i.dots,m=i.indexes,b=(i.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(l);if(!Y.isFunction(d))throw new TypeError("visitor must be a function");function x(N){if(N===null)return"";if(Y.isDate(N))return N.toISOString();if(Y.isBoolean(N))return N.toString();if(!b&&Y.isBlob(N))throw new Ne("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(N)||Y.isTypedArray(N)?b&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,k,j){let T=N;if(N&&!j&&typeof N=="object"){if(Y.endsWith(k,"{}"))k=o?k:k.slice(0,-2),N=JSON.stringify(N);else if(Y.isArray(N)&&Ew(N)||(Y.isFileList(N)||Y.endsWith(k,"[]"))&&(T=Y.toArray(N)))return k=Cx(k),T.forEach(function(z,O){!(Y.isUndefined(z)||z===null)&&l.append(m===!0?gp([k],O,f):m===null?k:k+"[]",x(z))}),!1}return ku(N)?!0:(l.append(gp(j,k,f),x(N)),!1)}const h=[],S=Object.assign(Aw,{defaultVisitor:v,convertValue:x,isVisitable:ku});function E(N,k){if(!Y.isUndefined(N)){if(h.indexOf(N)!==-1)throw Error("Circular reference detected in "+k.join("."));h.push(N),Y.forEach(N,function(T,C){(!(Y.isUndefined(T)||T===null)&&d.call(l,T,Y.isString(C)?C.trim():C,k,S))===!0&&E(T,k?k.concat(C):[C])}),h.pop()}}if(!Y.isObject(s))throw new TypeError("data must be an object");return E(s),l}function bp(s){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(o){return l[o]})}function Pu(s,l){this._pairs=[],s&&Uo(s,this,l)}const Ex=Pu.prototype;Ex.append=function(l,i){this._pairs.push([l,i])};Ex.toString=function(l){const i=l?function(o){return l.call(this,o,bp)}:bp;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function Tw(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ax(s,l,i){if(!l)return s;const o=i&&i.encode||Tw;Y.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let f;if(d?f=d(l,i):f=Y.isURLSearchParams(l)?l.toString():new Pu(l,i).toString(o),f){const m=s.indexOf("#");m!==-1&&(s=s.slice(0,m)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class yp{constructor(){this.handlers=[]}use(l,i,o){return this.handlers.push({fulfilled:l,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){Y.forEach(this.handlers,function(o){o!==null&&l(o)})}}const Tx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lw=typeof URLSearchParams<"u"?URLSearchParams:Pu,Mw=typeof FormData<"u"?FormData:null,_w=typeof Blob<"u"?Blob:null,Rw={isBrowser:!0,classes:{URLSearchParams:Lw,FormData:Mw,Blob:_w},protocols:["http","https","file","blob","url","data"]},Vu=typeof window<"u"&&typeof document<"u",Nu=typeof navigator=="object"&&navigator||void 0,Ow=Vu&&(!Nu||["ReactNative","NativeScript","NS"].indexOf(Nu.product)<0),Dw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bw=Vu&&window.location.href||"http://localhost",zw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vu,hasStandardBrowserEnv:Ow,hasStandardBrowserWebWorkerEnv:Dw,navigator:Nu,origin:Bw},Symbol.toStringTag,{value:"Module"})),Rt={...zw,...Rw};function Uw(s,l){return Uo(s,new Rt.classes.URLSearchParams,{visitor:function(i,o,d,f){return Rt.isNode&&Y.isBuffer(i)?(this.append(o,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...l})}function Hw(s){return Y.matchAll(/\w+|\[(\w*)]/g,s).map(l=>l[0]==="[]"?"":l[1]||l[0])}function qw(s){const l={},i=Object.keys(s);let o;const d=i.length;let f;for(o=0;o<d;o++)f=i[o],l[f]=s[f];return l}function Lx(s){function l(i,o,d,f){let m=i[f++];if(m==="__proto__")return!0;const g=Number.isFinite(+m),b=f>=i.length;return m=!m&&Y.isArray(d)?d.length:m,b?(Y.hasOwnProp(d,m)?d[m]=[d[m],o]:d[m]=o,!g):((!d[m]||!Y.isObject(d[m]))&&(d[m]=[]),l(i,o,d[m],f)&&Y.isArray(d[m])&&(d[m]=qw(d[m])),!g)}if(Y.isFormData(s)&&Y.isFunction(s.entries)){const i={};return Y.forEachEntry(s,(o,d)=>{l(Hw(o),d,i,0)}),i}return null}function $w(s,l,i){if(Y.isString(s))try{return(l||JSON.parse)(s),Y.trim(s)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(s)}const $r={transitional:Tx,adapter:["xhr","http","fetch"],transformRequest:[function(l,i){const o=i.getContentType()||"",d=o.indexOf("application/json")>-1,f=Y.isObject(l);if(f&&Y.isHTMLForm(l)&&(l=new FormData(l)),Y.isFormData(l))return d?JSON.stringify(Lx(l)):l;if(Y.isArrayBuffer(l)||Y.isBuffer(l)||Y.isStream(l)||Y.isFile(l)||Y.isBlob(l)||Y.isReadableStream(l))return l;if(Y.isArrayBufferView(l))return l.buffer;if(Y.isURLSearchParams(l))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let g;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Uw(l,this.formSerializer).toString();if((g=Y.isFileList(l))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Uo(g?{"files[]":l}:l,b&&new b,this.formSerializer)}}return f||d?(i.setContentType("application/json",!1),$w(l)):l}],transformResponse:[function(l){const i=this.transitional||$r.transitional,o=i&&i.forcedJSONParsing,d=this.responseType==="json";if(Y.isResponse(l)||Y.isReadableStream(l))return l;if(l&&Y.isString(l)&&(o&&!this.responseType||d)){const m=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(l,this.parseReviver)}catch(g){if(m)throw g.name==="SyntaxError"?Ne.from(g,Ne.ERR_BAD_RESPONSE,this,null,this.response):g}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],s=>{$r.headers[s]={}});const Pw=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vw=s=>{const l={};let i,o,d;return s&&s.split(`
`).forEach(function(m){d=m.indexOf(":"),i=m.substring(0,d).trim().toLowerCase(),o=m.substring(d+1).trim(),!(!i||l[i]&&Pw[i])&&(i==="set-cookie"?l[i]?l[i].push(o):l[i]=[o]:l[i]=l[i]?l[i]+", "+o:o)}),l},vp=Symbol("internals");function _r(s){return s&&String(s).trim().toLowerCase()}function xo(s){return s===!1||s==null?s:Y.isArray(s)?s.map(xo):String(s)}function Iw(s){const l=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(s);)l[o[1]]=o[2];return l}const Yw=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function fu(s,l,i,o,d){if(Y.isFunction(o))return o.call(this,l,i);if(d&&(l=i),!!Y.isString(l)){if(Y.isString(o))return l.indexOf(o)!==-1;if(Y.isRegExp(o))return o.test(l)}}function Gw(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,i,o)=>i.toUpperCase()+o)}function Xw(s,l){const i=Y.toCamelCase(" "+l);["get","set","has"].forEach(o=>{Object.defineProperty(s,o+i,{value:function(d,f,m){return this[o].call(this,l,d,f,m)},configurable:!0})})}let ea=class{constructor(l){l&&this.set(l)}set(l,i,o){const d=this;function f(g,b,x){const v=_r(b);if(!v)throw new Error("header name must be a non-empty string");const h=Y.findKey(d,v);(!h||d[h]===void 0||x===!0||x===void 0&&d[h]!==!1)&&(d[h||b]=xo(g))}const m=(g,b)=>Y.forEach(g,(x,v)=>f(x,v,b));if(Y.isPlainObject(l)||l instanceof this.constructor)m(l,i);else if(Y.isString(l)&&(l=l.trim())&&!Yw(l))m(Vw(l),i);else if(Y.isObject(l)&&Y.isIterable(l)){let g={},b,x;for(const v of l){if(!Y.isArray(v))throw TypeError("Object iterator must return a key-value pair");g[x=v[0]]=(b=g[x])?Y.isArray(b)?[...b,v[1]]:[b,v[1]]:v[1]}m(g,i)}else l!=null&&f(i,l,o);return this}get(l,i){if(l=_r(l),l){const o=Y.findKey(this,l);if(o){const d=this[o];if(!i)return d;if(i===!0)return Iw(d);if(Y.isFunction(i))return i.call(this,d,o);if(Y.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,i){if(l=_r(l),l){const o=Y.findKey(this,l);return!!(o&&this[o]!==void 0&&(!i||fu(this,this[o],o,i)))}return!1}delete(l,i){const o=this;let d=!1;function f(m){if(m=_r(m),m){const g=Y.findKey(o,m);g&&(!i||fu(o,o[g],g,i))&&(delete o[g],d=!0)}}return Y.isArray(l)?l.forEach(f):f(l),d}clear(l){const i=Object.keys(this);let o=i.length,d=!1;for(;o--;){const f=i[o];(!l||fu(this,this[f],f,l,!0))&&(delete this[f],d=!0)}return d}normalize(l){const i=this,o={};return Y.forEach(this,(d,f)=>{const m=Y.findKey(o,f);if(m){i[m]=xo(d),delete i[f];return}const g=l?Gw(f):String(f).trim();g!==f&&delete i[f],i[g]=xo(d),o[g]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const i=Object.create(null);return Y.forEach(this,(o,d)=>{o!=null&&o!==!1&&(i[d]=l&&Y.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,i])=>l+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...i){const o=new this(l);return i.forEach(d=>o.set(d)),o}static accessor(l){const o=(this[vp]=this[vp]={accessors:{}}).accessors,d=this.prototype;function f(m){const g=_r(m);o[g]||(Xw(d,m),o[g]=!0)}return Y.isArray(l)?l.forEach(f):f(l),this}};ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(ea.prototype,({value:s},l)=>{let i=l[0].toUpperCase()+l.slice(1);return{get:()=>s,set(o){this[i]=o}}});Y.freezeMethods(ea);function mu(s,l){const i=this||$r,o=l||i,d=ea.from(o.headers);let f=o.data;return Y.forEach(s,function(g){f=g.call(i,f,d.normalize(),l?l.status:void 0)}),d.normalize(),f}function Mx(s){return!!(s&&s.__CANCEL__)}function Ol(s,l,i){Ne.call(this,s??"canceled",Ne.ERR_CANCELED,l,i),this.name="CanceledError"}Y.inherits(Ol,Ne,{__CANCEL__:!0});function _x(s,l,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?s(i):l(new Ne("Request failed with status code "+i.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Kw(s){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return l&&l[1]||""}function Fw(s,l){s=s||10;const i=new Array(s),o=new Array(s);let d=0,f=0,m;return l=l!==void 0?l:1e3,function(b){const x=Date.now(),v=o[f];m||(m=x),i[d]=b,o[d]=x;let h=f,S=0;for(;h!==d;)S+=i[h++],h=h%s;if(d=(d+1)%s,d===f&&(f=(f+1)%s),x-m<l)return;const E=v&&x-v;return E?Math.round(S*1e3/E):void 0}}function Qw(s,l){let i=0,o=1e3/l,d,f;const m=(x,v=Date.now())=>{i=v,d=null,f&&(clearTimeout(f),f=null),s(...x)};return[(...x)=>{const v=Date.now(),h=v-i;h>=o?m(x,v):(d=x,f||(f=setTimeout(()=>{f=null,m(d)},o-h)))},()=>d&&m(d)]}const wo=(s,l,i=3)=>{let o=0;const d=Fw(50,250);return Qw(f=>{const m=f.loaded,g=f.lengthComputable?f.total:void 0,b=m-o,x=d(b),v=m<=g;o=m;const h={loaded:m,total:g,progress:g?m/g:void 0,bytes:b,rate:x||void 0,estimated:x&&g&&v?(g-m)/x:void 0,event:f,lengthComputable:g!=null,[l?"download":"upload"]:!0};s(h)},i)},wp=(s,l)=>{const i=s!=null;return[o=>l[0]({lengthComputable:i,total:s,loaded:o}),l[1]]},jp=s=>(...l)=>Y.asap(()=>s(...l)),Zw=Rt.hasStandardBrowserEnv?((s,l)=>i=>(i=new URL(i,Rt.origin),s.protocol===i.protocol&&s.host===i.host&&(l||s.port===i.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,Jw=Rt.hasStandardBrowserEnv?{write(s,l,i,o,d,f,m){if(typeof document>"u")return;const g=[`${s}=${encodeURIComponent(l)}`];Y.isNumber(i)&&g.push(`expires=${new Date(i).toUTCString()}`),Y.isString(o)&&g.push(`path=${o}`),Y.isString(d)&&g.push(`domain=${d}`),f===!0&&g.push("secure"),Y.isString(m)&&g.push(`SameSite=${m}`),document.cookie=g.join("; ")},read(s){if(typeof document>"u")return null;const l=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return l?decodeURIComponent(l[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ww(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function e1(s,l){return l?s.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):s}function Rx(s,l,i){let o=!Ww(l);return s&&(o||i==!1)?e1(s,l):l}const kp=s=>s instanceof ea?{...s}:s;function Ln(s,l){l=l||{};const i={};function o(x,v,h,S){return Y.isPlainObject(x)&&Y.isPlainObject(v)?Y.merge.call({caseless:S},x,v):Y.isPlainObject(v)?Y.merge({},v):Y.isArray(v)?v.slice():v}function d(x,v,h,S){if(Y.isUndefined(v)){if(!Y.isUndefined(x))return o(void 0,x,h,S)}else return o(x,v,h,S)}function f(x,v){if(!Y.isUndefined(v))return o(void 0,v)}function m(x,v){if(Y.isUndefined(v)){if(!Y.isUndefined(x))return o(void 0,x)}else return o(void 0,v)}function g(x,v,h){if(h in l)return o(x,v);if(h in s)return o(void 0,x)}const b={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:g,headers:(x,v,h)=>d(kp(x),kp(v),h,!0)};return Y.forEach(Object.keys({...s,...l}),function(v){const h=b[v]||d,S=h(s[v],l[v],v);Y.isUndefined(S)&&h!==g||(i[v]=S)}),i}const Ox=s=>{const l=Ln({},s);let{data:i,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:f,headers:m,auth:g}=l;if(l.headers=m=ea.from(m),l.url=Ax(Rx(l.baseURL,l.url,l.allowAbsoluteUrls),s.params,s.paramsSerializer),g&&m.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),Y.isFormData(i)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(Y.isFunction(i.getHeaders)){const b=i.getHeaders(),x=["content-type","content-length"];Object.entries(b).forEach(([v,h])=>{x.includes(v.toLowerCase())&&m.set(v,h)})}}if(Rt.hasStandardBrowserEnv&&(o&&Y.isFunction(o)&&(o=o(l)),o||o!==!1&&Zw(l.url))){const b=d&&f&&Jw.read(f);b&&m.set(d,b)}return l},t1=typeof XMLHttpRequest<"u",a1=t1&&function(s){return new Promise(function(i,o){const d=Ox(s);let f=d.data;const m=ea.from(d.headers).normalize();let{responseType:g,onUploadProgress:b,onDownloadProgress:x}=d,v,h,S,E,N;function k(){E&&E(),N&&N(),d.cancelToken&&d.cancelToken.unsubscribe(v),d.signal&&d.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(d.method.toUpperCase(),d.url,!0),j.timeout=d.timeout;function T(){if(!j)return;const z=ea.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),X={data:!g||g==="text"||g==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:z,config:s,request:j};_x(function(Z){i(Z),k()},function(Z){o(Z),k()},X),j=null}"onloadend"in j?j.onloadend=T:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(T)},j.onabort=function(){j&&(o(new Ne("Request aborted",Ne.ECONNABORTED,s,j)),j=null)},j.onerror=function(O){const X=O&&O.message?O.message:"Network Error",I=new Ne(X,Ne.ERR_NETWORK,s,j);I.event=O||null,o(I),j=null},j.ontimeout=function(){let O=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const X=d.transitional||Tx;d.timeoutErrorMessage&&(O=d.timeoutErrorMessage),o(new Ne(O,X.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,s,j)),j=null},f===void 0&&m.setContentType(null),"setRequestHeader"in j&&Y.forEach(m.toJSON(),function(O,X){j.setRequestHeader(X,O)}),Y.isUndefined(d.withCredentials)||(j.withCredentials=!!d.withCredentials),g&&g!=="json"&&(j.responseType=d.responseType),x&&([S,N]=wo(x,!0),j.addEventListener("progress",S)),b&&j.upload&&([h,E]=wo(b),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",E)),(d.cancelToken||d.signal)&&(v=z=>{j&&(o(!z||z.type?new Ol(null,s,j):z),j.abort(),j=null)},d.cancelToken&&d.cancelToken.subscribe(v),d.signal&&(d.signal.aborted?v():d.signal.addEventListener("abort",v)));const C=Kw(d.url);if(C&&Rt.protocols.indexOf(C)===-1){o(new Ne("Unsupported protocol "+C+":",Ne.ERR_BAD_REQUEST,s));return}j.send(f||null)})},s1=(s,l)=>{const{length:i}=s=s?s.filter(Boolean):[];if(l||i){let o=new AbortController,d;const f=function(x){if(!d){d=!0,g();const v=x instanceof Error?x:this.reason;o.abort(v instanceof Ne?v:new Ol(v instanceof Error?v.message:v))}};let m=l&&setTimeout(()=>{m=null,f(new Ne(`timeout ${l} of ms exceeded`,Ne.ETIMEDOUT))},l);const g=()=>{s&&(m&&clearTimeout(m),m=null,s.forEach(x=>{x.unsubscribe?x.unsubscribe(f):x.removeEventListener("abort",f)}),s=null)};s.forEach(x=>x.addEventListener("abort",f));const{signal:b}=o;return b.unsubscribe=()=>Y.asap(g),b}},n1=function*(s,l){let i=s.byteLength;if(i<l){yield s;return}let o=0,d;for(;o<i;)d=o+l,yield s.slice(o,d),o=d},l1=async function*(s,l){for await(const i of r1(s))yield*n1(i,l)},r1=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const l=s.getReader();try{for(;;){const{done:i,value:o}=await l.read();if(i)break;yield o}}finally{await l.cancel()}},Np=(s,l,i,o)=>{const d=l1(s,l);let f=0,m,g=b=>{m||(m=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:x,value:v}=await d.next();if(x){g(),b.close();return}let h=v.byteLength;if(i){let S=f+=h;i(S)}b.enqueue(new Uint8Array(v))}catch(x){throw g(x),x}},cancel(b){return g(b),d.return()}},{highWaterMark:2})},Sp=64*1024,{isFunction:oo}=Y,i1=(({Request:s,Response:l})=>({Request:s,Response:l}))(Y.global),{ReadableStream:Cp,TextEncoder:Ep}=Y.global,Ap=(s,...l)=>{try{return!!s(...l)}catch{return!1}},o1=s=>{s=Y.merge.call({skipUndefined:!0},i1,s);const{fetch:l,Request:i,Response:o}=s,d=l?oo(l):typeof fetch=="function",f=oo(i),m=oo(o);if(!d)return!1;const g=d&&oo(Cp),b=d&&(typeof Ep=="function"?(N=>k=>N.encode(k))(new Ep):async N=>new Uint8Array(await new i(N).arrayBuffer())),x=f&&g&&Ap(()=>{let N=!1;const k=new i(Rt.origin,{body:new Cp,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!k}),v=m&&g&&Ap(()=>Y.isReadableStream(new o("").body)),h={stream:v&&(N=>N.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!h[N]&&(h[N]=(k,j)=>{let T=k&&k[N];if(T)return T.call(k);throw new Ne(`Response type '${N}' is not supported`,Ne.ERR_NOT_SUPPORT,j)})});const S=async N=>{if(N==null)return 0;if(Y.isBlob(N))return N.size;if(Y.isSpecCompliantForm(N))return(await new i(Rt.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(N)||Y.isArrayBuffer(N))return N.byteLength;if(Y.isURLSearchParams(N)&&(N=N+""),Y.isString(N))return(await b(N)).byteLength},E=async(N,k)=>{const j=Y.toFiniteNumber(N.getContentLength());return j??S(k)};return async N=>{let{url:k,method:j,data:T,signal:C,cancelToken:z,timeout:O,onDownloadProgress:X,onUploadProgress:I,responseType:Z,headers:ue,withCredentials:ie="same-origin",fetchOptions:U}=Ox(N),ce=l||fetch;Z=Z?(Z+"").toLowerCase():"text";let te=s1([C,z&&z.toAbortSignal()],O),H=null;const me=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let se;try{if(I&&x&&j!=="get"&&j!=="head"&&(se=await E(ue,T))!==0){let A=new i(k,{method:"POST",body:T,duplex:"half"}),L;if(Y.isFormData(T)&&(L=A.headers.get("content-type"))&&ue.setContentType(L),A.body){const[P,F]=wp(se,wo(jp(I)));T=Np(A.body,Sp,P,F)}}Y.isString(ie)||(ie=ie?"include":"omit");const R=f&&"credentials"in i.prototype,ee={...U,signal:te,method:j.toUpperCase(),headers:ue.normalize().toJSON(),body:T,duplex:"half",credentials:R?ie:void 0};H=f&&new i(k,ee);let J=await(f?ce(H,U):ce(k,ee));const B=v&&(Z==="stream"||Z==="response");if(v&&(X||B&&me)){const A={};["status","statusText","headers"].forEach(de=>{A[de]=J[de]});const L=Y.toFiniteNumber(J.headers.get("content-length")),[P,F]=X&&wp(L,wo(jp(X),!0))||[];J=new o(Np(J.body,Sp,P,()=>{F&&F(),me&&me()}),A)}Z=Z||"text";let re=await h[Y.findKey(h,Z)||"text"](J,N);return!B&&me&&me(),await new Promise((A,L)=>{_x(A,L,{data:re,headers:ea.from(J.headers),status:J.status,statusText:J.statusText,config:N,request:H})})}catch(R){throw me&&me(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,N,H),{cause:R.cause||R}):Ne.from(R,R&&R.code,N,H)}}},c1=new Map,Dx=s=>{let l=s&&s.env||{};const{fetch:i,Request:o,Response:d}=l,f=[o,d,i];let m=f.length,g=m,b,x,v=c1;for(;g--;)b=f[g],x=v.get(b),x===void 0&&v.set(b,x=g?new Map:o1(l)),v=x;return x};Dx();const Iu={http:Cw,xhr:a1,fetch:{get:Dx}};Y.forEach(Iu,(s,l)=>{if(s){try{Object.defineProperty(s,"name",{value:l})}catch{}Object.defineProperty(s,"adapterName",{value:l})}});const Tp=s=>`- ${s}`,d1=s=>Y.isFunction(s)||s===null||s===!1;function u1(s,l){s=Y.isArray(s)?s:[s];const{length:i}=s;let o,d;const f={};for(let m=0;m<i;m++){o=s[m];let g;if(d=o,!d1(o)&&(d=Iu[(g=String(o)).toLowerCase()],d===void 0))throw new Ne(`Unknown adapter '${g}'`);if(d&&(Y.isFunction(d)||(d=d.get(l))))break;f[g||"#"+m]=d}if(!d){const m=Object.entries(f).map(([b,x])=>`adapter ${b} `+(x===!1?"is not supported by the environment":"is not available in the build"));let g=i?m.length>1?`since :
`+m.map(Tp).join(`
`):" "+Tp(m[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return d}const Bx={getAdapter:u1,adapters:Iu};function hu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ol(null,s)}function Lp(s){return hu(s),s.headers=ea.from(s.headers),s.data=mu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Bx.getAdapter(s.adapter||$r.adapter,s)(s).then(function(o){return hu(s),o.data=mu.call(s,s.transformResponse,o),o.headers=ea.from(o.headers),o},function(o){return Mx(o)||(hu(s),o&&o.response&&(o.response.data=mu.call(s,s.transformResponse,o.response),o.response.headers=ea.from(o.response.headers))),Promise.reject(o)})}const zx="1.13.2",Ho={};["object","boolean","number","function","string","symbol"].forEach((s,l)=>{Ho[s]=function(o){return typeof o===s||"a"+(l<1?"n ":" ")+s}});const Mp={};Ho.transitional=function(l,i,o){function d(f,m){return"[Axios v"+zx+"] Transitional option '"+f+"'"+m+(o?". "+o:"")}return(f,m,g)=>{if(l===!1)throw new Ne(d(m," has been removed"+(i?" in "+i:"")),Ne.ERR_DEPRECATED);return i&&!Mp[m]&&(Mp[m]=!0,console.warn(d(m," has been deprecated since v"+i+" and will be removed in the near future"))),l?l(f,m,g):!0}};Ho.spelling=function(l){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${l}`),!0)};function f1(s,l,i){if(typeof s!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const o=Object.keys(s);let d=o.length;for(;d-- >0;){const f=o[d],m=l[f];if(m){const g=s[f],b=g===void 0||m(g,f,s);if(b!==!0)throw new Ne("option "+f+" must be "+b,Ne.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ne("Unknown option "+f,Ne.ERR_BAD_OPTION)}}const go={assertOptions:f1,validators:Ho},Ia=go.validators;let An=class{constructor(l){this.defaults=l||{},this.interceptors={request:new yp,response:new yp}}async request(l,i){try{return await this._request(l,i)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(l,i){typeof l=="string"?(i=i||{},i.url=l):i=l||{},i=Ln(this.defaults,i);const{transitional:o,paramsSerializer:d,headers:f}=i;o!==void 0&&go.assertOptions(o,{silentJSONParsing:Ia.transitional(Ia.boolean),forcedJSONParsing:Ia.transitional(Ia.boolean),clarifyTimeoutError:Ia.transitional(Ia.boolean)},!1),d!=null&&(Y.isFunction(d)?i.paramsSerializer={serialize:d}:go.assertOptions(d,{encode:Ia.function,serialize:Ia.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),go.assertOptions(i,{baseUrl:Ia.spelling("baseURL"),withXsrfToken:Ia.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let m=f&&Y.merge(f.common,f[i.method]);f&&Y.forEach(["delete","get","head","post","put","patch","common"],N=>{delete f[N]}),i.headers=ea.concat(m,f);const g=[];let b=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(i)===!1||(b=b&&k.synchronous,g.unshift(k.fulfilled,k.rejected))});const x=[];this.interceptors.response.forEach(function(k){x.push(k.fulfilled,k.rejected)});let v,h=0,S;if(!b){const N=[Lp.bind(this),void 0];for(N.unshift(...g),N.push(...x),S=N.length,v=Promise.resolve(i);h<S;)v=v.then(N[h++],N[h++]);return v}S=g.length;let E=i;for(;h<S;){const N=g[h++],k=g[h++];try{E=N(E)}catch(j){k.call(this,j);break}}try{v=Lp.call(this,E)}catch(N){return Promise.reject(N)}for(h=0,S=x.length;h<S;)v=v.then(x[h++],x[h++]);return v}getUri(l){l=Ln(this.defaults,l);const i=Rx(l.baseURL,l.url,l.allowAbsoluteUrls);return Ax(i,l.params,l.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(l){An.prototype[l]=function(i,o){return this.request(Ln(o||{},{method:l,url:i,data:(o||{}).data}))}});Y.forEach(["post","put","patch"],function(l){function i(o){return function(f,m,g){return this.request(Ln(g||{},{method:l,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:m}))}}An.prototype[l]=i(),An.prototype[l+"Form"]=i(!0)});let m1=class Ux{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const o=this;this.promise.then(d=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](d);o._listeners=null}),this.promise.then=d=>{let f;const m=new Promise(g=>{o.subscribe(g),f=g}).then(d);return m.cancel=function(){o.unsubscribe(f)},m},l(function(f,m,g){o.reason||(o.reason=new Ol(f,m,g),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const i=this._listeners.indexOf(l);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const l=new AbortController,i=o=>{l.abort(o)};return this.subscribe(i),l.signal.unsubscribe=()=>this.unsubscribe(i),l.signal}static source(){let l;return{token:new Ux(function(d){l=d}),cancel:l}}};function h1(s){return function(i){return s.apply(null,i)}}function p1(s){return Y.isObject(s)&&s.isAxiosError===!0}const Su={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Su).forEach(([s,l])=>{Su[l]=s});function Hx(s){const l=new An(s),i=xx(An.prototype.request,l);return Y.extend(i,An.prototype,l,{allOwnKeys:!0}),Y.extend(i,l,null,{allOwnKeys:!0}),i.create=function(d){return Hx(Ln(s,d))},i}const it=Hx($r);it.Axios=An;it.CanceledError=Ol;it.CancelToken=m1;it.isCancel=Mx;it.VERSION=zx;it.toFormData=Uo;it.AxiosError=Ne;it.Cancel=it.CanceledError;it.all=function(l){return Promise.all(l)};it.spread=h1;it.isAxiosError=p1;it.mergeConfig=Ln;it.AxiosHeaders=ea;it.formToJSON=s=>Lx(Y.isHTMLForm(s)?new FormData(s):s);it.getAdapter=Bx.getAdapter;it.HttpStatusCode=Su;it.default=it;const{Axios:j4,AxiosError:k4,CanceledError:N4,isCancel:S4,CancelToken:C4,VERSION:E4,all:A4,Cancel:T4,isAxiosError:L4,spread:M4,toFormData:_4,AxiosHeaders:R4,HttpStatusCode:O4,formToJSON:D4,getAdapter:B4,mergeConfig:z4}=it,x1="https://isp.easytech.africa/api";class qx extends Error{constructor(l,i,o){super(i),this.status=l,this.errors=o,this.name="ApiError"}}let bo=null;const yo=s=>{bo=s,s?(localStorage.setItem("auth_token",s),fe.defaults.headers.common.Authorization=`Bearer ${s}`):(localStorage.removeItem("auth_token"),delete fe.defaults.headers.common.Authorization)},$x=()=>(bo||(bo=localStorage.getItem("auth_token")),bo),fe=it.create({baseURL:x1,headers:{"Content-Type":"application/json"}});fe.interceptors.request.use(s=>{const l=$x();return l&&(s.headers.Authorization=`Bearer ${l}`),s});fe.interceptors.response.use(s=>s,s=>{const l=s.response?.status||0,i=s.response?.data,o=i?.message||i?.error||s.message||`HTTP ${l}`;throw new qx(l,o,i?.errors)});const jo={register:async(s,l,i,o)=>{const f=(await fe.post("/auth/register",{organization_name:s,name:l,email:i,password:o,password_confirmation:o})).data;return f.token&&yo(f.token),f},login:async(s,l)=>{const o=(await fe.post("/auth/login",{email:s,password:l})).data;return o.token&&yo(o.token),o},logout:async()=>{try{await fe.post("/auth/logout")}finally{yo(null)}},me:async()=>(await fe.get("/auth/me")).data},Or={getAll:async(s=1)=>(await fe.get(`/users?page=${s}`)).data,create:async s=>(await fe.post("/users",s)).data,update:async(s,l)=>(await fe.put(`/users/${s}`,l)).data,delete:async s=>(await fe.delete(`/users/${s}`)).data},Cu={getAll:async(s=1)=>(await fe.get(`/roles?page=${s}`)).data,create:async s=>(await fe.post("/roles",s)).data,update:async(s,l)=>(await fe.put(`/roles/${s}`,l)).data,delete:async s=>(await fe.delete(`/roles/${s}`)).data},Ht={getAll:async(s=1)=>(await fe.get(`/customers?page=${s}`)).data,getById:async s=>(await fe.get(`/customers/${s}`)).data,create:async s=>(await fe.post("/customers",s)).data,update:async(s,l)=>(await fe.put(`/customers/${s}`,l)).data,delete:async s=>(await fe.delete(`/customers/${s}`)).data,getRadiusStatus:async s=>(await fe.get(`/customers/${s}/radius-status`)).data,getWithRelations:async s=>(await fe.get(`/customers/${s}/with-relations`)).data,syncToRadius:async s=>(await fe.post(`/customers/${s}/sync-radius`)).data,syncAllToRadius:async()=>(await fe.post("/customers/sync-all-radius")).data,getTechnicalSpecs:async s=>(await fe.get(`/customers/${s}/technical-specs`)).data,resetMacBinding:async s=>(await fe.post(`/customers/${s}/reset-mac-binding`)).data,pauseSubscription:async s=>(await fe.post(`/customers/${s}/pause-subscription`)).data,resumeSubscription:async s=>(await fe.post(`/customers/${s}/resume-subscription`)).data},Fs={getAll:async(s=1)=>(await fe.get(`/packages?page=${s}`)).data,getById:async s=>(await fe.get(`/packages/${s}`)).data,create:async s=>(await fe.post("/packages",s)).data,update:async(s,l)=>(await fe.put(`/packages/${s}`,l)).data,delete:async s=>(await fe.delete(`/packages/${s}`)).data},El={getAll:async(s=1)=>(await fe.get(`/sites?page=${s}`)).data,getById:async s=>(await fe.get(`/sites/${s}`)).data,getIpam:async s=>(await fe.get(`/sites/${s}/ipam`)).data,create:async s=>(await fe.post("/sites",s)).data,update:async(s,l)=>(await fe.put(`/sites/${s}`,l)).data,delete:async s=>(await fe.delete(`/sites/${s}`)).data},en={getAll:async(s=1)=>(await fe.get(`/payments?page=${s}`)).data,getByCustomer:async(s,l=1)=>(await fe.get(`/payments/customer/${s}?page=${l}`)).data,getPending:async(s=1)=>(await fe.get(`/payments/pending?page=${s}`)).data,create:async s=>(await fe.post("/payments",s)).data,update:async(s,l)=>(await fe.put(`/payments/${s}`,l)).data,resolvePending:async(s,l)=>(await fe.post(`/payments/${s}/resolve`,{customer_id:l})).data,delete:async s=>(await fe.delete(`/payments/${s}`)).data,registerC2BUrls:async s=>{try{return(await fe.post("/payments/c2b/register-urls",s)).data}catch(l){const i=l?.response?.data,o=i?.message||i?.error||(i?.errors?JSON.stringify(i.errors):null)||l?.message||"Failed to register C2B URLs";throw new Error(o)}},stkPushPayhero:async s=>{try{return(await fe.post("/payments/payhero/stkpush",s)).data}catch(l){const i=l?.response?.data,o=i?.message||i?.error||(i?.errors?JSON.stringify(i.errors):null)||l?.message||"Failed to initiate STK push";throw new Error(o)}}},Px={getAll:async(s=1)=>(await fe.get(`/transactions?page=${s}`)).data,getByCustomer:async(s,l=1)=>(await fe.get(`/transactions/customer/${s}?page=${l}`)).data,getById:async s=>(await fe.get(`/transactions/${s}`)).data,create:async s=>(await fe.post("/transactions",s)).data},Nl={getAll:async(s=1)=>(await fe.get(`/tickets?page=${s}`)).data,getById:async s=>(await fe.get(`/tickets/${s}`)).data,getByCustomer:async(s,l=1)=>(await fe.get(`/tickets/customer/${s}?page=${l}`)).data,create:async s=>(await fe.post("/tickets",s)).data,update:async(s,l)=>(await fe.put(`/tickets/${s}`,l)).data,delete:async s=>(await fe.delete(`/tickets/${s}`)).data},Ws={get:async()=>(await fe.get("/organization")).data,update:async s=>(await fe.put("/organization",s)).data},Yu={send:async(s,l,i)=>(await fe.post("/sms/send",{phone:s,message:l,customer_id:i})).data,sendBulk:async s=>(await fe.post("/sms/send-bulk",{recipients:s})).data,getLogs:async(s,l=5)=>(await fe.get(`/sms/logs?customer_id=${s}&per_page=${l}`)).data},_p={getStats:async()=>(await fe.get("/dashboard/stats")).data,getRevenueChart:async()=>(await fe.get("/dashboard/revenue-chart")).data},Cn={getAll:async(s=1,l=10,i,o)=>{let d=`/leads?page=${s}&per_page=${l}`;return i&&i!=="all"&&(d+=`&status=${i}`),o&&(d+=`&search=${encodeURIComponent(o)}`),(await fe.get(d)).data},getById:async s=>(await fe.get(`/leads/${s}`)).data,create:async s=>(await fe.post("/leads",s)).data,update:async(s,l)=>(await fe.put(`/leads/${s}`,l)).data,delete:async s=>(await fe.delete(`/leads/${s}`)).data,getStats:async()=>(await fe.get("/leads-stats")).data},co={getAll:async(s=1,l=15,i,o,d,f)=>{let m=`/expenses?page=${s}&per_page=${l}`;return i&&i!=="All"&&(m+=`&category=${encodeURIComponent(i)}`),o&&(m+=`&search=${encodeURIComponent(o)}`),d&&(m+=`&start_date=${d}`),f&&(m+=`&end_date=${f}`),(await fe.get(m)).data},getById:async s=>(await fe.get(`/expenses/${s}`)).data,create:async s=>(await fe.post("/expenses",s)).data,update:async(s,l)=>(await fe.put(`/expenses/${s}`,l)).data,delete:async s=>(await fe.delete(`/expenses/${s}`)).data,getStats:async(s,l)=>{let i="/expenses/stats";const o=[];return s&&o.push(`start_date=${s}`),l&&o.push(`end_date=${l}`),o.length>0&&(i+=`?${o.join("&")}`),(await fe.get(i)).data}},ko={getAll:async(s=1,l=50,i,o,d)=>{let f=`/invoices?page=${s}&per_page=${l}`;return i&&(f+=`&search=${encodeURIComponent(i)}`),o&&o!=="all"&&(f+=`&status=${encodeURIComponent(o)}`),d&&(f+=`&customer_id=${encodeURIComponent(d)}`),(await fe.get(f)).data},getById:async s=>(await fe.get(`/invoices/${s}`)).data,create:async s=>(await fe.post("/invoices",s)).data,update:async(s,l)=>(await fe.put(`/invoices/${s}`,l)).data,delete:async s=>(await fe.delete(`/invoices/${s}`)).data},g1=()=>{const[s,l]=y.useState([]),[i,o]=y.useState({active_users:0,online_users:0,daily_revenue:0,offline_routers:0,clients_gained:0,clients_lost:0}),[d,f]=y.useState({data:[],total:0,growth:0}),[m,g]=y.useState("Initializing AI heuristics engine..."),[b,x]=y.useState(!0);y.useEffect(()=>{(async()=>{x(!0);try{const[N,k,j]=await Promise.all([El.getAll(),_p.getStats(),_p.getRevenueChart()]);console.log("Dashboard data fetched:",{sitesRes:N,statsRes:k,chartRes:j}),N.data&&l(N.data),o(k),f(j)}catch(N){console.error("Dashboard sync error:",N)}finally{x(!1)}})()},[]);const v=y.useMemo(()=>E=>E.toLocaleString("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}),[]),h=v(d.total),S=v(i.daily_revenue);return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx("div",{className:"col-span-2 sm:col-span-1",children:a.jsx(jl,{label:"Daily Revenue",value:S,icon:a.jsx(Oa.Revenue,{}),color:kl.warning})}),a.jsx(jl,{label:"Active Users",value:i.active_users,icon:a.jsx(Oa.CRM,{}),color:kl.primary}),a.jsx(jl,{label:"Online Now",value:i.online_users,icon:a.jsx(Oa.Management,{}),color:kl.success}),a.jsx(jl,{label:"System Alerts",value:i.offline_routers,icon:a.jsx(Oa.Settings,{}),color:kl.danger}),a.jsx(jl,{label:"Gained (30d)",value:`+${i.clients_gained}`,icon:a.jsx(Oa.CRM,{}),color:kl.success}),a.jsx(jl,{label:"Lost (30d)",value:`-${i.clients_lost}`,icon:a.jsx(Oa.CRM,{}),color:kl.danger})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Le,{title:"Revenue Trend (12M)",className:"lg:col-span-2 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-white",children:h}),a.jsxs("p",{className:`text-xs font-bold flex items-center gap-1 mt-1 ${d.growth>=0?"text-emerald-500":"text-red-500"}`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.growth>=0?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})}),Math.abs(d.growth),"% ",d.growth>=0?"growth":"decline"," (last 6 months vs previous)"]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("span",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-lg text-[10px] font-black uppercase",children:"Last 12 Months"})})]}),a.jsx(qv,{data:d.data})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Le,{title:"MikroTik Router Status",children:a.jsx("div",{className:"space-y-4",children:s.map(E=>a.jsxs("div",{className:"flex items-center justify-between border-b dark:border-slate-800 pb-2 last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[E.routers_count," Routers"]})]}),a.jsx(rt,{variant:E.status,children:E.status})]},E.id))})}),a.jsx(Le,{title:"System Insights (AI)",className:"lg:col-span-2",children:a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300 italic leading-relaxed",children:['"',m,'"']})})})]})]})]})},ve={SITES:"easy-tech-sites",ADMINS:"easy-tech-admins",ROLES:"easy-tech-roles",PACKAGES:"easy-tech-packages",CUSTOMERS:"easy-tech-customers",PAYMENTS:"easy-tech-payments",TRANSACTIONS:"easy-tech-transactions",INVOICES:"easy-tech-invoices",EXPENSES:"easy-tech-expenses",CATEGORIES:"easy-tech-expense-categories",LEADS:"easy-tech-leads",TICKETS:"easy-tech-tickets",AUTH:"easy-tech-auth"};function b1(s){if(typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",l.appendChild(i),i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}const y1=s=>{switch(s){case"success":return j1;case"info":return N1;case"warning":return k1;case"error":return S1;default:return null}},v1=Array(12).fill(0),w1=({visible:s,className:l})=>ne.createElement("div",{className:["sonner-loading-wrapper",l].filter(Boolean).join(" "),"data-visible":s},ne.createElement("div",{className:"sonner-spinner"},v1.map((i,o)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),j1=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k1=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N1=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),S1=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C1=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),E1=()=>{const[s,l]=ne.useState(document.hidden);return ne.useEffect(()=>{const i=()=>{l(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),s};let Eu=1;class A1{constructor(){this.subscribe=l=>(this.subscribers.push(l),()=>{const i=this.subscribers.indexOf(l);this.subscribers.splice(i,1)}),this.publish=l=>{this.subscribers.forEach(i=>i(l))},this.addToast=l=>{this.publish(l),this.toasts=[...this.toasts,l]},this.create=l=>{var i;const{message:o,...d}=l,f=typeof l?.id=="number"||((i=l.id)==null?void 0:i.length)>0?l.id:Eu++,m=this.toasts.find(b=>b.id===f),g=l.dismissible===void 0?!0:l.dismissible;return this.dismissedToasts.has(f)&&this.dismissedToasts.delete(f),m?this.toasts=this.toasts.map(b=>b.id===f?(this.publish({...b,...l,id:f,title:o}),{...b,...l,id:f,dismissible:g,title:o}):b):this.addToast({title:o,...d,dismissible:g,id:f}),f},this.dismiss=l=>(l?(this.dismissedToasts.add(l),requestAnimationFrame(()=>this.subscribers.forEach(i=>i({id:l,dismiss:!0})))):this.toasts.forEach(i=>{this.subscribers.forEach(o=>o({id:i.id,dismiss:!0}))}),l),this.message=(l,i)=>this.create({...i,message:l}),this.error=(l,i)=>this.create({...i,message:l,type:"error"}),this.success=(l,i)=>this.create({...i,type:"success",message:l}),this.info=(l,i)=>this.create({...i,type:"info",message:l}),this.warning=(l,i)=>this.create({...i,type:"warning",message:l}),this.loading=(l,i)=>this.create({...i,type:"loading",message:l}),this.promise=(l,i)=>{if(!i)return;let o;i.loading!==void 0&&(o=this.create({...i,promise:l,type:"loading",message:i.loading,description:typeof i.description!="function"?i.description:void 0}));const d=Promise.resolve(l instanceof Function?l():l);let f=o!==void 0,m;const g=d.then(async x=>{if(m=["resolve",x],ne.isValidElement(x))f=!1,this.create({id:o,type:"default",message:x});else if(L1(x)&&!x.ok){f=!1;const h=typeof i.error=="function"?await i.error(`HTTP error! status: ${x.status}`):i.error,S=typeof i.description=="function"?await i.description(`HTTP error! status: ${x.status}`):i.description,N=typeof h=="object"&&!ne.isValidElement(h)?h:{message:h};this.create({id:o,type:"error",description:S,...N})}else if(x instanceof Error){f=!1;const h=typeof i.error=="function"?await i.error(x):i.error,S=typeof i.description=="function"?await i.description(x):i.description,N=typeof h=="object"&&!ne.isValidElement(h)?h:{message:h};this.create({id:o,type:"error",description:S,...N})}else if(i.success!==void 0){f=!1;const h=typeof i.success=="function"?await i.success(x):i.success,S=typeof i.description=="function"?await i.description(x):i.description,N=typeof h=="object"&&!ne.isValidElement(h)?h:{message:h};this.create({id:o,type:"success",description:S,...N})}}).catch(async x=>{if(m=["reject",x],i.error!==void 0){f=!1;const v=typeof i.error=="function"?await i.error(x):i.error,h=typeof i.description=="function"?await i.description(x):i.description,E=typeof v=="object"&&!ne.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:h,...E})}}).finally(()=>{f&&(this.dismiss(o),o=void 0),i.finally==null||i.finally.call(i)}),b=()=>new Promise((x,v)=>g.then(()=>m[0]==="reject"?v(m[1]):x(m[1])).catch(v));return typeof o!="string"&&typeof o!="number"?{unwrap:b}:Object.assign(o,{unwrap:b})},this.custom=(l,i)=>{const o=i?.id||Eu++;return this.create({jsx:l(o),id:o,...i}),o},this.getActiveToasts=()=>this.toasts.filter(l=>!this.dismissedToasts.has(l.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Jt=new A1,T1=(s,l)=>{const i=l?.id||Eu++;return Jt.addToast({title:s,...l,id:i}),i},L1=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",M1=T1,_1=()=>Jt.toasts,R1=()=>Jt.getActiveToasts(),oe=Object.assign(M1,{success:Jt.success,info:Jt.info,warning:Jt.warning,error:Jt.error,custom:Jt.custom,message:Jt.message,promise:Jt.promise,dismiss:Jt.dismiss,loading:Jt.loading},{getHistory:_1,getToasts:R1});b1("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uo(s){return s.label!==void 0}const O1=3,D1="24px",B1="16px",Rp=4e3,z1=356,U1=14,H1=45,q1=200;function Ya(...s){return s.filter(Boolean).join(" ")}function $1(s){const[l,i]=s.split("-"),o=[];return l&&o.push(l),i&&o.push(i),o}const P1=s=>{var l,i,o,d,f,m,g,b,x;const{invert:v,toast:h,unstyled:S,interacting:E,setHeights:N,visibleToasts:k,heights:j,index:T,toasts:C,expanded:z,removeToast:O,defaultRichColors:X,closeButton:I,style:Z,cancelButtonStyle:ue,actionButtonStyle:ie,className:U="",descriptionClassName:ce="",duration:te,position:H,gap:me,expandByDefault:se,classNames:R,icons:ee,closeButtonAriaLabel:J="Close toast"}=s,[B,re]=ne.useState(null),[A,L]=ne.useState(null),[P,F]=ne.useState(!1),[de,be]=ne.useState(!1),[Ee,Se]=ne.useState(!1),[He,ha]=ne.useState(!1),[Ea,Dt]=ne.useState(!1),[ys,xt]=ne.useState(0),[vs,ws]=ne.useState(0),Fa=ne.useRef(h.duration||te||Rp),Qa=ne.useRef(null),Bt=ne.useRef(null),an=T===0,sn=T+1<=k,le=h.type,ht=h.dismissible!==!1,gt=h.className||"",nn=h.descriptionClassName||"",Tt=ne.useMemo(()=>j.findIndex(we=>we.toastId===h.id)||0,[j,h.id]),js=ne.useMemo(()=>{var we;return(we=h.closeButton)!=null?we:I},[h.closeButton,I]),Ge=ne.useMemo(()=>h.duration||te||Rp,[h.duration,te]),Za=ne.useRef(0),aa=ne.useRef(0),On=ne.useRef(0),Aa=ne.useRef(null),[ks,zt]=H.split("-"),Ta=ne.useMemo(()=>j.reduce((we,Ze,bt)=>bt>=Tt?we:we+Ze.height,0),[j,Tt]),Lt=E1(),Yo=h.invert||v,Hl=le==="loading";aa.current=ne.useMemo(()=>Tt*me+Ta,[Tt,Ta]),ne.useEffect(()=>{Fa.current=Ge},[Ge]),ne.useEffect(()=>{F(!0)},[]),ne.useEffect(()=>{const we=Bt.current;if(we){const Ze=we.getBoundingClientRect().height;return ws(Ze),N(bt=>[{toastId:h.id,height:Ze,position:h.position},...bt]),()=>N(bt=>bt.filter(Mt=>Mt.toastId!==h.id))}},[N,h.id]),ne.useLayoutEffect(()=>{if(!P)return;const we=Bt.current,Ze=we.style.height;we.style.height="auto";const bt=we.getBoundingClientRect().height;we.style.height=Ze,ws(bt),N(Mt=>Mt.find(et=>et.toastId===h.id)?Mt.map(et=>et.toastId===h.id?{...et,height:bt}:et):[{toastId:h.id,height:bt,position:h.position},...Mt])},[P,h.title,h.description,N,h.id,h.jsx,h.action,h.cancel]);const Ua=ne.useCallback(()=>{be(!0),xt(aa.current),N(we=>we.filter(Ze=>Ze.toastId!==h.id)),setTimeout(()=>{O(h)},q1)},[h,O,N,aa]);ne.useEffect(()=>{if(h.promise&&le==="loading"||h.duration===1/0||h.type==="loading")return;let we;return z||E||Lt?(()=>{if(On.current<Za.current){const Mt=new Date().getTime()-Za.current;Fa.current=Fa.current-Mt}On.current=new Date().getTime()})():Fa.current!==1/0&&(Za.current=new Date().getTime(),we=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Ua()},Fa.current)),()=>clearTimeout(we)},[z,E,h,le,Lt,Ua]),ne.useEffect(()=>{h.delete&&(Ua(),h.onDismiss==null||h.onDismiss.call(h,h))},[Ua,h.delete]);function Dn(){var we;if(ee?.loading){var Ze;return ne.createElement("div",{className:Ya(R?.loader,h==null||(Ze=h.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":le==="loading"},ee.loading)}return ne.createElement(w1,{className:Ya(R?.loader,h==null||(we=h.classNames)==null?void 0:we.loader),visible:le==="loading"})}const Bn=h.icon||ee?.[le]||y1(le);var ln,Ha;return ne.createElement("li",{tabIndex:0,ref:Bt,className:Ya(U,gt,R?.toast,h==null||(l=h.classNames)==null?void 0:l.toast,R?.default,R?.[le],h==null||(i=h.classNames)==null?void 0:i[le]),"data-sonner-toast":"","data-rich-colors":(ln=h.richColors)!=null?ln:X,"data-styled":!(h.jsx||h.unstyled||S),"data-mounted":P,"data-promise":!!h.promise,"data-swiped":Ea,"data-removed":de,"data-visible":sn,"data-y-position":ks,"data-x-position":zt,"data-index":T,"data-front":an,"data-swiping":Ee,"data-dismissible":ht,"data-type":le,"data-invert":Yo,"data-swipe-out":He,"data-swipe-direction":A,"data-expanded":!!(z||se&&P),"data-testid":h.testId,style:{"--index":T,"--toasts-before":T,"--z-index":C.length-T,"--offset":`${de?ys:aa.current}px`,"--initial-height":se?"auto":`${vs}px`,...Z,...h.style},onDragEnd:()=>{Se(!1),re(null),Aa.current=null},onPointerDown:we=>{we.button!==2&&(Hl||!ht||(Qa.current=new Date,xt(aa.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(Se(!0),Aa.current={x:we.clientX,y:we.clientY})))},onPointerUp:()=>{var we,Ze,bt;if(He||!ht)return;Aa.current=null;const Mt=Number(((we=Bt.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ns=Number(((Ze=Bt.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),et=new Date().getTime()-((bt=Qa.current)==null?void 0:bt.getTime()),Pt=B==="x"?Mt:Ns,rn=Math.abs(Pt)/et;if(Math.abs(Pt)>=H1||rn>.11){xt(aa.current),h.onDismiss==null||h.onDismiss.call(h,h),L(B==="x"?Mt>0?"right":"left":Ns>0?"down":"up"),Ua(),ha(!0);return}else{var Vt,It;(Vt=Bt.current)==null||Vt.style.setProperty("--swipe-amount-x","0px"),(It=Bt.current)==null||It.style.setProperty("--swipe-amount-y","0px")}Dt(!1),Se(!1),re(null)},onPointerMove:we=>{var Ze,bt,Mt;if(!Aa.current||!ht||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;const et=we.clientY-Aa.current.y,Pt=we.clientX-Aa.current.x;var rn;const Vt=(rn=s.swipeDirections)!=null?rn:$1(H);!B&&(Math.abs(Pt)>1||Math.abs(et)>1)&&re(Math.abs(Pt)>Math.abs(et)?"x":"y");let It={x:0,y:0};const zn=La=>1/(1.5+Math.abs(La)/20);if(B==="y"){if(Vt.includes("top")||Vt.includes("bottom"))if(Vt.includes("top")&&et<0||Vt.includes("bottom")&&et>0)It.y=et;else{const La=et*zn(et);It.y=Math.abs(La)<Math.abs(et)?La:et}}else if(B==="x"&&(Vt.includes("left")||Vt.includes("right")))if(Vt.includes("left")&&Pt<0||Vt.includes("right")&&Pt>0)It.x=Pt;else{const La=Pt*zn(Pt);It.x=Math.abs(La)<Math.abs(Pt)?La:Pt}(Math.abs(It.x)>0||Math.abs(It.y)>0)&&Dt(!0),(bt=Bt.current)==null||bt.style.setProperty("--swipe-amount-x",`${It.x}px`),(Mt=Bt.current)==null||Mt.style.setProperty("--swipe-amount-y",`${It.y}px`)}},js&&!h.jsx&&le!=="loading"?ne.createElement("button",{"aria-label":J,"data-disabled":Hl,"data-close-button":!0,onClick:Hl||!ht?()=>{}:()=>{Ua(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Ya(R?.closeButton,h==null||(o=h.classNames)==null?void 0:o.closeButton)},(Ha=ee?.close)!=null?Ha:C1):null,(le||h.icon||h.promise)&&h.icon!==null&&(ee?.[le]!==null||h.icon)?ne.createElement("div",{"data-icon":"",className:Ya(R?.icon,h==null||(d=h.classNames)==null?void 0:d.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Dn():null,h.type!=="loading"?Bn:null):null,ne.createElement("div",{"data-content":"",className:Ya(R?.content,h==null||(f=h.classNames)==null?void 0:f.content)},ne.createElement("div",{"data-title":"",className:Ya(R?.title,h==null||(m=h.classNames)==null?void 0:m.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?ne.createElement("div",{"data-description":"",className:Ya(ce,nn,R?.description,h==null||(g=h.classNames)==null?void 0:g.description)},typeof h.description=="function"?h.description():h.description):null),ne.isValidElement(h.cancel)?h.cancel:h.cancel&&uo(h.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||ue,onClick:we=>{uo(h.cancel)&&ht&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,we),Ua())},className:Ya(R?.cancelButton,h==null||(b=h.classNames)==null?void 0:b.cancelButton)},h.cancel.label):null,ne.isValidElement(h.action)?h.action:h.action&&uo(h.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||ie,onClick:we=>{uo(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,we),!we.defaultPrevented&&Ua())},className:Ya(R?.actionButton,h==null||(x=h.classNames)==null?void 0:x.actionButton)},h.action.label):null)};function Op(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function V1(s,l){const i={};return[s,l].forEach((o,d)=>{const f=d===1,m=f?"--mobile-offset":"--offset",g=f?B1:D1;function b(x){["top","right","bottom","left"].forEach(v=>{i[`${m}-${v}`]=typeof x=="number"?`${x}px`:x})}typeof o=="number"||typeof o=="string"?b(o):typeof o=="object"?["top","right","bottom","left"].forEach(x=>{o[x]===void 0?i[`${m}-${x}`]=g:i[`${m}-${x}`]=typeof o[x]=="number"?`${o[x]}px`:o[x]}):b(g)}),i}const I1=ne.forwardRef(function(l,i){const{id:o,invert:d,position:f="bottom-right",hotkey:m=["altKey","KeyT"],expand:g,closeButton:b,className:x,offset:v,mobileOffset:h,theme:S="light",richColors:E,duration:N,style:k,visibleToasts:j=O1,toastOptions:T,dir:C=Op(),gap:z=U1,icons:O,containerAriaLabel:X="Notifications"}=l,[I,Z]=ne.useState([]),ue=ne.useMemo(()=>o?I.filter(P=>P.toasterId===o):I.filter(P=>!P.toasterId),[I,o]),ie=ne.useMemo(()=>Array.from(new Set([f].concat(ue.filter(P=>P.position).map(P=>P.position)))),[ue,f]),[U,ce]=ne.useState([]),[te,H]=ne.useState(!1),[me,se]=ne.useState(!1),[R,ee]=ne.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=ne.useRef(null),B=m.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=ne.useRef(null),A=ne.useRef(!1),L=ne.useCallback(P=>{Z(F=>{var de;return(de=F.find(be=>be.id===P.id))!=null&&de.delete||Jt.dismiss(P.id),F.filter(({id:be})=>be!==P.id)})},[]);return ne.useEffect(()=>Jt.subscribe(P=>{if(P.dismiss){requestAnimationFrame(()=>{Z(F=>F.map(de=>de.id===P.id?{...de,delete:!0}:de))});return}setTimeout(()=>{zv.flushSync(()=>{Z(F=>{const de=F.findIndex(be=>be.id===P.id);return de!==-1?[...F.slice(0,de),{...F[de],...P},...F.slice(de+1)]:[P,...F]})})})}),[I]),ne.useEffect(()=>{if(S!=="system"){ee(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:F})=>{ee(F?"dark":"light")})}catch{P.addListener(({matches:de})=>{try{ee(de?"dark":"light")}catch(be){console.error(be)}})}},[S]),ne.useEffect(()=>{I.length<=1&&H(!1)},[I]),ne.useEffect(()=>{const P=F=>{var de;if(m.every(Se=>F[Se]||F.code===Se)){var Ee;H(!0),(Ee=J.current)==null||Ee.focus()}F.code==="Escape"&&(document.activeElement===J.current||(de=J.current)!=null&&de.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[m]),ne.useEffect(()=>{if(J.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,A.current=!1)}},[J.current]),ne.createElement("section",{ref:i,"aria-label":`${X} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ie.map((P,F)=>{var de;const[be,Ee]=P.split("-");return ue.length?ne.createElement("ol",{key:P,dir:C==="auto"?Op():C,tabIndex:-1,ref:J,className:x,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":be,"data-x-position":Ee,style:{"--front-toast-height":`${((de=U[0])==null?void 0:de.height)||0}px`,"--width":`${z1}px`,"--gap":`${z}px`,...k,...V1(v,h)},onBlur:Se=>{A.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(A.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||A.current||(A.current=!0,re.current=Se.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{me||H(!1)},onDragEnd:()=>H(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},ue.filter(Se=>!Se.position&&F===0||Se.position===P).map((Se,He)=>{var ha,Ea;return ne.createElement(P1,{key:Se.id,icons:O,index:He,toast:Se,defaultRichColors:E,duration:(ha=T?.duration)!=null?ha:N,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:d,visibleToasts:j,closeButton:(Ea=T?.closeButton)!=null?Ea:b,interacting:me,position:P,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,closeButtonAriaLabel:T?.closeButtonAriaLabel,removeToast:L,toasts:ue.filter(Dt=>Dt.position==Se.position),heights:U.filter(Dt=>Dt.position==Se.position),setHeights:ce,expandByDefault:g,gap:z,expanded:te,swipeDirections:l.swipeDirections})})):null}))}),Y1=({isOpen:s,onClose:l,onSuccess:i})=>{const[o,d]=y.useState(""),[f,m]=y.useState(""),[g,b]=y.useState(""),[x,v]=y.useState(!1),[h,S]=y.useState(null),E=async()=>{if(!o.trim()){S("Site name is required");return}if(!f.trim()){S("Gateway IP address is required");return}if(!/^(\d{1,3}\.){3}\d{1,3}$/.test(f)){S("Invalid IP address format");return}try{v(!0),S(null),await El.create({name:o.trim(),ip_address:f.trim(),location:g.trim()||"Not specified",notify_on_down:!0}),oe.success("Site provisioned successfully"),d(""),m(""),b(""),l(),i()}catch(k){S(k.message||"Failed to create site"),oe.error("Failed to provision site")}finally{v(!1)}};return a.jsx(Qe,{isOpen:s,onClose:l,title:"Register Network Site",children:a.jsxs("div",{className:"space-y-4",children:[h&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:h})}),a.jsx("input",{type:"text",placeholder:"Friendly Name",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-gray-900 dark:text-white",value:o,onChange:N=>d(N.target.value),disabled:x}),a.jsx("input",{type:"text",placeholder:"Primary Gateway IP",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-gray-900 dark:text-white",value:f,onChange:N=>m(N.target.value),disabled:x}),a.jsx("input",{type:"text",placeholder:"Location (optional)",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-gray-900 dark:text-white",value:g,onChange:N=>b(N.target.value),disabled:x}),a.jsx("button",{onClick:E,disabled:x,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700",children:x?"Provisioning...":"Provision Site"})]})})},G1=({isOpen:s,onClose:l,selectedSite:i})=>{const[o,d]=y.useState(null),[f,m]=y.useState(!1),[g,b]=y.useState(null);y.useEffect(()=>{s&&i&&x()},[s,i]);const x=async()=>{if(i)try{m(!0);const h=await El.getIpam(i.id);console.log("Fetched IPAM data:",h),d(h)}catch(h){console.error("Error fetching IPAM data:",h)}finally{m(!1)}},v=h=>{switch(h){case"active":return"bg-green-500 border-green-600";case"expired":return"bg-red-500 border-red-600";case"suspended":return"bg-yellow-500 border-yellow-600";default:return"bg-gray-500 border-gray-600"}};return a.jsx(Qe,{isOpen:s,onClose:l,title:`IPAM Inventory: ${i?.name}`,maxWidth:"max-w-6xl",children:f?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Subnet"}),a.jsx("p",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:o.subnet})]}),a.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Allocated"}),a.jsxs("p",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:[o.total_allocated," IPs"]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Available"}),a.jsxs("p",{className:"text-sm font-bold text-gray-600 dark:text-gray-400",children:[o.total_available," IPs"]})]})]}),a.jsx("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[...Array(256)].map((h,S)=>{const E=o.allocations[S],N=!!E;return a.jsxs("div",{onClick:()=>N&&b(S),className:`h-8 rounded flex items-center justify-center text-[8px] font-mono border transition-all ${N?`${v(E.status)} text-white cursor-pointer hover:scale-105`:"bg-gray-100 dark:bg-slate-800 text-gray-400 border-gray-200 dark:border-slate-700"} ${g===S?"ring-2 ring-blue-400 scale-105":""}`,title:N?`${E.name} (${E.ip})`:`${o.base_network}.${S} - Available`,children:[".",S]},S)})}),g!==null&&o.allocations[g]&&a.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Customer Details"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:o.allocations[g].name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono",children:o.allocations[g].username}),a.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 mt-1",children:o.allocations[g].ip})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase ${o.allocations[g].status==="active"?"bg-green-100 text-green-700":o.allocations[g].status==="expired"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:o.allocations[g].status})]})}),a.jsx("div",{className:"mt-4 pt-4 border-t dark:border-slate-800",children:a.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-green-500 border border-green-600"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Active"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-red-500 border border-red-600"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Expired"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500 border border-yellow-600"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Suspended"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Available"})]})]})})]}):null})},X1=({isOpen:s,onClose:l,selectedSite:i,onCopy:o})=>a.jsxs(Qe,{isOpen:s,onClose:l,title:"MikroTik CLI Environment",maxWidth:"max-w-3xl",children:[a.jsx("div",{className:"bg-slate-950 p-6 rounded-2xl border border-slate-800",children:a.jsx("pre",{className:"text-green-400 font-mono text-[11px] overflow-x-auto leading-relaxed",children:`# EasyTech Auto-Provision Script
# TARGET: ${i?.name}

# IP Address Configuration
/ip address add address=${i?.ip_address}/24 interface=ether1

# IP Pools
/ip pool
add name=expired ranges=${i?.ip_address.split(".").slice(0,3).join(".")}.50-${i?.ip_address.split(".").slice(0,3).join(".")}.99
add name=pppoe-pool ranges=${i?.ip_address.split(".").slice(0,3).join(".")}.100-${i?.ip_address.split(".").slice(0,3).join(".")}.250

# PPP Profiles
/ppp profile
add local-address=${i?.ip_address} name=expired remote-address=expired
add dns-server=8.8.8.8,1.1.1.1 local-address=${i?.ip_address} name=ppoe-profile \\
    remote-address=pppoe-pool

# DNS Configuration
/ip dns set servers=8.8.8.8,1.1.1.1 allow-remote-requests=yes

# PPPoE Server Configuration
/interface pppoe-server server
add default-profile=ppoe-profile disabled=no interface=ether3-pppoe \\
    one-session-per-host=yes service-name=pppoe-server

# RADIUS Configuration
/ppp aaa set use-radius=yes
/radius add address=102.212.246.245 service=ppp,login,hotspot secret=p5D031tEhfRNXBwm
/radius incoming set accept=yes

# WireGuard Configuration
/interface wireguard add name=wg-radius listen-port=13231
/interface wireguard peers add interface=wg-radius public-key="5jhaRrfQt+PFcWT69GosWDYmt7icp4DpOYzZXYLOclM="     endpoint-address=102.212.246.245:51820 allowed-address=10.0.0.0/24 persistent-keepalive=25s

/ip address add address=10.0.0.2/24 interface=wg-radius

# Firewall Rules
# Allow RADIUS and COA from the WireGuard Tunnel only
/ip firewall filter
add action=accept chain=input src-address=10.0.0.1 protocol=udp dst-port=1812,1813 comment="Allow RADIUS Auth/Acct"
add action=accept chain=input src-address=10.0.0.1 protocol=udp dst-port=3799 comment="Allow RADIUS COA (Disconnect)"

# System Clock
/system clock set time-zone-name=Africa/Nairobi`})}),a.jsx("button",{onClick:o,className:"w-full mt-4 py-2 border border-gray-200 dark:border-slate-700 text-xs font-bold rounded-xl dark:text-gray-300",children:"Copy Script to Clipboard"})]}),K1=()=>{const[s,l]=y.useState(()=>JSON.parse(localStorage.getItem(ve.SITES)||"[]")),[i,o]=y.useState(!1),[d,f]=y.useState(!1),[m,g]=y.useState(!1),[b,x]=y.useState(null);y.useEffect(()=>{v()},[]);const v=async()=>{try{const j=(await El.getAll()).data||[];l(j),localStorage.setItem(ve.SITES,JSON.stringify(j))}catch(k){console.error("Error fetching sites:",k)}},h=async k=>{const j=s.find(C=>C.id===k);if(!j)return;const T=!j.notify_on_down;try{const C=await El.update(k,{notify_on_down:T}),z=C?.site||C?.data||{...j,notify_on_down:T};l(O=>{const X=O.map(I=>I.id===k?{...I,...z}:I);return localStorage.setItem(ve.SITES,JSON.stringify(X)),X}),localStorage.setItem(ve.SITES,JSON.stringify(s.map(O=>O.id===k?{...O,notify_on_down:T}:O))),oe.success(`Downtime alert turned ${T?"ON":"OFF"}`)}catch(C){console.error("Error updating site notification setting:",C),oe.error("Failed to update downtime alert setting")}},S=()=>o(!0),E=k=>{x(k),f(!0)},N=k=>{x(k),g(!0)};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Network Sites"}),a.jsx("button",{type:"button",onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition",children:"Add Site"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(k=>a.jsxs(Le,{title:k.location,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"truncate pr-2",children:[a.jsx("h4",{className:"text-lg font-bold",children:k.name}),a.jsx("p",{className:"text-xs font-mono text-blue-600",children:k.ip_address}),k.last_seen&&a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:["Last seen: ",new Date(k.last_seen).toLocaleString()]})]}),a.jsx("div",{className:"flex flex-col items-end space-y-2",children:a.jsx(rt,{variant:k.status,children:k.status})})]}),a.jsxs("div",{className:"mb-4 flex items-center justify-between p-2 bg-gray-50 dark:bg-slate-800 rounded-lg",children:[a.jsx("span",{className:"text-xs",children:"Downtime Alert"}),a.jsx(qu,{checked:k.notify_on_down,onChange:()=>h(k.id),label:k.notify_on_down?"ON":"OFF"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>E(k),className:"flex-1 text-xs border border-gray-200 dark:border-slate-700 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-slate-800",children:"IPAM"}),a.jsx("button",{type:"button",onClick:()=>N(k),className:"flex-1 text-xs border border-gray-200 dark:border-slate-700 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-slate-800",children:"Config"})]})]},k.id))}),a.jsx(Y1,{isOpen:i,onClose:()=>o(!1),onSuccess:()=>v()}),a.jsx(G1,{isOpen:d,onClose:()=>f(!1),selectedSite:b}),a.jsx(X1,{isOpen:m,onClose:()=>g(!1),selectedSite:b,onCopy:()=>oe.message("Copied")})]})},F1=({isOpen:s,onClose:l,editingAdmin:i,setEditingAdmin:o,roles:d,onSuccess:f})=>{const[m,g]=y.useState(!1),b=async x=>{if(x.preventDefault(),!i?.name||!i?.email||!i?.phone){oe.error("Please fill in all required fields.");return}g(!0);try{const v=i.role_id||d[0]?.id;if(!v){oe.error("Please select a role.");return}if(i.id){const h={name:i.name,phone:i.phone,role_id:v,status:i.status||"Active"};i.password&&i.password.trim().length>0&&(h.password=i.password),await Or.update(String(i.id),h),oe.success("Administrator updated successfully."),f&&f()}else{if(!i.password||i.password.trim().length<6){oe.error("Password must be at least 6 characters.");return}await Or.create({name:i.name,email:i.email,phone:i.phone,password:i.password,role_id:v,status:i.status||"Active"}),oe.success("Administrator created successfully."),f&&f()}o(null),l()}catch(v){const h=v?.message||"Failed to save administrator.";oe.error(h)}finally{g(!1)}};return a.jsx(Qe,{isOpen:s,onClose:l,title:i?.id?"Update Administrator":"Provision New Administrator",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Full Name"}),a.jsx("input",{required:!0,type:"text",value:i?.name||"",onChange:x=>o({...i,name:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. Robert Smith"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"System Email"}),a.jsx("input",{required:!0,type:"email",value:i?.email||"",onChange:x=>o({...i,email:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. robert@easytech.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Phone Number"}),a.jsx("input",{required:!0,type:"tel",value:i?.phone||"",onChange:x=>o({...i,phone:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. +1 555-000-0000"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:i?.id?"New Password (Optional)":"Account Password"}),a.jsx("input",{required:!i?.id,type:"password",value:i?.password||"",onChange:x=>o({...i,password:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:i?.id?"Leave blank to keep current":"Minimum 8 characters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Access Role"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:i?.role_id||"r4",onChange:x=>o({...i,role_id:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white",children:d.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))}),a.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl mt-4 hover:bg-blue-700 shadow-lg shadow-blue-500/20 transition-all disabled:opacity-60",children:m?"Saving...":i?.id?"Update Credentials":"Provision Account"})]})})};function Vx(s,l,i){if(typeof s=="function"?s===l:s.has(l))return arguments.length<3?l:i;throw new TypeError("Private element is not present on this object")}function Q1(s,l){if(l.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dp(s,l){return s.get(Vx(s,l))}function Z1(s,l,i){Q1(s,l),l.set(s,i)}function J1(s,l,i){return s.set(Vx(s,l),i),i}const W1=100,xe={},ej=()=>{xe.previousActiveElement instanceof HTMLElement?(xe.previousActiveElement.focus(),xe.previousActiveElement=null):document.body&&document.body.focus()},tj=s=>new Promise(l=>{if(!s)return l();const i=window.scrollX,o=window.scrollY;xe.restoreFocusTimeout=setTimeout(()=>{ej(),l()},W1),window.scrollTo(i,o)}),Ix="swal2-",aj=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],K=aj.reduce((s,l)=>(s[l]=Ix+l,s),{}),sj=["success","warning","info","question","error"],No=sj.reduce((s,l)=>(s[l]=Ix+l,s),{}),Yx="SweetAlert2:",Gu=s=>s.charAt(0).toUpperCase()+s.slice(1),qt=s=>{console.warn(`${Yx} ${typeof s=="object"?s.join(" "):s}`)},_n=s=>{console.error(`${Yx} ${s}`)},Bp=[],nj=s=>{Bp.includes(s)||(Bp.push(s),qt(s))},Gx=(s,l=null)=>{nj(`"${s}" is deprecated and will be removed in the next major release.${l?` Use "${l}" instead.`:""}`)},qo=s=>typeof s=="function"?s():s,Xu=s=>s&&typeof s.toPromise=="function",Pr=s=>Xu(s)?s.toPromise():Promise.resolve(s),Ku=s=>s&&Promise.resolve(s)===s,$t=()=>document.body.querySelector(`.${K.container}`),Vr=s=>{const l=$t();return l?l.querySelector(s):null},fa=s=>Vr(`.${s}`),Ue=()=>fa(K.popup),Dl=()=>fa(K.icon),lj=()=>fa(K["icon-content"]),Xx=()=>fa(K.title),Fu=()=>fa(K["html-container"]),Kx=()=>fa(K.image),Qu=()=>fa(K["progress-steps"]),$o=()=>fa(K["validation-message"]),Xa=()=>Vr(`.${K.actions} .${K.confirm}`),Bl=()=>Vr(`.${K.actions} .${K.cancel}`),Rn=()=>Vr(`.${K.actions} .${K.deny}`),rj=()=>fa(K["input-label"]),zl=()=>Vr(`.${K.loader}`),Ir=()=>fa(K.actions),Fx=()=>fa(K.footer),Po=()=>fa(K["timer-progress-bar"]),Zu=()=>fa(K.close),ij=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ju=()=>{const s=Ue();if(!s)return[];const l=s.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(l).sort((f,m)=>{const g=parseInt(f.getAttribute("tabindex")||"0"),b=parseInt(m.getAttribute("tabindex")||"0");return g>b?1:g<b?-1:0}),o=s.querySelectorAll(ij),d=Array.from(o).filter(f=>f.getAttribute("tabindex")!=="-1");return[...new Set(i.concat(d))].filter(f=>ta(f))},Wu=()=>gs(document.body,K.shown)&&!gs(document.body,K["toast-shown"])&&!gs(document.body,K["no-backdrop"]),Vo=()=>{const s=Ue();return s?gs(s,K.toast):!1},oj=()=>{const s=Ue();return s?s.hasAttribute("data-loading"):!1},ma=(s,l)=>{if(s.textContent="",l){const o=new DOMParser().parseFromString(l,"text/html"),d=o.querySelector("head");d&&Array.from(d.childNodes).forEach(m=>{s.appendChild(m)});const f=o.querySelector("body");f&&Array.from(f.childNodes).forEach(m=>{m instanceof HTMLVideoElement||m instanceof HTMLAudioElement?s.appendChild(m.cloneNode(!0)):s.appendChild(m)})}},gs=(s,l)=>{if(!l)return!1;const i=l.split(/\s+/);for(let o=0;o<i.length;o++)if(!s.classList.contains(i[o]))return!1;return!0},cj=(s,l)=>{Array.from(s.classList).forEach(i=>{!Object.values(K).includes(i)&&!Object.values(No).includes(i)&&!Object.values(l.showClass||{}).includes(i)&&s.classList.remove(i)})},da=(s,l,i)=>{if(cj(s,l),!l.customClass)return;const o=l.customClass[i];if(o){if(typeof o!="string"&&!o.forEach){qt(`Invalid type of customClass.${i}! Expected string or iterable object, got "${typeof o}"`);return}ze(s,o)}},Io=(s,l)=>{if(!l)return null;switch(l){case"select":case"textarea":case"file":return s.querySelector(`.${K.popup} > .${K[l]}`);case"checkbox":return s.querySelector(`.${K.popup} > .${K.checkbox} input`);case"radio":return s.querySelector(`.${K.popup} > .${K.radio} input:checked`)||s.querySelector(`.${K.popup} > .${K.radio} input:first-child`);case"range":return s.querySelector(`.${K.popup} > .${K.range} input`);default:return s.querySelector(`.${K.popup} > .${K.input}`)}},Qx=s=>{if(s.focus(),s.type!=="file"){const l=s.value;s.value="",s.value=l}},Zx=(s,l,i)=>{!s||!l||(typeof l=="string"&&(l=l.split(/\s+/).filter(Boolean)),l.forEach(o=>{Array.isArray(s)?s.forEach(d=>{i?d.classList.add(o):d.classList.remove(o)}):i?s.classList.add(o):s.classList.remove(o)}))},ze=(s,l)=>{Zx(s,l,!0)},Ca=(s,l)=>{Zx(s,l,!1)},Qs=(s,l)=>{const i=Array.from(s.children);for(let o=0;o<i.length;o++){const d=i[o];if(d instanceof HTMLElement&&gs(d,l))return d}},Tn=(s,l,i)=>{i===`${parseInt(`${i}`)}`&&(i=parseInt(i)),i||parseInt(`${i}`)===0?s.style.setProperty(l,typeof i=="number"?`${i}px`:i):s.style.removeProperty(l)},jt=(s,l="flex")=>{s&&(s.style.display=l)},Ot=s=>{s&&(s.style.display="none")},e0=(s,l="block")=>{s&&new MutationObserver(()=>{Yr(s,s.innerHTML,l)}).observe(s,{childList:!0,subtree:!0})},zp=(s,l,i,o)=>{const d=s.querySelector(l);d&&d.style.setProperty(i,o)},Yr=(s,l,i="flex")=>{l?jt(s,i):Ot(s)},ta=s=>!!(s&&(s.offsetWidth||s.offsetHeight||s.getClientRects().length)),dj=()=>!ta(Xa())&&!ta(Rn())&&!ta(Bl()),Au=s=>s.scrollHeight>s.clientHeight,uj=(s,l)=>{let i=s;for(;i&&i!==l;){if(Au(i))return!0;i=i.parentElement}return!1},Jx=s=>{const l=window.getComputedStyle(s),i=parseFloat(l.getPropertyValue("animation-duration")||"0"),o=parseFloat(l.getPropertyValue("transition-duration")||"0");return i>0||o>0},t0=(s,l=!1)=>{const i=Po();i&&ta(i)&&(l&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition=`width ${s/1e3}s linear`,i.style.width="0%"},10))},fj=()=>{const s=Po();if(!s)return;const l=parseInt(window.getComputedStyle(s).width);s.style.removeProperty("transition"),s.style.width="100%";const i=parseInt(window.getComputedStyle(s).width),o=l/i*100;s.style.width=`${o}%`},mj=()=>typeof window>"u"||typeof document>"u",hj=`
 <div aria-labelledby="${K.title}" aria-describedby="${K["html-container"]}" class="${K.popup}" tabindex="-1">
   <button type="button" class="${K.close}"></button>
   <ul class="${K["progress-steps"]}"></ul>
   <div class="${K.icon}"></div>
   <img class="${K.image}" />
   <h2 class="${K.title}" id="${K.title}"></h2>
   <div class="${K["html-container"]}" id="${K["html-container"]}"></div>
   <input class="${K.input}" id="${K.input}" />
   <input type="file" class="${K.file}" />
   <div class="${K.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${K.select}" id="${K.select}"></select>
   <div class="${K.radio}"></div>
   <label class="${K.checkbox}">
     <input type="checkbox" id="${K.checkbox}" />
     <span class="${K.label}"></span>
   </label>
   <textarea class="${K.textarea}" id="${K.textarea}"></textarea>
   <div class="${K["validation-message"]}" id="${K["validation-message"]}"></div>
   <div class="${K.actions}">
     <div class="${K.loader}"></div>
     <button type="button" class="${K.confirm}"></button>
     <button type="button" class="${K.deny}"></button>
     <button type="button" class="${K.cancel}"></button>
   </div>
   <div class="${K.footer}"></div>
   <div class="${K["timer-progress-bar-container"]}">
     <div class="${K["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),pj=()=>{const s=$t();return s?(s.remove(),Ca([document.documentElement,document.body],[K["no-backdrop"],K["toast-shown"],K["has-column"]]),!0):!1},Sn=()=>{xe.currentInstance&&xe.currentInstance.resetValidationMessage()},xj=()=>{const s=Ue();if(!s)return;const l=Qs(s,K.input),i=Qs(s,K.file),o=s.querySelector(`.${K.range} input`),d=s.querySelector(`.${K.range} output`),f=Qs(s,K.select),m=s.querySelector(`.${K.checkbox} input`),g=Qs(s,K.textarea);l&&(l.oninput=Sn),i&&(i.onchange=Sn),f&&(f.onchange=Sn),m&&(m.onchange=Sn),g&&(g.oninput=Sn),o&&d&&(o.oninput=()=>{Sn(),d.value=o.value},o.onchange=()=>{Sn(),d.value=o.value})},gj=s=>{if(typeof s=="string"){const l=document.querySelector(s);if(!l)throw new Error(`Target element "${s}" not found`);return l}return s},bj=s=>{const l=Ue();l&&(l.setAttribute("role",s.toast?"alert":"dialog"),l.setAttribute("aria-live",s.toast?"polite":"assertive"),s.toast||l.setAttribute("aria-modal","true"))},yj=s=>{window.getComputedStyle(s).direction==="rtl"&&(ze($t(),K.rtl),xe.isRTL=!0)},vj=s=>{const l=pj();if(mj()){_n("SweetAlert2 requires document to initialize");return}const i=document.createElement("div");i.className=K.container,l&&ze(i,K["no-transition"]),ma(i,hj),i.dataset.swal2Theme=s.theme;const o=gj(s.target||"body");o.appendChild(i),s.topLayer&&(i.setAttribute("popover",""),i.showPopover()),bj(s),yj(o),xj()},a0=(s,l)=>{s instanceof HTMLElement?l.appendChild(s):typeof s=="object"?wj(s,l):s&&ma(l,s)},wj=(s,l)=>{"jquery"in s?jj(l,s):ma(l,s.toString())},jj=(s,l)=>{if(s.textContent="",0 in l)for(let i=0;i in l;i++)s.appendChild(l[i].cloneNode(!0));else s.appendChild(l.cloneNode(!0))},kj=(s,l)=>{const i=Ir(),o=zl();!i||!o||(!l.showConfirmButton&&!l.showDenyButton&&!l.showCancelButton?Ot(i):jt(i),da(i,l,"actions"),Nj(i,o,l),ma(o,l.loaderHtml||""),da(o,l,"loader"))};function Nj(s,l,i){const o=Xa(),d=Rn(),f=Bl();!o||!d||!f||(xu(o,"confirm",i),xu(d,"deny",i),xu(f,"cancel",i),Sj(o,d,f,i),i.reverseButtons&&(i.toast?(s.insertBefore(f,o),s.insertBefore(d,o)):(s.insertBefore(f,l),s.insertBefore(d,l),s.insertBefore(o,l))))}function Sj(s,l,i,o){if(!o.buttonsStyling){Ca([s,l,i],K.styled);return}ze([s,l,i],K.styled),o.confirmButtonColor&&s.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor),o.denyButtonColor&&l.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor),o.cancelButtonColor&&i.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor),pu(s),pu(l),pu(i)}function pu(s){const l=window.getComputedStyle(s);if(l.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const i=l.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");s.style.setProperty("--swal2-action-button-focus-box-shadow",l.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${i}`))}function xu(s,l,i){const o=Gu(l);Yr(s,i[`show${o}Button`],"inline-block"),ma(s,i[`${l}ButtonText`]||""),s.setAttribute("aria-label",i[`${l}ButtonAriaLabel`]||""),s.className=K[l],da(s,i,`${l}Button`)}const Cj=(s,l)=>{const i=Zu();i&&(ma(i,l.closeButtonHtml||""),da(i,l,"closeButton"),Yr(i,l.showCloseButton),i.setAttribute("aria-label",l.closeButtonAriaLabel||""))},Ej=(s,l)=>{const i=$t();i&&(Aj(i,l.backdrop),Tj(i,l.position),Lj(i,l.grow),da(i,l,"container"))};function Aj(s,l){typeof l=="string"?s.style.background=l:l||ze([document.documentElement,document.body],K["no-backdrop"])}function Tj(s,l){l&&(l in K?ze(s,K[l]):(qt('The "position" parameter is not valid, defaulting to "center"'),ze(s,K.center)))}function Lj(s,l){l&&ze(s,K[`grow-${l}`])}var Xe={innerParams:new WeakMap,domCache:new WeakMap};const Mj=["input","file","range","select","radio","checkbox","textarea"],_j=(s,l)=>{const i=Ue();if(!i)return;const o=Xe.innerParams.get(s),d=!o||l.input!==o.input;Mj.forEach(f=>{const m=Qs(i,K[f]);m&&(Dj(f,l.inputAttributes),m.className=K[f],d&&Ot(m))}),l.input&&(d&&Rj(l),Bj(l))},Rj=s=>{if(!s.input)return;if(!lt[s.input]){_n(`Unexpected type of input! Expected ${Object.keys(lt).join(" | ")}, got "${s.input}"`);return}const l=Wx(s.input);if(!l)return;const i=lt[s.input](l,s);jt(l),s.inputAutoFocus&&setTimeout(()=>{Qx(i)})},Oj=s=>{for(let l=0;l<s.attributes.length;l++){const i=s.attributes[l].name;["id","type","value","style"].includes(i)||s.removeAttribute(i)}},Dj=(s,l)=>{const i=Ue();if(!i)return;const o=Io(i,s);if(o){Oj(o);for(const d in l)o.setAttribute(d,l[d])}},Bj=s=>{if(!s.input)return;const l=Wx(s.input);l&&da(l,s,"input")},s0=(s,l)=>{!s.placeholder&&l.inputPlaceholder&&(s.placeholder=l.inputPlaceholder)},Gr=(s,l,i)=>{if(i.inputLabel){const o=document.createElement("label"),d=K["input-label"];o.setAttribute("for",s.id),o.className=d,typeof i.customClass=="object"&&ze(o,i.customClass.inputLabel),o.innerText=i.inputLabel,l.insertAdjacentElement("beforebegin",o)}},Wx=s=>{const l=Ue();if(l)return Qs(l,K[s]||K.input)},So=(s,l)=>{["string","number"].includes(typeof l)?s.value=`${l}`:Ku(l)||qt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof l}"`)},lt={};lt.text=lt.email=lt.password=lt.number=lt.tel=lt.url=lt.search=lt.date=lt["datetime-local"]=lt.time=lt.week=lt.month=(s,l)=>{const i=s;return So(i,l.inputValue),Gr(i,i,l),s0(i,l),i.type=l.input,i};lt.file=(s,l)=>{const i=s;return Gr(i,i,l),s0(i,l),i};lt.range=(s,l)=>{const i=s,o=i.querySelector("input"),d=i.querySelector("output");return o&&(So(o,l.inputValue),o.type=l.input,Gr(o,s,l)),d&&So(d,l.inputValue),s};lt.select=(s,l)=>{const i=s;if(i.textContent="",l.inputPlaceholder){const o=document.createElement("option");ma(o,l.inputPlaceholder),o.value="",o.disabled=!0,o.selected=!0,i.appendChild(o)}return Gr(i,i,l),i};lt.radio=s=>{const l=s;return l.textContent="",s};lt.checkbox=(s,l)=>{const i=Ue();if(!i)throw new Error("Popup not found");const o=Io(i,"checkbox");if(!o)throw new Error("Checkbox input not found");o.value="1",o.checked=!!l.inputValue;const f=s.querySelector("span");if(f){const m=l.inputPlaceholder||l.inputLabel;m&&ma(f,m)}return o};lt.textarea=(s,l)=>{const i=s;So(i,l.inputValue),s0(i,l),Gr(i,i,l);const o=d=>parseInt(window.getComputedStyle(d).marginLeft)+parseInt(window.getComputedStyle(d).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const d=Ue();if(!d)return;const f=parseInt(window.getComputedStyle(d).width),m=()=>{if(!document.body.contains(i))return;const g=i.offsetWidth+o(i),b=Ue();b&&(g>f?b.style.width=`${g}px`:Tn(b,"width",l.width))};new MutationObserver(m).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const zj=(s,l)=>{const i=Fu();i&&(e0(i),da(i,l,"htmlContainer"),l.html?(a0(l.html,i),jt(i,"block")):l.text?(i.textContent=l.text,jt(i,"block")):Ot(i),_j(s,l))},Uj=(s,l)=>{const i=Fx();i&&(e0(i),Yr(i,!!l.footer,"block"),l.footer&&a0(l.footer,i),da(i,l,"footer"))},Hj=(s,l)=>{const i=Xe.innerParams.get(s),o=Dl();if(!o)return;if(i&&l.icon===i.icon){Hp(o,l),Up(o,l);return}if(!l.icon&&!l.iconHtml){Ot(o);return}if(l.icon&&Object.keys(No).indexOf(l.icon)===-1){_n(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${l.icon}"`),Ot(o);return}jt(o),Hp(o,l),Up(o,l),ze(o,l.showClass&&l.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",eg)},Up=(s,l)=>{for(const[i,o]of Object.entries(No))l.icon!==i&&Ca(s,o);ze(s,l.icon&&No[l.icon]),Pj(s,l),eg(),da(s,l,"icon")},eg=()=>{const s=Ue();if(!s)return;const l=window.getComputedStyle(s).getPropertyValue("background-color"),i=s.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<i.length;o++)i[o].style.backgroundColor=l},qj=s=>`
  ${s.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${s.animation?'<div class="swal2-success-fix"></div>':""}
  ${s.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,$j=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Hp=(s,l)=>{if(!l.icon&&!l.iconHtml)return;let i=s.innerHTML,o="";l.iconHtml?o=qp(l.iconHtml):l.icon==="success"?(o=qj(l),i=i.replace(/ style=".*?"/g,"")):l.icon==="error"?o=$j:l.icon&&(o=qp({question:"?",warning:"!",info:"i"}[l.icon])),i.trim()!==o.trim()&&ma(s,o)},Pj=(s,l)=>{if(l.iconColor){s.style.color=l.iconColor,s.style.borderColor=l.iconColor;for(const i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])zp(s,i,"background-color",l.iconColor);zp(s,".swal2-success-ring","border-color",l.iconColor)}},qp=s=>`<div class="${K["icon-content"]}">${s}</div>`,Vj=(s,l)=>{const i=Kx();if(i){if(!l.imageUrl){Ot(i);return}jt(i,""),i.setAttribute("src",l.imageUrl),i.setAttribute("alt",l.imageAlt||""),Tn(i,"width",l.imageWidth),Tn(i,"height",l.imageHeight),i.className=K.image,da(i,l,"image")}};let n0=!1,tg=0,ag=0,sg=0,ng=0;const Ij=s=>{s.addEventListener("mousedown",Co),document.body.addEventListener("mousemove",Eo),s.addEventListener("mouseup",Ao),s.addEventListener("touchstart",Co),document.body.addEventListener("touchmove",Eo),s.addEventListener("touchend",Ao)},Yj=s=>{s.removeEventListener("mousedown",Co),document.body.removeEventListener("mousemove",Eo),s.removeEventListener("mouseup",Ao),s.removeEventListener("touchstart",Co),document.body.removeEventListener("touchmove",Eo),s.removeEventListener("touchend",Ao)},Co=s=>{const l=Ue();if(!l)return;const i=Dl();if(s.target===l||i&&i.contains(s.target)){n0=!0;const o=lg(s);tg=o.clientX,ag=o.clientY,sg=parseInt(l.style.insetInlineStart)||0,ng=parseInt(l.style.insetBlockStart)||0,ze(l,"swal2-dragging")}},Eo=s=>{const l=Ue();if(l&&n0){let{clientX:i,clientY:o}=lg(s);const d=i-tg;l.style.insetInlineStart=`${sg+(xe.isRTL?-d:d)}px`,l.style.insetBlockStart=`${ng+(o-ag)}px`}},Ao=()=>{const s=Ue();n0=!1,Ca(s,"swal2-dragging")},lg=s=>{let l=0,i=0;return s.type.startsWith("mouse")?(l=s.clientX,i=s.clientY):s.type.startsWith("touch")&&(l=s.touches[0].clientX,i=s.touches[0].clientY),{clientX:l,clientY:i}},Gj=(s,l)=>{const i=$t(),o=Ue();if(!(!i||!o)){if(l.toast){Tn(i,"width",l.width),o.style.width="100%";const d=zl();d&&o.insertBefore(d,Dl())}else Tn(o,"width",l.width);Tn(o,"padding",l.padding),l.color&&(o.style.color=l.color),l.background&&(o.style.background=l.background),Ot($o()),Xj(o,l),l.draggable&&!l.toast?(ze(o,K.draggable),Ij(o)):(Ca(o,K.draggable),Yj(o))}},Xj=(s,l)=>{const i=l.showClass||{};s.className=`${K.popup} ${ta(s)?i.popup:""}`,l.toast?(ze([document.documentElement,document.body],K["toast-shown"]),ze(s,K.toast)):ze(s,K.modal),da(s,l,"popup"),typeof l.customClass=="string"&&ze(s,l.customClass),l.icon&&ze(s,K[`icon-${l.icon}`])},Kj=(s,l)=>{const i=Qu();if(!i)return;const{progressSteps:o,currentProgressStep:d}=l;if(!o||o.length===0||d===void 0){Ot(i);return}jt(i),i.textContent="",d>=o.length&&qt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((f,m)=>{const g=Fj(f);if(i.appendChild(g),m===d&&ze(g,K["active-progress-step"]),m!==o.length-1){const b=Qj(l);i.appendChild(b)}})},Fj=s=>{const l=document.createElement("li");return ze(l,K["progress-step"]),ma(l,s),l},Qj=s=>{const l=document.createElement("li");return ze(l,K["progress-step-line"]),s.progressStepsDistance&&Tn(l,"width",s.progressStepsDistance),l},Zj=(s,l)=>{const i=Xx();i&&(e0(i),Yr(i,!!(l.title||l.titleText),"block"),l.title&&a0(l.title,i),l.titleText&&(i.innerText=l.titleText),da(i,l,"title"))},rg=(s,l)=>{var i;Gj(s,l),Ej(s,l),Kj(s,l),Hj(s,l),Vj(s,l),Zj(s,l),Cj(s,l),zj(s,l),kj(s,l),Uj(s,l);const o=Ue();typeof l.didRender=="function"&&o&&l.didRender(o),(i=xe.eventEmitter)===null||i===void 0||i.emit("didRender",o)},Jj=()=>ta(Ue()),ig=()=>{var s;return(s=Xa())===null||s===void 0?void 0:s.click()},Wj=()=>{var s;return(s=Rn())===null||s===void 0?void 0:s.click()},ek=()=>{var s;return(s=Bl())===null||s===void 0?void 0:s.click()},Ul=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),og=s=>{if(s.keydownTarget&&s.keydownHandlerAdded&&s.keydownHandler){const l=s.keydownHandler;s.keydownTarget.removeEventListener("keydown",l,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1}},tk=(s,l,i)=>{if(og(s),!l.toast){const o=f=>sk(l,f,i);s.keydownHandler=o;const d=l.keydownListenerCapture?window:Ue();if(d){s.keydownTarget=d,s.keydownListenerCapture=l.keydownListenerCapture;const f=o;s.keydownTarget.addEventListener("keydown",f,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0}}},Tu=(s,l)=>{var i;const o=Ju();if(o.length){s=s+l,s===-2&&(s=o.length-1),s===o.length?s=0:s===-1&&(s=o.length-1),o[s].focus();return}(i=Ue())===null||i===void 0||i.focus()},cg=["ArrowRight","ArrowDown"],ak=["ArrowLeft","ArrowUp"],sk=(s,l,i)=>{s&&(l.isComposing||l.keyCode===229||(s.stopKeydownPropagation&&l.stopPropagation(),l.key==="Enter"?nk(l,s):l.key==="Tab"?lk(l):[...cg,...ak].includes(l.key)?rk(l.key):l.key==="Escape"&&ik(l,s,i)))},nk=(s,l)=>{if(!qo(l.allowEnterKey))return;const i=Ue();if(!i||!l.input)return;const o=Io(i,l.input);if(s.target&&o&&s.target instanceof HTMLElement&&s.target.outerHTML===o.outerHTML){if(["textarea","file"].includes(l.input))return;ig(),s.preventDefault()}},lk=s=>{const l=s.target,i=Ju();let o=-1;for(let d=0;d<i.length;d++)if(l===i[d]){o=d;break}s.shiftKey?Tu(o,-1):Tu(o,1),s.stopPropagation(),s.preventDefault()},rk=s=>{const l=Ir(),i=Xa(),o=Rn(),d=Bl();if(!l||!i||!o||!d)return;const f=[i,o,d];if(document.activeElement instanceof HTMLElement&&!f.includes(document.activeElement))return;const m=cg.includes(s)?"nextElementSibling":"previousElementSibling";let g=document.activeElement;if(g){for(let b=0;b<l.children.length;b++){if(g=g[m],!g)return;if(g instanceof HTMLButtonElement&&ta(g))break}g instanceof HTMLButtonElement&&g.focus()}},ik=(s,l,i)=>{s.preventDefault(),qo(l.allowEscapeKey)&&i(Ul.esc)};var Al={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ok=()=>{const s=$t();Array.from(document.body.children).forEach(i=>{i.contains(s)||(i.hasAttribute("aria-hidden")&&i.setAttribute("data-previous-aria-hidden",i.getAttribute("aria-hidden")||""),i.setAttribute("aria-hidden","true"))})},dg=()=>{Array.from(document.body.children).forEach(l=>{l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")||""),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},ug=typeof window<"u"&&!!window.GestureEvent,ck=()=>{if(ug&&!gs(document.body,K.iosfix)){const s=document.body.scrollTop;document.body.style.top=`${s*-1}px`,ze(document.body,K.iosfix),dk()}},dk=()=>{const s=$t();if(!s)return;let l;s.ontouchstart=i=>{l=uk(i)},s.ontouchmove=i=>{l&&(i.preventDefault(),i.stopPropagation())}},uk=s=>{const l=s.target,i=$t(),o=Fu();return!i||!o||fk(s)||mk(s)?!1:l===i||!Au(i)&&l instanceof HTMLElement&&!uj(l,o)&&l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!(Au(o)&&o.contains(l))},fk=s=>!!(s.touches&&s.touches.length&&s.touches[0].touchType==="stylus"),mk=s=>s.touches&&s.touches.length>1,hk=()=>{if(gs(document.body,K.iosfix)){const s=parseInt(document.body.style.top,10);Ca(document.body,K.iosfix),document.body.style.top="",document.body.scrollTop=s*-1}},pk=()=>{const s=document.createElement("div");s.className=K["scrollbar-measure"],document.body.appendChild(s);const l=s.getBoundingClientRect().width-s.clientWidth;return document.body.removeChild(s),l};let Sl=null;const xk=s=>{Sl===null&&(document.body.scrollHeight>window.innerHeight||s==="scroll")&&(Sl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Sl+pk()}px`)},gk=()=>{Sl!==null&&(document.body.style.paddingRight=`${Sl}px`,Sl=null)};function fg(s,l,i,o){Vo()?$p(s,o):(tj(i).then(()=>$p(s,o)),og(xe)),ug?(l.setAttribute("style","display:none !important"),l.removeAttribute("class"),l.innerHTML=""):l.remove(),Wu()&&(gk(),hk(),dg()),bk()}function bk(){Ca([document.documentElement,document.body],[K.shown,K["height-auto"],K["no-backdrop"],K["toast-shown"]])}function Zs(s){s=vk(s);const l=Al.swalPromiseResolve.get(this),i=yk(this);this.isAwaitingPromise?s.isDismissed||(Xr(this),l(s)):i&&l(s)}const yk=s=>{const l=Ue();if(!l)return!1;const i=Xe.innerParams.get(s);if(!i||gs(l,i.hideClass.popup))return!1;Ca(l,i.showClass.popup),ze(l,i.hideClass.popup);const o=$t();return Ca(o,i.showClass.backdrop),ze(o,i.hideClass.backdrop),wk(s,l,i),!0};function mg(s){const l=Al.swalPromiseReject.get(this);Xr(this),l&&l(s)}const Xr=s=>{s.isAwaitingPromise&&(delete s.isAwaitingPromise,Xe.innerParams.get(s)||s._destroy())},vk=s=>typeof s>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},s),wk=(s,l,i)=>{var o;const d=$t(),f=Jx(l);typeof i.willClose=="function"&&i.willClose(l),(o=xe.eventEmitter)===null||o===void 0||o.emit("willClose",l),f&&d?jk(s,l,d,!!i.returnFocus,i.didClose):d&&fg(s,d,!!i.returnFocus,i.didClose)},jk=(s,l,i,o,d)=>{xe.swalCloseEventFinishedCallback=fg.bind(null,s,i,o,d);const f=function(m){if(m.target===l){var g;(g=xe.swalCloseEventFinishedCallback)===null||g===void 0||g.call(xe),delete xe.swalCloseEventFinishedCallback,l.removeEventListener("animationend",f),l.removeEventListener("transitionend",f)}};l.addEventListener("animationend",f),l.addEventListener("transitionend",f)},$p=(s,l)=>{setTimeout(()=>{var i;typeof l=="function"&&l.bind(s.params)(),(i=xe.eventEmitter)===null||i===void 0||i.emit("didClose"),s._destroy&&s._destroy()})},Tl=s=>{let l=Ue();if(l||new At,l=Ue(),!l)return;const i=zl();Vo()?Ot(Dl()):kk(l,s),jt(i),l.setAttribute("data-loading","true"),l.setAttribute("aria-busy","true"),l.focus()},kk=(s,l)=>{const i=Ir(),o=zl();!i||!o||(!l&&ta(Xa())&&(l=Xa()),jt(i),l&&(Ot(l),o.setAttribute("data-button-to-replace",l.className),i.insertBefore(o,l)),ze([s,i],K.loading))},Nk=(s,l)=>{l.input==="select"||l.input==="radio"?Tk(s,l):["text","email","number","tel","textarea"].some(i=>i===l.input)&&(Xu(l.inputValue)||Ku(l.inputValue))&&(Tl(Xa()),Lk(s,l))},Sk=(s,l)=>{const i=s.getInput();if(!i)return null;switch(l.input){case"checkbox":return Ck(i);case"radio":return Ek(i);case"file":return Ak(i);default:return l.inputAutoTrim?i.value.trim():i.value}},Ck=s=>s.checked?1:0,Ek=s=>s.checked?s.value:null,Ak=s=>s.files&&s.files.length?s.getAttribute("multiple")!==null?s.files:s.files[0]:null,Tk=(s,l)=>{const i=Ue();if(!i)return;const o=d=>{l.input==="select"?Mk(i,To(d),l):l.input==="radio"&&_k(i,To(d),l)};Xu(l.inputOptions)||Ku(l.inputOptions)?(Tl(Xa()),Pr(l.inputOptions).then(d=>{s.hideLoading(),o(d)})):typeof l.inputOptions=="object"?o(l.inputOptions):_n(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof l.inputOptions}`)},Lk=(s,l)=>{const i=s.getInput();i&&(Ot(i),Pr(l.inputValue).then(o=>{i.value=l.input==="number"?`${parseFloat(o)||0}`:`${o}`,jt(i),i.focus(),s.hideLoading()}).catch(o=>{_n(`Error in inputValue promise: ${o}`),i.value="",jt(i),i.focus(),s.hideLoading()}))};function Mk(s,l,i){const o=Qs(s,K.select);if(!o)return;const d=(f,m,g)=>{const b=document.createElement("option");b.value=g,ma(b,m),b.selected=hg(g,i.inputValue),f.appendChild(b)};l.forEach(f=>{const m=f[0],g=f[1];if(Array.isArray(g)){const b=document.createElement("optgroup");b.label=m,b.disabled=!1,o.appendChild(b),g.forEach(x=>d(b,x[1],x[0]))}else d(o,g,m)}),o.focus()}function _k(s,l,i){const o=Qs(s,K.radio);if(!o)return;l.forEach(f=>{const m=f[0],g=f[1],b=document.createElement("input"),x=document.createElement("label");b.type="radio",b.name=K.radio,b.value=m,hg(m,i.inputValue)&&(b.checked=!0);const v=document.createElement("span");ma(v,g),v.className=K.label,x.appendChild(b),x.appendChild(v),o.appendChild(x)});const d=o.querySelectorAll("input");d.length&&d[0].focus()}const To=s=>{const l=[];return s instanceof Map?s.forEach((i,o)=>{let d=i;typeof d=="object"&&(d=To(d)),l.push([o,d])}):Object.keys(s).forEach(i=>{let o=s[i];typeof o=="object"&&(o=To(o)),l.push([i,o])}),l},hg=(s,l)=>!!l&&l!==null&&l!==void 0&&l.toString()===s.toString(),Rk=s=>{const l=Xe.innerParams.get(s);s.disableButtons(),l.input?pg(s,"confirm"):r0(s,!0)},Ok=s=>{const l=Xe.innerParams.get(s);s.disableButtons(),l.returnInputValueOnDeny?pg(s,"deny"):l0(s,!1)},Dk=(s,l)=>{s.disableButtons(),l(Ul.cancel)},pg=(s,l)=>{const i=Xe.innerParams.get(s);if(!i.input){_n(`The "input" parameter is needed to be set when using returnInputValueOn${Gu(l)}`);return}const o=s.getInput(),d=Sk(s,i);i.inputValidator?Bk(s,d,l):o&&!o.checkValidity()?(s.enableButtons(),s.showValidationMessage(i.validationMessage||o.validationMessage)):l==="deny"?l0(s,d):r0(s,d)},Bk=(s,l,i)=>{const o=Xe.innerParams.get(s);s.disableInput(),Promise.resolve().then(()=>Pr(o.inputValidator(l,o.validationMessage))).then(f=>{s.enableButtons(),s.enableInput(),f?s.showValidationMessage(f):i==="deny"?l0(s,l):r0(s,l)})},l0=(s,l)=>{const i=Xe.innerParams.get(s);i.showLoaderOnDeny&&Tl(Rn()),i.preDeny?(s.isAwaitingPromise=!0,Promise.resolve().then(()=>Pr(i.preDeny(l,i.validationMessage))).then(d=>{d===!1?(s.hideLoading(),Xr(s)):s.close({isDenied:!0,value:typeof d>"u"?l:d})}).catch(d=>xg(s,d))):s.close({isDenied:!0,value:l})},Pp=(s,l)=>{s.close({isConfirmed:!0,value:l})},xg=(s,l)=>{s.rejectPromise(l)},r0=(s,l)=>{const i=Xe.innerParams.get(s);i.showLoaderOnConfirm&&Tl(),i.preConfirm?(s.resetValidationMessage(),s.isAwaitingPromise=!0,Promise.resolve().then(()=>Pr(i.preConfirm(l,i.validationMessage))).then(d=>{ta($o())||d===!1?(s.hideLoading(),Xr(s)):Pp(s,typeof d>"u"?l:d)}).catch(d=>xg(s,d))):Pp(s,l)};function Lo(){const s=Xe.innerParams.get(this);if(!s)return;const l=Xe.domCache.get(this);Ot(l.loader),Vo()?s.icon&&jt(Dl()):zk(l),Ca([l.popup,l.actions],K.loading),l.popup.removeAttribute("aria-busy"),l.popup.removeAttribute("data-loading"),l.confirmButton.disabled=!1,l.denyButton.disabled=!1,l.cancelButton.disabled=!1}const zk=s=>{const l=s.loader.getAttribute("data-button-to-replace"),i=l?s.popup.getElementsByClassName(l):[];i.length?jt(i[0],"inline-block"):dj()&&Ot(s.actions)};function gg(){const s=Xe.innerParams.get(this),l=Xe.domCache.get(this);return l?Io(l.popup,s.input):null}function bg(s,l,i){const o=Xe.domCache.get(s);l.forEach(d=>{o[d].disabled=i})}function yg(s,l){const i=Ue();if(!(!i||!s))if(s.type==="radio"){const o=i.querySelectorAll(`[name="${K.radio}"]`);for(let d=0;d<o.length;d++)o[d].disabled=l}else s.disabled=l}function vg(){bg(this,["confirmButton","denyButton","cancelButton"],!1)}function wg(){bg(this,["confirmButton","denyButton","cancelButton"],!0)}function jg(){yg(this.getInput(),!1)}function kg(){yg(this.getInput(),!0)}function Ng(s){const l=Xe.domCache.get(this),i=Xe.innerParams.get(this);ma(l.validationMessage,s),l.validationMessage.className=K["validation-message"],i.customClass&&i.customClass.validationMessage&&ze(l.validationMessage,i.customClass.validationMessage),jt(l.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",K["validation-message"]),Qx(o),ze(o,K.inputerror))}function Sg(){const s=Xe.domCache.get(this);s.validationMessage&&Ot(s.validationMessage);const l=this.getInput();l&&(l.removeAttribute("aria-invalid"),l.removeAttribute("aria-describedby"),Ca(l,K.inputerror))}const Js={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Uk=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Hk={allowEnterKey:void 0},qk=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Cg=s=>Object.prototype.hasOwnProperty.call(Js,s),Eg=s=>Uk.indexOf(s)!==-1,Ag=s=>Hk[s],$k=s=>{Cg(s)||qt(`Unknown parameter "${s}"`)},Pk=s=>{qk.includes(s)&&qt(`The parameter "${s}" is incompatible with toasts`)},Vk=s=>{const l=Ag(s);l&&Gx(s,l)},Tg=s=>{s.backdrop===!1&&s.allowOutsideClick&&qt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),s.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(s.theme)&&qt(`Invalid theme "${s.theme}"`);for(const l in s)$k(l),s.toast&&Pk(l),Vk(l)};function Lg(s){const l=$t(),i=Ue(),o=Xe.innerParams.get(this);if(!i||gs(i,o.hideClass.popup)){qt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const d=Ik(s),f=Object.assign({},o,d);Tg(f),l&&(l.dataset.swal2Theme=f.theme),rg(this,f),Xe.innerParams.set(this,f),Object.defineProperties(this,{params:{value:Object.assign({},this.params,s),writable:!1,enumerable:!0}})}const Ik=s=>{const l={};return Object.keys(s).forEach(i=>{if(Eg(i)){const o=s;l[i]=o[i]}else qt(`Invalid parameter to update: ${i}`)}),l};function Mg(){var s;const l=Xe.domCache.get(this),i=Xe.innerParams.get(this);if(!i){_g(this);return}l.popup&&xe.swalCloseEventFinishedCallback&&(xe.swalCloseEventFinishedCallback(),delete xe.swalCloseEventFinishedCallback),typeof i.didDestroy=="function"&&i.didDestroy(),(s=xe.eventEmitter)===null||s===void 0||s.emit("didDestroy"),Yk(this)}const Yk=s=>{_g(s),delete s.params,delete xe.keydownHandler,delete xe.keydownTarget,delete xe.currentInstance},_g=s=>{s.isAwaitingPromise?(gu(Xe,s),s.isAwaitingPromise=!0):(gu(Al,s),gu(Xe,s),delete s.isAwaitingPromise,delete s.disableButtons,delete s.enableButtons,delete s.getInput,delete s.disableInput,delete s.enableInput,delete s.hideLoading,delete s.disableLoading,delete s.showValidationMessage,delete s.resetValidationMessage,delete s.close,delete s.closePopup,delete s.closeModal,delete s.closeToast,delete s.rejectPromise,delete s.update,delete s._destroy)},gu=(s,l)=>{for(const i in s)s[i].delete(l)};var Gk=Object.freeze({__proto__:null,_destroy:Mg,close:Zs,closeModal:Zs,closePopup:Zs,closeToast:Zs,disableButtons:wg,disableInput:kg,disableLoading:Lo,enableButtons:vg,enableInput:jg,getInput:gg,handleAwaitingPromise:Xr,hideLoading:Lo,rejectPromise:mg,resetValidationMessage:Sg,showValidationMessage:Ng,update:Lg});const Xk=(s,l,i)=>{s.toast?Kk(s,l,i):(Qk(l),Zk(l),Jk(s,l,i))},Kk=(s,l,i)=>{l.popup.onclick=()=>{s&&(Fk(s)||s.timer||s.input)||i(Ul.close)}},Fk=s=>!!(s.showConfirmButton||s.showDenyButton||s.showCancelButton||s.showCloseButton);let Mo=!1;const Qk=s=>{s.popup.onmousedown=()=>{s.container.onmouseup=function(l){s.container.onmouseup=()=>{},l.target===s.container&&(Mo=!0)}}},Zk=s=>{s.container.onmousedown=l=>{l.target===s.container&&l.preventDefault(),s.popup.onmouseup=function(i){s.popup.onmouseup=()=>{},(i.target===s.popup||i.target instanceof HTMLElement&&s.popup.contains(i.target))&&(Mo=!0)}}},Jk=(s,l,i)=>{l.container.onclick=o=>{if(Mo){Mo=!1;return}o.target===l.container&&qo(s.allowOutsideClick)&&i(Ul.backdrop)}},Wk=s=>typeof s=="object"&&s.jquery,Vp=s=>s instanceof Element||Wk(s),eN=s=>{const l={};return typeof s[0]=="object"&&!Vp(s[0])?Object.assign(l,s[0]):["title","html","icon"].forEach((i,o)=>{const d=s[o];typeof d=="string"||Vp(d)?l[i]=d:d!==void 0&&_n(`Unexpected type of ${i}! Expected "string" or "Element", got ${typeof d}`)}),l};function tN(...s){return new this(...s)}function aN(s){class l extends this{_main(o,d){return super._main(o,Object.assign({},s,d))}}return l}const sN=()=>xe.timeout&&xe.timeout.getTimerLeft(),Rg=()=>{if(xe.timeout)return fj(),xe.timeout.stop()},Og=()=>{if(xe.timeout){const s=xe.timeout.start();return t0(s),s}},nN=()=>{const s=xe.timeout;return s&&(s.running?Rg():Og())},lN=s=>{if(xe.timeout){const l=xe.timeout.increase(s);return t0(l,!0),l}},rN=()=>!!(xe.timeout&&xe.timeout.isRunning());let Ip=!1;const Lu={};function iN(s="data-swal-template"){Lu[s]=this,Ip||(document.body.addEventListener("click",oN),Ip=!0)}const oN=s=>{for(let l=s.target;l&&l!==document;l=l.parentNode)for(const i in Lu){const o=l.getAttribute&&l.getAttribute(i);if(o){Lu[i].fire({template:o});return}}};class cN{constructor(){this.events={}}_getHandlersByEventName(l){return typeof this.events[l]>"u"&&(this.events[l]=[]),this.events[l]}on(l,i){const o=this._getHandlersByEventName(l);o.includes(i)||o.push(i)}once(l,i){const o=(...d)=>{this.removeListener(l,o),i.apply(this,d)};this.on(l,o)}emit(l,...i){this._getHandlersByEventName(l).forEach(o=>{try{o.apply(this,i)}catch(d){console.error(d)}})}removeListener(l,i){const o=this._getHandlersByEventName(l),d=o.indexOf(i);d>-1&&o.splice(d,1)}removeAllListeners(l){this.events[l]!==void 0&&(this.events[l].length=0)}reset(){this.events={}}}xe.eventEmitter=new cN;const dN=(s,l)=>{xe.eventEmitter&&xe.eventEmitter.on(s,l)},uN=(s,l)=>{xe.eventEmitter&&xe.eventEmitter.once(s,l)},fN=(s,l)=>{if(xe.eventEmitter){if(!s){xe.eventEmitter.reset();return}l?xe.eventEmitter.removeListener(s,l):xe.eventEmitter.removeAllListeners(s)}};var mN=Object.freeze({__proto__:null,argsToParams:eN,bindClickHandler:iN,clickCancel:ek,clickConfirm:ig,clickDeny:Wj,enableLoading:Tl,fire:tN,getActions:Ir,getCancelButton:Bl,getCloseButton:Zu,getConfirmButton:Xa,getContainer:$t,getDenyButton:Rn,getFocusableElements:Ju,getFooter:Fx,getHtmlContainer:Fu,getIcon:Dl,getIconContent:lj,getImage:Kx,getInputLabel:rj,getLoader:zl,getPopup:Ue,getProgressSteps:Qu,getTimerLeft:sN,getTimerProgressBar:Po,getTitle:Xx,getValidationMessage:$o,increaseTimer:lN,isDeprecatedParameter:Ag,isLoading:oj,isTimerRunning:rN,isUpdatableParameter:Eg,isValidParameter:Cg,isVisible:Jj,mixin:aN,off:fN,on:dN,once:uN,resumeTimer:Og,showLoading:Tl,stopTimer:Rg,toggleTimer:nN});class hN{constructor(l,i){this.callback=l,this.remaining=i,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(l){const i=this.running;return i&&this.stop(),this.remaining+=l,i&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Dg=["swal-title","swal-html","swal-footer"],pN=s=>{const l=typeof s.template=="string"?document.querySelector(s.template):s.template;if(!l)return{};const i=l.content;return kN(i),Object.assign(xN(i),gN(i),bN(i),yN(i),vN(i),wN(i),jN(i,Dg))},xN=s=>{const l={};return Array.from(s.querySelectorAll("swal-param")).forEach(o=>{Mn(o,["name","value"]);const d=o.getAttribute("name"),f=o.getAttribute("value");!d||!f||(d in Js&&typeof Js[d]=="boolean"?l[d]=f!=="false":d in Js&&typeof Js[d]=="object"?l[d]=JSON.parse(f):l[d]=f)}),l},gN=s=>{const l={};return Array.from(s.querySelectorAll("swal-function-param")).forEach(o=>{const d=o.getAttribute("name"),f=o.getAttribute("value");!d||!f||(l[d]=new Function(`return ${f}`)())}),l},bN=s=>{const l={};return Array.from(s.querySelectorAll("swal-button")).forEach(o=>{Mn(o,["type","color","aria-label"]);const d=o.getAttribute("type");if(!(!d||!["confirm","cancel","deny"].includes(d))){if(l[`${d}ButtonText`]=o.innerHTML,l[`show${Gu(d)}Button`]=!0,o.hasAttribute("color")){const f=o.getAttribute("color");f!==null&&(l[`${d}ButtonColor`]=f)}if(o.hasAttribute("aria-label")){const f=o.getAttribute("aria-label");f!==null&&(l[`${d}ButtonAriaLabel`]=f)}}}),l},yN=s=>{const l={},i=s.querySelector("swal-image");return i&&(Mn(i,["src","width","height","alt"]),i.hasAttribute("src")&&(l.imageUrl=i.getAttribute("src")||void 0),i.hasAttribute("width")&&(l.imageWidth=i.getAttribute("width")||void 0),i.hasAttribute("height")&&(l.imageHeight=i.getAttribute("height")||void 0),i.hasAttribute("alt")&&(l.imageAlt=i.getAttribute("alt")||void 0)),l},vN=s=>{const l={},i=s.querySelector("swal-icon");return i&&(Mn(i,["type","color"]),i.hasAttribute("type")&&(l.icon=i.getAttribute("type")),i.hasAttribute("color")&&(l.iconColor=i.getAttribute("color")),l.iconHtml=i.innerHTML),l},wN=s=>{const l={},i=s.querySelector("swal-input");i&&(Mn(i,["type","label","placeholder","value"]),l.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(l.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(l.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(l.inputValue=i.getAttribute("value")));const o=Array.from(s.querySelectorAll("swal-input-option"));return o.length&&(l.inputOptions={},o.forEach(d=>{Mn(d,["value"]);const f=d.getAttribute("value");if(!f)return;const m=d.innerHTML;l.inputOptions[f]=m})),l},jN=(s,l)=>{const i={};for(const o in l){const d=l[o],f=s.querySelector(d);f&&(Mn(f,[]),i[d.replace(/^swal-/,"")]=f.innerHTML.trim())}return i},kN=s=>{const l=Dg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(s.children).forEach(i=>{const o=i.tagName.toLowerCase();l.includes(o)||qt(`Unrecognized element <${o}>`)})},Mn=(s,l)=>{Array.from(s.attributes).forEach(i=>{l.indexOf(i.name)===-1&&qt([`Unrecognized attribute "${i.name}" on <${s.tagName.toLowerCase()}>.`,`${l.length?`Allowed attributes are: ${l.join(", ")}`:"To set the value, use HTML within the element."}`])})},Bg=10,NN=s=>{var l,i;const o=$t(),d=Ue();if(!o||!d)return;typeof s.willOpen=="function"&&s.willOpen(d),(l=xe.eventEmitter)===null||l===void 0||l.emit("willOpen",d);const m=window.getComputedStyle(document.body).overflowY;if(EN(o,d,s),setTimeout(()=>{SN(o,d)},Bg),Wu()&&(CN(o,s.scrollbarPadding!==void 0?s.scrollbarPadding:!1,m),ok()),!Vo()&&!xe.previousActiveElement&&(xe.previousActiveElement=document.activeElement),typeof s.didOpen=="function"){const g=s.didOpen;setTimeout(()=>g(d))}(i=xe.eventEmitter)===null||i===void 0||i.emit("didOpen",d)},_o=s=>{const l=Ue();if(!l||s.target!==l)return;const i=$t();i&&(l.removeEventListener("animationend",_o),l.removeEventListener("transitionend",_o),i.style.overflowY="auto",Ca(i,K["no-transition"]))},SN=(s,l)=>{Jx(l)?(s.style.overflowY="hidden",l.addEventListener("animationend",_o),l.addEventListener("transitionend",_o)):s.style.overflowY="auto"},CN=(s,l,i)=>{ck(),l&&i!=="hidden"&&xk(i),setTimeout(()=>{s.scrollTop=0})},EN=(s,l,i)=>{var o;(o=i.showClass)!==null&&o!==void 0&&o.backdrop&&ze(s,i.showClass.backdrop),i.animation?(l.style.setProperty("opacity","0","important"),jt(l,"grid"),setTimeout(()=>{var d;(d=i.showClass)!==null&&d!==void 0&&d.popup&&ze(l,i.showClass.popup),l.style.removeProperty("opacity")},Bg)):jt(l,"grid"),ze([document.documentElement,document.body],K.shown),i.heightAuto&&i.backdrop&&!i.toast&&ze([document.documentElement,document.body],K["height-auto"])};var Yp={email:(s,l)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(s)?Promise.resolve():Promise.resolve(l||"Invalid email address"),url:(s,l)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(s)?Promise.resolve():Promise.resolve(l||"Invalid URL")};function AN(s){s.inputValidator||(s.input==="email"&&(s.inputValidator=Yp.email),s.input==="url"&&(s.inputValidator=Yp.url))}function TN(s){(!s.target||typeof s.target=="string"&&!document.querySelector(s.target)||typeof s.target!="string"&&!s.target.appendChild)&&(qt('Target parameter is not valid, defaulting to "body"'),s.target="body")}function LN(s){AN(s),s.showLoaderOnConfirm&&!s.preConfirm&&qt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),TN(s),typeof s.title=="string"&&(s.title=s.title.split(`
`).join("<br />")),vj(s)}let Ga;var fo=new WeakMap;class ot{constructor(...l){if(Z1(this,fo,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Ga=this;const i=Object.freeze(this.constructor.argsToParams(l));this.params=i,this.isAwaitingPromise=!1,J1(fo,this,this._main(Ga.params))}_main(l,i={}){if(Tg(Object.assign({},i,l)),xe.currentInstance){const f=Al.swalPromiseResolve.get(xe.currentInstance),{isAwaitingPromise:m}=xe.currentInstance;xe.currentInstance._destroy(),m||f({isDismissed:!0}),Wu()&&dg()}xe.currentInstance=Ga;const o=_N(l,i);LN(o),Object.freeze(o),xe.timeout&&(xe.timeout.stop(),delete xe.timeout),clearTimeout(xe.restoreFocusTimeout);const d=RN(Ga);return rg(Ga,o),Xe.innerParams.set(Ga,o),MN(Ga,d,o)}then(l){return Dp(fo,this).then(l)}finally(l){return Dp(fo,this).finally(l)}}const MN=(s,l,i)=>new Promise((o,d)=>{const f=m=>{s.close({isDismissed:!0,dismiss:m,isConfirmed:!1,isDenied:!1})};Al.swalPromiseResolve.set(s,o),Al.swalPromiseReject.set(s,d),l.confirmButton.onclick=()=>{Rk(s)},l.denyButton.onclick=()=>{Ok(s)},l.cancelButton.onclick=()=>{Dk(s,f)},l.closeButton.onclick=()=>{f(Ul.close)},Xk(i,l,f),tk(xe,i,f),Nk(s,i),NN(i),ON(xe,i,f),DN(l,i),setTimeout(()=>{l.container.scrollTop=0})}),_N=(s,l)=>{const i=pN(s),o=Object.assign({},Js,l,i,s);return o.showClass=Object.assign({},Js.showClass,o.showClass),o.hideClass=Object.assign({},Js.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},RN=s=>{const l={popup:Ue(),container:$t(),actions:Ir(),confirmButton:Xa(),denyButton:Rn(),cancelButton:Bl(),loader:zl(),closeButton:Zu(),validationMessage:$o(),progressSteps:Qu()};return Xe.domCache.set(s,l),l},ON=(s,l,i)=>{const o=Po();Ot(o),l.timer&&(s.timeout=new hN(()=>{i("timer"),delete s.timeout},l.timer),l.timerProgressBar&&o&&(jt(o),da(o,l,"timerProgressBar"),setTimeout(()=>{s.timeout&&s.timeout.running&&t0(l.timer)})))},DN=(s,l)=>{if(!l.toast){if(!qo(l.allowEnterKey)){Gx("allowEnterKey"),UN();return}BN(s)||zN(s,l)||Tu(-1,1)}},BN=s=>{const l=Array.from(s.popup.querySelectorAll("[autofocus]"));for(const i of l)if(i instanceof HTMLElement&&ta(i))return i.focus(),!0;return!1},zN=(s,l)=>l.focusDeny&&ta(s.denyButton)?(s.denyButton.focus(),!0):l.focusCancel&&ta(s.cancelButton)?(s.cancelButton.focus(),!0):l.focusConfirm&&ta(s.confirmButton)?(s.confirmButton.focus(),!0):!1,UN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};ot.prototype.disableButtons=wg;ot.prototype.enableButtons=vg;ot.prototype.getInput=gg;ot.prototype.disableInput=kg;ot.prototype.enableInput=jg;ot.prototype.hideLoading=Lo;ot.prototype.disableLoading=Lo;ot.prototype.showValidationMessage=Ng;ot.prototype.resetValidationMessage=Sg;ot.prototype.close=Zs;ot.prototype.closePopup=Zs;ot.prototype.closeModal=Zs;ot.prototype.closeToast=Zs;ot.prototype.rejectPromise=mg;ot.prototype.update=Lg;ot.prototype._destroy=Mg;Object.assign(ot,mN);Object.keys(Gk).forEach(s=>{ot[s]=function(...l){if(Ga&&Ga[s])return Ga[s](...l)}});ot.DismissReason=Ul;ot.version="11.26.17";const At=ot;At.default=At;typeof document<"u"&&(function(s,l){var i=s.createElement("style");if(s.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=l);else try{i.innerHTML=l}catch{i.innerText=l}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Dr=(s,l,i={})=>{const o=document.documentElement.classList.contains("dark");return At.fire({title:s,text:l,icon:i.icon||"warning",showCancelButton:!0,confirmButtonColor:i.confirmButtonColor||"#dc2626",cancelButtonColor:i.cancelButtonColor||"#64748b",confirmButtonText:i.confirmButtonText||"Yes, proceed",cancelButtonText:i.cancelButtonText||"Cancel",background:o?"#0f172a":"#ffffff",color:o?"#e2e8f0":"#0f172a",allowOutsideClick:()=>!At.isLoading()})},HN=({isOpen:s,onClose:l,editingRole:i,permissions:o,onTogglePermission:d,onCommit:f})=>a.jsx(Qe,{isOpen:s,onClose:l,title:`Capabilities: ${i?.name}`,maxWidth:"max-w-2xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 dark:bg-slate-800 p-3 rounded-xl border border-gray-100 dark:border-slate-700",children:"Configure specific functional permissions. These mapping synchronize directly with the backend ACL."}),["network","billing","crm","system"].map(m=>a.jsxs("div",{children:[a.jsxs("h4",{className:"text-[10px] font-black uppercase text-gray-400 dark:text-slate-500 mb-3 tracking-widest pl-1",children:[m," Module"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.filter(g=>g.group===m).map(g=>a.jsxs("label",{className:`flex items-center justify-between p-3 rounded-xl border transition-all cursor-pointer ${i?.permissions.includes(g.id)?"bg-blue-50 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30":"bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-800"}`,children:[a.jsxs("div",{className:"pr-2",children:[a.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-gray-100",children:g.name}),a.jsx("p",{className:"text-[9px] text-gray-500 leading-tight mt-0.5",children:g.description})]}),a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-gray-300 text-blue-600 focus:ring-blue-500",checked:i?.permissions.includes(g.id)||!1,onChange:()=>d(i.id,g.id)})]},g.id))})]},m)),a.jsx("button",{onClick:f,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-bold py-3 rounded-xl mt-4",children:"Commit Matrix Updates"})]})}),qN=({isOpen:s,setRoles:l,setEditingRole:i,setIsPermMatrixOpen:o,setIsRoleModalOpen:d})=>{const[f,m]=ne.useState(""),g=async b=>{b.preventDefault();const x=f.trim();if(!x)return;const v={name:x,permissions:[]};try{const h=await Cu.create(v),S=h?.data??h,E={id:S?.id?.toString?.()??S?.id??`${Date.now()}`,name:S?.name??v.name,permissions:S?.permissions??[]};l(N=>{const k=[...N,E];return localStorage.setItem(ve.ROLES,JSON.stringify(k)),k}),d(!1),m(""),i(E),o(!0),oe(`Role "${E.name}" initialized. Please define its permissions.`)}catch(h){console.error("Error creating role:",h),oe.error("Error creating role. Please try again.")}};return a.jsx(Qe,{isOpen:s,onClose:()=>{m(""),d(!1)},title:"Define New System Role",children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-gray-500 bg-blue-50 dark:bg-blue-900/10 p-3 rounded-xl border border-blue-100 dark:border-blue-900/20",children:"Define a semantic role name. You can configure precise permissions in the next step."}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Role Identifier"}),a.jsx("input",{required:!0,autoFocus:!0,type:"text",value:f,onChange:b=>m(b.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. Billing Manager"})]}),a.jsx("button",{type:"submit",className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-bold py-3 rounded-xl mt-4 hover:opacity-90 transition-all",children:"Initialize Role Profile"})]})})},Gp=[{id:"p1",name:"manage-sites",description:"Create, update and delete network sites",group:"network"},{id:"p2",name:"view-network-stats",description:"View network health and traffic statistics",group:"network"},{id:"p3",name:"manage-radius",description:"Sync customers and manage RADIUS access",group:"network"},{id:"p4",name:"manage-packages",description:"Create and update service packages and pricing",group:"billing"},{id:"p5",name:"manage-invoices",description:"Create, update and send invoices",group:"billing"},{id:"p6",name:"manage-payments",description:"Record and resolve customer payments",group:"billing"},{id:"p7",name:"view-transactions",description:"View transaction ledger entries",group:"billing"},{id:"p8",name:"manage-expenses",description:"Track and approve expenses",group:"billing"},{id:"p9",name:"view-reports",description:"Access financial and operational reports",group:"billing"},{id:"p10",name:"manage-customers",description:"Register and manage customer profiles",group:"crm"},{id:"p11",name:"view-customer-details",description:"View customer details and usage history",group:"crm"},{id:"p12",name:"manage-leads",description:"Create and update sales leads",group:"crm"},{id:"p13",name:"support-tickets",description:"Respond to and close support tickets",group:"crm"},{id:"p14",name:"manage-admins",description:"Create and manage administrator accounts",group:"system"},{id:"p15",name:"manage-roles",description:"Define roles and permissions",group:"system"},{id:"p16",name:"system-settings",description:"Change core system configurations",group:"system"},{id:"p17",name:"manage-organization",description:"Update organization profile and preferences",group:"system"},{id:"p18",name:"view-dashboard",description:"Access system overview dashboards",group:"system"}],$N=({canManageAdmins:s,canManageRoles:l})=>{const[i,o]=y.useState(""),[d,f]=y.useState(!1),[m,g]=y.useState(null),[b,x]=y.useState(()=>JSON.parse(localStorage.getItem(ve.ADMINS)||"[]")),[v,h]=y.useState(()=>JSON.parse(localStorage.getItem(ve.ROLES)||"[]")),[S,E]=y.useState("admins"),[N,k]=y.useState(!1),[j,T]=y.useState(null),[C,z]=y.useState(!1);console.log(v),y.useEffect(()=>{S==="admins"&&!s&&l&&E("roles"),S==="roles"&&!l&&s&&E("admins")},[S,s,l,E]),y.useEffect(()=>{O(),X()},[]);const O=async()=>{try{const se=((await Or.getAll()).data||[]).map(R=>({id:R.id.toString(),name:R.name,email:R.email,phone:R.phone||"",role_id:R.role_id.toString(),status:R.status,last_login:R.last_login||"",password:"",isSuperAdmin:R.is_super_admin||!1}));x(se),localStorage.setItem(ve.ADMINS,JSON.stringify(se))}catch(H){console.error("Error loading administrators:",H),oe.error("Error loading administrators. Please try again later.")}},X=async()=>{try{const se=((await Cu.getAll()).data||[]).map(R=>({id:R.id.toString(),name:R.name,permissions:R.permissions||[]}));h(se),localStorage.setItem(ve.ROLES,JSON.stringify(se))}catch(H){console.error("Error fetching roles:",H)}},I=b.filter(H=>H.name.toLowerCase().includes(i.toLowerCase())||H.email.toLowerCase().includes(i.toLowerCase())||H.phone&&H.phone.includes(i)),Z=()=>{g({}),f(!0)},ue=H=>{g(H),f(!0)},ie=H=>{T(H),k(!0)},U=(H,me)=>{if(!j||j.id!==H)return;const R=j.permissions.includes(me)?j.permissions.filter(ee=>ee!==me):[...j.permissions,me];T({...j,permissions:R})},ce=async()=>{if(j)try{const H=await Cu.update(j.id,{name:j.name,permissions:j.permissions}),me=H?.role??H?.data??H,se={id:me?.id?.toString?.()??j.id,name:me?.name??j.name,permissions:me?.permissions??j.permissions};h(R=>{const ee=R.map(J=>J.id===se.id?se:J);return localStorage.setItem(ve.ROLES,JSON.stringify(ee)),ee}),T(se),k(!1),oe.success("Permissions updated successfully.")}catch(H){console.error("Error updating role permissions:",H),oe.error("Error updating permissions. Please try again.")}},te=async H=>{if((await Dr(`Delete administrator "${H.name}"?`,"This action cannot be undone.",{confirmButtonText:"Delete"})).isConfirmed)try{await Or.delete(H.id),oe.success("Administrator deleted successfully."),O()}catch(se){console.error("Error deleting administrator:",se),oe.error("Error deleting administrator. Please try again later.")}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-slate-800 rounded-xl w-fit",children:[s&&a.jsx("button",{type:"button",onClick:()=>E("admins"),className:`px-6 py-2 text-sm font-bold rounded-lg transition-all ${S==="admins"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Administrators"}),l&&a.jsx("button",{type:"button",onClick:()=>E("roles"),className:`px-6 py-2 text-sm font-bold rounded-lg transition-all ${S==="roles"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Roles & Permissions"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[S==="admins"&&s?a.jsxs("button",{type:"button",onClick:Z,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Administrator"]}):null,S==="roles"&&l?a.jsxs("button",{type:"button",onClick:()=>z(!0),className:"bg-slate-800 dark:bg-slate-100 dark:text-slate-900 text-white px-5 py-2 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Define New Role"]}):null]})]}),!s&&!l?a.jsx(Le,{title:"Access Restricted",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none",children:a.jsx("p",{className:"text-sm text-gray-500",children:"You do not have permission to manage administrators or roles."})}):S==="admins"?a.jsxs(Le,{title:"Management Access",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by name, email or phone...",value:i,onChange:H=>o(H.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsxs("p",{className:"text-xs text-gray-400 italic",children:["Total Administrators: ",b.length]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"pb-3 px-2",children:"Administrator"}),a.jsx("th",{className:"pb-3 px-2",children:"Contact"}),a.jsx("th",{className:"pb-3 px-2",children:"Access Role"}),a.jsx("th",{className:"pb-3 px-2",children:"Status"}),a.jsx("th",{className:"pb-3 px-2",children:"Last Activity"}),a.jsx("th",{className:"pb-3 px-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:I.map(H=>{const me=v.find(se=>se.id===H.role_id);return a.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/20 transition-all",children:[a.jsx("td",{className:"py-4 px-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center font-bold text-base",children:H.name?.charAt(0)||"?"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:H.name}),a.jsx("p",{className:"text-xs text-gray-500",children:H.email})]})]})}),a.jsx("td",{className:"py-4 px-2",children:a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:H.phone||"N/A"})}),a.jsx("td",{className:"py-4 px-2",children:a.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] uppercase font-black tracking-tighter ${me?.name==="Super Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/40":"bg-blue-100 text-blue-700 dark:bg-blue-900/40"}`,children:me?.name})}),a.jsx("td",{className:"py-4 px-2",children:a.jsx(rt,{variant:H.status,children:H.status})}),a.jsx("td",{className:"py-4 px-2 text-gray-500 text-xs",children:new Date(H.last_login).toLocaleString()}),a.jsx("td",{className:"py-4 px-2 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2 transition-opacity",children:[a.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),ue(H)},className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-blue-600 rounded-lg transition-all",title:"Edit Admin",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),!H.isSuperAdmin&&a.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),te(H)},className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 rounded-lg transition-all",title:"Delete Admin",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},H.id)})})]})})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:[v.map(H=>a.jsxs(Le,{title:H.name,className:"relative overflow-hidden group border-none shadow-lg hover:shadow-xl transition-all",children:[a.jsxs("div",{className:`absolute top-0 right-0 p-1.5 rounded-bl-xl text-[10px] font-bold text-white ${H.name==="Super Admin"?"bg-purple-600":"bg-blue-600"}`,children:[H.permissions.length," PERMS"]}),a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("div",{className:"flex flex-wrap gap-1.5 h-20 overflow-hidden relative",children:[H.permissions.map(me=>a.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 px-2 py-1 rounded-md font-medium",children:Gp.find(se=>se.id===me)?.name},me)),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-white dark:from-slate-900 to-transparent"})]}),a.jsx("button",{type:"button",onClick:()=>ie(H),className:"w-full text-sm font-bold bg-gray-50 dark:bg-slate-800 hover:bg-blue-600 dark:hover:bg-blue-600 hover:text-white dark:text-gray-300 py-2.5 rounded-xl transition-all",children:"Configure Permissions"})]})]},H.id)),a.jsxs("button",{type:"button",onClick:()=>z(!0),className:"border-2 border-dashed border-gray-200 dark:border-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center text-gray-400 hover:text-blue-500 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all min-h-[180px]",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-slate-800 flex items-center justify-center mb-3 group-hover:bg-white transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),a.jsx("span",{className:"font-bold",children:"New Role Definition"}),a.jsx("p",{className:"text-[10px] mt-1 text-center",children:"Define a new set of capabilities for team members"})]})]}),a.jsx(F1,{isOpen:d,onClose:()=>f(!1),roles:v,editingAdmin:m,setEditingAdmin:g,onSuccess:()=>{O(),f(!1)}}),a.jsx(HN,{isOpen:N,onClose:()=>k(!1),editingRole:j,permissions:Gp,onTogglePermission:U,onCommit:ce}),a.jsx(qN,{isOpen:C,setRoles:h,setEditingRole:T,setIsPermMatrixOpen:k,setIsRoleModalOpen:z})]})},PN=()=>{const[s,l]=y.useState({current:"",next:"",confirm:""}),[i,o]=y.useState(!1),[d,f]=y.useState(null),m=async()=>{if(f(null),!s.current.trim()||!s.next.trim()||!s.confirm.trim()){const x="All password fields are required.";f(x),oe.error(x);return}if(s.next!==s.confirm){const x="New password and confirmation do not match.";f(x),oe.error(x);return}if(s.next.length<6){const x="New password must be at least 6 characters.";f(x),oe.error(x);return}if(s.current===s.next){const x="New password must be different from the current password.";f(x),oe.error(x);return}const g=localStorage.getItem(ve.AUTH);if(!g){const x="No authenticated user found. Please log in again.";f(x),oe.error(x);return}const b=JSON.parse(g);if(!b?.id||!b?.email){const x="Missing user details. Please log in again.";f(x),oe.error(x);return}o(!0);try{await jo.login(b.email,s.current),await Or.update(String(b.id),{password:s.next}),l({current:"",next:"",confirm:""}),oe.success("Password updated successfully. Logging you out...");try{await jo.logout()}finally{localStorage.removeItem(ve.AUTH),setTimeout(()=>window.location.reload(),800)}}catch(x){const v=x?.message||"Failed to update password.";f(v),oe.error(v)}finally{o(!1)}};return a.jsx("div",{className:"max-w-md mx-auto py-10 space-y-6",children:a.jsx(Le,{title:"Update Access Key",children:a.jsxs("div",{className:"space-y-5",children:[d&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 text-xs py-3 px-4 rounded-xl text-center font-bold",children:d}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Existing Password"}),a.jsx("input",{type:"password",value:s.current,onChange:g=>l({...s,current:g.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"New Security Key"}),a.jsx("input",{type:"password",value:s.next,onChange:g=>l({...s,next:g.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Confirm Key"}),a.jsx("input",{type:"password",value:s.confirm,onChange:g=>l({...s,confirm:g.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:""})]}),a.jsx("button",{type:"button",onClick:m,disabled:i,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-black py-4 rounded-2xl shadow-xl transition-all active:scale-95 disabled:opacity-60",children:i?"Updating...":"Update Authorization Key"})]})})})},VN=({onSave:s})=>{const l=Ka(),i=y.useRef(null),[o,d]=y.useState(!1),[f,m]=y.useState(!1),[g,b]=y.useState(null),[x,v]=y.useState({isp_legal_name:"EasyTech Network Solutions",acronym:"",support_hotline:"+254 700 000 000",business_address:"EasyTech Plaza, 4th Floor, Wing B, Nairobi, Kenya",trial_duration:30,trial_unit:"minutes",business_logo:""}),[h,S]=y.useState({paybill:"174379",consumer_key:"",consumer_secret:"",passkey:"",environment:"Production",confirmation_url:"",validation_url:""}),[E,N]=y.useState({provider:"Africa's Talking",sender_id:"EASYTECH",api_key:"",api_username:"easytech_admin"}),[k,j]=y.useState({mail_server:"smtp.gmail.com",server_port:"587",auth_username:"billing@easytech.com",auth_password:"",encryption:"TLS (Recommended)",from_address:"no-reply@easytech.com"}),[T,C]=y.useState("Trial"),[z,O]=y.useState(null),[X,I]=y.useState(!1),[Z,ue]=y.useState(null),[ie,U]=y.useState("idle"),[ce,te]=y.useState("2547"),[H,me]=y.useState(""),se=[{id:"lite",name:"Lite",price:5e3,capacity:"Up to 100 Subs",features:["Basic Billing","Core CRM","Standard Reports"],color:"slate"},{id:"pro",name:"Professional",price:12e3,capacity:"Up to 500 Subs",features:["Advanced IPAM","Ticketing System","SMS Gateway Integration","API Access"],color:"blue"},{id:"ent",name:"Enterprise",price:25e3,capacity:"Unlimited Subs",features:["White Labeling","Priority Support","Custom Integrations","Multi-Admin Roles"],color:"indigo"}];y.useEffect(()=>{const L=l.pathname.split("/").filter(Boolean);L[1]?me(L[1]):me("")},[l.pathname]);const R=()=>{switch(H){case"general":return x;case"payment-gateway":return h;case"sms-gateway":return E;case"email-gateway":return k;default:return{}}};ne.useEffect(()=>{(async()=>{try{const P=await Ws.get(),F=P?.settings||{};H==="general"&&F.general?v(de=>({...de,...F.general,acronym:P?.acronym||de.acronym})):H==="payment-gateway"&&F["payment-gateway"]?S(de=>({...de,...F["payment-gateway"]})):H==="sms-gateway"&&F["sms-gateway"]?N(de=>({...de,...F["sms-gateway"]})):H==="email-gateway"&&F["email-gateway"]&&j(de=>({...de,...F["email-gateway"]})),F.subscription_tier&&O(F.subscription_tier.charAt(0).toUpperCase()+F.subscription_tier.slice(1))}catch(P){console.error("Failed to fetch settings:",P)}})()},[H]);const ee=async L=>{L.preventDefault(),b(null),d(!0);try{const P=R(),F={settings:{[H]:P}};H==="general"&&"acronym"in P&&(F.acronym=P.acronym),await Ws.update(F),s(`Settings for ${H.replace("-"," ")} updated successfully`)}catch(P){const F=P.message||"Failed to save settings";b(F),s(`Error: ${F}`)}finally{d(!1)}},J=async()=>{b(null),m(!0);try{if(!h.paybill?.trim()||!h.consumer_key?.trim()||!h.consumer_secret?.trim()){const L="Paybill, consumer key, and consumer secret are required.";b(L),s(`Error: ${L}`);return}await en.registerC2BUrls({paybill:h.paybill,consumer_key:h.consumer_key,consumer_secret:h.consumer_secret,environment:h.environment,...h.confirmation_url&&{confirmation_url:h.confirmation_url},...h.validation_url&&{validation_url:h.validation_url}}),s("C2B confirmation and validation URLs registered successfully")}catch(L){const P=L.message||"Failed to register C2B URLs";b(P),s(`Error: ${P}`)}finally{m(!1)}},B=L=>{ue(L),I(!0),U("idle")},re=L=>{L.preventDefault(),U("processing"),setTimeout(()=>{U("success"),C("Active"),O(Z?.name||null),s(`Licence for ${Z?.name} activated successfully!`),setTimeout(()=>{I(!1),U("idle")},2e3)},3e3)},A=()=>{switch(H){case"general":return a.jsx("div",{className:"space-y-6",children:a.jsx(Le,{title:"Business Identity",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Business Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 flex items-center justify-center overflow-hidden",children:x.business_logo?a.jsx("img",{src:x.business_logo,alt:"Business Logo",className:"w-full h-full object-contain"}):a.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h18M3 19h18M5 5v14M19 5v14"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:L=>{const P=L.target.files?.[0];if(!P)return;const F=new FileReader;F.onload=()=>{v({...x,business_logo:typeof F.result=="string"?F.result:""})},F.readAsDataURL(P)},className:"block w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-bold file:bg-blue-50 file:text-blue-600 hover:file:bg-blue-100"}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"PNG/JPG recommended. Stored in settings."})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"ISP Legal Name"}),a.jsx("input",{type:"text",value:x.isp_legal_name,required:!0,onChange:L=>v({...x,isp_legal_name:L.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Company Acronym"}),a.jsx("input",{type:"text",value:x.acronym,required:!0,onChange:L=>v({...x,acronym:L.target.value.toUpperCase()}),placeholder:"e.g., ET, ISP, NET",maxLength:5,className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold uppercase"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"Unique prefix for RADIUS usernames (max 5 chars)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Support Hotline"}),a.jsx("input",{type:"tel",value:x.support_hotline,onChange:L=>v({...x,support_hotline:L.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Trial Period"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"0",value:x.trial_duration||"",onChange:L=>v({...x,trial_duration:Number(L.target.value)}),placeholder:"Duration",className:"w-2/3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"}),a.jsxs("select",{value:x.trial_unit||"days",onChange:L=>v({...x,trial_unit:L.target.value}),className:"w-1/3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold cursor-pointer",children:[a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"Default grace period for new connections"})]}),a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Business Office Address"}),a.jsx("textarea",{rows:2,value:x.business_address,onChange:L=>v({...x,business_address:L.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm"})]})]})})});case"licence":return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsx("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-xl ${T==="Active"?"bg-green-500":"bg-amber-500"} shadow-emerald-500/20`,children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h3",{className:"text-3xl font-black",children:T==="Trial"?"Free Trial":z||"Enterprise"}),a.jsx(rt,{variant:T.toLowerCase(),children:T.toUpperCase()})]}),a.jsx("p",{className:"text-slate-400 font-medium font-mono text-sm uppercase",children:"ET-CLOUD-8821-X991-A122"})]})]}),a.jsxs("div",{className:"text-center md:text-right",children:[a.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"Next Renewal"}),a.jsx("p",{className:"text-2xl font-black text-white",children:"Dec 31, 2025"})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:se.map(L=>a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] p-8 border border-gray-100 dark:border-slate-800 shadow-sm flex flex-col group hover:shadow-xl transition-all relative overflow-hidden",children:[z===L.name&&a.jsx("div",{className:"absolute top-0 right-0 px-4 py-1 bg-blue-600 text-white text-[10px] font-black uppercase rounded-bl-xl tracking-widest z-10",children:"Current Plan"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:`text-[10px] font-black uppercase tracking-[0.2em] mb-2 text-${L.color}-500`,children:[L.name," System"]}),a.jsxs("h4",{className:"text-4xl font-black text-gray-900 dark:text-white",children:[a.jsx("span",{className:"text-sm font-medium mr-1 uppercase",children:"KSH"}),L.price.toLocaleString()]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 font-bold",children:L.capacity})]}),a.jsx("div",{className:"space-y-3 flex-1",children:L.features.map(P=>a.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-600 dark:text-gray-400",children:[a.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),P]},P))}),a.jsx("button",{type:"button",disabled:z===L.name,onClick:()=>B(L),className:`mt-8 w-full py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all ${z===L.name?"bg-gray-100 dark:bg-slate-800 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white shadow-lg hover:bg-blue-500"}`,children:z===L.name?"Active":"Upgrade Now"})]},L.id))})]});case"payment-gateway":return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Le,{title:"M-Pesa Integration (Daraja API)",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Paybill / Shortcode"}),a.jsx("input",{type:"text",value:h.paybill,onChange:L=>S({...h,paybill:L.target.value}),placeholder:"e.g. 174379",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Consumer Key"}),a.jsx("input",{type:"password",value:h.consumer_key,onChange:L=>S({...h,consumer_key:L.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Consumer Secret"}),a.jsx("input",{type:"password",value:h.consumer_secret,onChange:L=>S({...h,consumer_secret:L.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Passkey"}),a.jsx("input",{type:"password",value:h.passkey,onChange:L=>S({...h,passkey:L.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Environment"}),a.jsxs("select",{value:h.environment,onChange:L=>S({...h,environment:L.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"Production"}),a.jsx("option",{children:"Sandbox (Testing)"})]})]})]})}),a.jsx(Le,{title:"Custom C2B Callback URLs (Optional - For Testing)",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Confirmation URL"}),a.jsx("input",{type:"url",value:h.confirmation_url,onChange:L=>S({...h,confirmation_url:L.target.value}),placeholder:"https://your-ngrok-url.ngrok.io/api/payments/c2b/confirmation",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"}),a.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"Leave empty to use default server URL. Use ngrok/localtunnel for local testing."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Validation URL"}),a.jsx("input",{type:"url",value:h.validation_url,onChange:L=>S({...h,validation_url:L.target.value}),placeholder:"https://your-ngrok-url.ngrok.io/api/payments/c2b/validation",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"}),a.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"Leave empty to use default server URL. Use ngrok/localtunnel for local testing."})]})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-900/30 flex items-start gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium space-y-1",children:[a.jsx("p",{children:"Register your C2B confirmation and validation URLs with Daraja. M-Pesa requires publicly accessible HTTPS URLs."}),a.jsxs("p",{className:"text-[10px] mt-1",children:[a.jsx("strong",{children:"For local testing:"})," Use ngrok (ngrok http 8000) to expose your server with HTTPS."]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:J,disabled:f,className:"bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold px-6 py-3 rounded-xl shadow-lg shadow-emerald-500/20 transition-all flex items-center space-x-2 active:scale-95",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Registering..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7v14"})}),a.jsx("span",{children:"Register C2B URLs"})]})})})]});case"sms-gateway":return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Le,{title:"SMS Provider Configuration",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Provider Service"}),a.jsxs("select",{value:E.provider,onChange:L=>N({...E,provider:L.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"Africa's Talking"}),a.jsx("option",{children:"Twilio"}),a.jsx("option",{children:"Infobip"}),a.jsx("option",{children:"BulkSMS.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Sender ID / Alphanumeric"}),a.jsx("input",{type:"text",value:E.sender_id,onChange:L=>N({...E,sender_id:L.target.value}),placeholder:"e.g. EASYTECH",className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"API Key / Access Token"}),a.jsx("input",{type:"password",value:E.api_key,onChange:L=>N({...E,api_key:L.target.value}),placeholder:"",className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"}),a.jsxs("p",{className:"text-[9px] text-gray-400 italic mt-1",children:[a.jsx("span",{className:"font-bold",children:"Africa's Talking:"}),' Use format "username:api_key" or just the API key']})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"API Username (if applicable)"}),a.jsx("input",{type:"text",value:E.api_username,onChange:L=>N({...E,api_username:L.target.value}),placeholder:"e.g. easytech_admin",className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]})]})}),a.jsx(Le,{title:"Meta WhatsApp Cloud API",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Permanent Access Token"}),a.jsx("input",{type:"password",placeholder:"EAABw...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Phone Number ID"}),a.jsx("input",{type:"text",placeholder:"e.g. 1092...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Business Account ID"}),a.jsx("input",{type:"text",placeholder:"e.g. 1045...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"md:col-span-2 p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-600 tracking-widest",children:"Meta Webhook Configuration"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-tighter",children:"Callback URL"}),a.jsx("code",{className:"text-[10px] font-mono bg-white dark:bg-slate-900 px-2 py-1 rounded select-all block mt-1",children:"https://api.easytech.com/webhooks/whatsapp"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-tighter",children:"Webhook Verify Token"}),a.jsx("input",{type:"text",placeholder:"Set custom token for Meta verification",className:"w-full bg-white dark:bg-slate-900 border-none rounded-lg p-2 mt-1 focus:ring-1 focus:ring-blue-500 text-xs font-bold"})]})]})]})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-900/30 flex items-center gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium space-y-1",children:[a.jsx("p",{children:"Auto-notifications for expiry and payment confirmation require a valid SMS configuration."}),a.jsxs("p",{className:"text-[10px] mt-1",children:[a.jsx("strong",{children:"Testing Tips:"})," Verify your API credentials in your provider dashboard"]})]})]})]});case"email-gateway":return a.jsx("div",{className:"space-y-6",children:a.jsx(Le,{title:"SMTP Relay Settings",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Mail Server Host"}),a.jsx("input",{type:"text",value:k.mail_server,onChange:L=>j({...k,mail_server:L.target.value}),placeholder:"smtp.gmail.com",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Server Port"}),a.jsx("input",{type:"text",value:k.server_port,onChange:L=>j({...k,server_port:L.target.value}),placeholder:"587",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Auth Username"}),a.jsx("input",{type:"email",value:k.auth_username,onChange:L=>j({...k,auth_username:L.target.value}),placeholder:"billing@easytech.com",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Auth Password"}),a.jsx("input",{type:"password",value:k.auth_password,onChange:L=>j({...k,auth_password:L.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Encryption Protocol"}),a.jsxs("select",{value:k.encryption,onChange:L=>j({...k,encryption:L.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"TLS (Recommended)"}),a.jsx("option",{children:"SSL"}),a.jsx("option",{children:"None (Unsecured)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Sender 'From' Address"}),a.jsx("input",{type:"email",value:k.from_address,onChange:L=>j({...k,from_address:L.target.value}),placeholder:"no-reply@easytech.com",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]})]})})});case"change-password":return a.jsx(PN,{});default:return a.jsxs("div",{className:"py-20 text-center text-gray-400 flex flex-col items-center",children:[a.jsx("svg",{className:"w-12 h-12 mb-4 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("p",{className:"font-bold",children:"Module Under Maintenance"}),a.jsx("p",{className:"text-xs italic mt-1",children:"This specific configuration is being synced with the cloud."})]})}};return a.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("form",{ref:i,onSubmit:ee,children:[A(),g&&a.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm font-semibold text-red-700 dark:text-red-300",children:g})]}),H!=="licence"&&H!=="change-password"&&a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 transition-all flex items-center space-x-2 active:scale-95",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Saving..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Apply Changes"})]})})})]}),a.jsxs(Qe,{isOpen:X,onClose:()=>I(!1),title:"Renew System License",children:[ie==="idle"&&a.jsxs("form",{onSubmit:re,className:"space-y-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Selected Plan"}),a.jsxs("span",{className:"text-sm font-black text-blue-600 uppercase tracking-widest",children:[Z?.name," Tier"]})]}),a.jsxs("div",{className:"flex justify-between items-center pb-4 border-b dark:border-slate-600",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Billing Amount"}),a.jsxs("span",{className:"text-xl font-black text-gray-900 dark:text-white",children:["KSH ",Z?.price.toLocaleString()]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1 block mb-1",children:"M-Pesa Number"}),a.jsx("input",{required:!0,type:"tel",value:ce,onChange:L=>te(L.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-4 text-center text-xl font-black tracking-widest focus:ring-2 focus:ring-emerald-500"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-black py-4 rounded-2xl shadow-xl active:scale-95",children:"Authorize STK Push"})]}),ie==="processing"&&a.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),a.jsx("h4",{className:"text-lg font-black",children:"Syncing with M-Pesa Gateway..."})]}),ie==="success"&&a.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center space-y-4 animate-in zoom-in duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M5 13l4 4L19 7"})})}),a.jsx("h4",{className:"text-xl font-black",children:"Payment Captured!"})]})]})]})},Xp=({onLogin:s,isLoading:l,error:i})=>{const[o,d]=y.useState("admin@easyisp.local"),[f,m]=y.useState("password123"),g=b=>{b.preventDefault(),s(o,f)};return a.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-950 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[120px] animate-pulse"}),a.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-600/10 rounded-full blur-[120px] animate-pulse"}),a.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center font-black text-2xl text-white shadow-xl shadow-blue-500/20 mb-4 transform -rotate-6",children:a.jsx("img",{src:"/EasyTech.svg",alt:"Logo",className:"transform -rotate-6"})}),a.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:"Easy Tech"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Network Management & Billing"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1 mb-2",children:"Access Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-4 flex items-center text-slate-500",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),a.jsx("input",{type:"email",required:!0,value:o,onChange:b=>d(b.target.value),className:"w-full bg-slate-800/50 border-none rounded-2xl py-4 pl-11 pr-4 text-white placeholder-slate-600 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"admin@easytech.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1 mb-2",children:"Security Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-4 flex items-center text-slate-500",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{type:"password",required:!0,value:f,onChange:b=>m(b.target.value),className:"w-full bg-slate-800/50 border-none rounded-2xl py-4 pl-11 pr-4 text-white placeholder-slate-600 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:""})]})]}),i&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 text-xs py-3 px-4 rounded-xl text-center font-bold",children:i}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white font-black py-4 rounded-2xl shadow-xl shadow-blue-600/20 transition-all flex items-center justify-center space-x-2 active:scale-95",children:l?a.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsx("span",{children:"Authorize Access"})})]})]}),a.jsxs("p",{className:"text-center text-slate-600 text-[10px] mt-8 uppercase tracking-widest font-black",children:["Powered by Easy Tech Cloud  ",new Date().getFullYear()]})]})]})},IN=({isOpen:s,onClose:l,onSave:i,editingPackage:o,setEditingPackage:d})=>{const[f,m]=y.useState(!1),g="^[0-9]+[kMGkmg]?$",b="^[0-9]+[s]?(/[0-9]+[s]?)?$",x=(h,S)=>{const E=S.replace(/[^0-9kMGkmgs/]/gi,"");d({...o,[h]:E})},v=()=>{const h=o?.speed_up||"5M",S=o?.speed_down||"20M";let E=`${h}/${S}`;const N=o?.burst_limit_up&&o?.burst_limit_down,k=o?.priority!==void 0,j=o?.min_limit_up&&o?.min_limit_down;if(N||k||j){const T=o?.burst_limit_up||h,C=o?.burst_limit_down||S,z=o?.burst_threshold_up||h,O=o?.burst_threshold_down||S,X=o?.burst_time||"30/30";if(E+=` ${T}/${C} ${z}/${O} ${X}`,k||j){const I=o?.priority||8;if(E+=` ${I}`,j){const Z=o?.min_limit_up,ue=o?.min_limit_down;E+=` ${Z}/${ue}`}}}return E};return a.jsx(Qe,{isOpen:s,onClose:l,title:o?.id?"Update Package Profile":"Define New Service Plan",maxWidth:"max-w-2xl",children:a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Package Name"}),a.jsx("input",{required:!0,type:"text",value:o?.name||"",onChange:h=>d({...o,name:h.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. Fiber Home 10Mbps"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Price (KSH)"}),a.jsx("input",{required:!0,type:"number",min:"0",value:o?.price||"",onChange:h=>d({...o,price:Number(h.target.value)}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-black",placeholder:"1500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Validity (Days)"}),a.jsx("input",{required:!0,type:"number",min:"1",value:o?.validity_days||"",onChange:h=>d({...o,validity_days:Number(h.target.value)}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"30"})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-blue-600 tracking-widest mb-3",children:"Level 1: Base Bandwidth (MIR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Upload (rx)"}),a.jsx("input",{required:!0,type:"text",pattern:g,title:"Input must be a number followed by k, M, or G (e.g., 5M)",value:o?.speed_up||"",onChange:h=>x("speed_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-mono text-sm invalid:ring-2 invalid:ring-red-500 transition-all uppercase",placeholder:"5M"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Download (tx)"}),a.jsx("input",{required:!0,type:"text",pattern:g,title:"Input must be a number followed by k, M, or G (e.g., 20M)",value:o?.speed_down||"",onChange:h=>x("speed_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-mono text-sm invalid:ring-2 invalid:ring-red-500 transition-all uppercase",placeholder:"20M"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Advanced QoS (Bursts, Priority, CIR)"}),a.jsx(qu,{checked:f,onChange:()=>m(!f)})]}),f&&a.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Level 2: Bursting Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",pattern:g,placeholder:"Burst Up (e.g. 10M)",value:o?.burst_limit_up||"",onChange:h=>x("burst_limit_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsx("input",{type:"text",pattern:g,placeholder:"Burst Down (e.g. 40M)",value:o?.burst_limit_down||"",onChange:h=>x("burst_limit_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsx("input",{type:"text",pattern:g,placeholder:"Thr Up (e.g. 3M)",value:o?.burst_threshold_up||"",onChange:h=>x("burst_threshold_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsx("input",{type:"text",pattern:g,placeholder:"Thr Down (e.g. 15M)",value:o?.burst_threshold_down||"",onChange:h=>x("burst_threshold_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-1",children:"Burst Time (rx/tx)"}),a.jsx("input",{type:"text",pattern:b,title:"Format: Seconds or Seconds/Seconds (e.g., 30/30)",placeholder:"30/30",value:o?.burst_time||"",onChange:h=>x("burst_time",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 text-xs font-mono invalid:ring-1 invalid:ring-red-500"})]})]})]}),a.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/10 rounded-2xl border border-indigo-100 dark:border-indigo-900/20 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-indigo-600 tracking-widest mb-1",children:"Level 3: Priority & Min (CIR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Traffic Priority (1-8)"}),a.jsx("select",{value:o?.priority||8,onChange:h=>d({...o,priority:Number(h.target.value)}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-indigo-500 font-bold",children:[1,2,3,4,5,6,7,8].map(h=>a.jsxs("option",{value:h,children:["Priority ",h," ",h===1?"(Highest)":h===8?"(Lowest)":""]},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Min Upload (CIR)"}),a.jsx("input",{type:"text",pattern:g,placeholder:"2M",value:o?.min_limit_up||"",onChange:h=>x("min_limit_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 text-xs font-mono uppercase invalid:text-red-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Min Download (CIR)"}),a.jsx("input",{type:"text",pattern:g,placeholder:"5M",value:o?.min_limit_down||"",onChange:h=>x("min_limit_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 text-xs font-mono uppercase invalid:text-red-500"})]})]})]})]}),a.jsxs("div",{className:"bg-slate-950 p-5 rounded-2xl border border-slate-800 shadow-inner",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/5 pb-2",children:[a.jsx("span",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest",children:"MikroTik Rate-Limit String"}),a.jsx(rt,{variant:"active",children:"Live Output"})]}),a.jsx("code",{className:"text-sm text-green-400 font-mono block leading-relaxed break-all whitespace-pre-wrap",children:v()}),a.jsx("p",{className:"text-[8px] text-gray-500 mt-2 italic uppercase",children:"This value is pushed to the 'Mikrotik-Rate-Limit' RADIUS attribute."})]}),a.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 group flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 group-hover:rotate-12 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o?.id?"Sync Package Update":"Deploy Network Package"]})]})})},YN=()=>{const[s,l]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),[i,o]=y.useState(null),[d,f]=y.useState(!1),[m,g]=y.useState(!1),[b,x]=y.useState(null);y.useEffect(()=>{v()},[]);const v=async()=>{try{const E=await Fs.getAll();localStorage.setItem(ve.PACKAGES,JSON.stringify(E.data||[])),l(E.data||[])}catch(E){console.error("Error fetching packages:",E)}},h=async E=>{if(E.preventDefault(),!i||!i.name){x("Package name is required");return}g(!0),x(null);try{if(s.findIndex(k=>k.id===i.id)>=0&&i.id)await Fs.update(i.id,i),v(),oe.success("Package updated successfully");else{const k=await Fs.create(i);v(),oe.success("Package created successfully")}f(!1),o(null)}catch(N){const k=N instanceof Error?N.message:"Failed to save package";x(k),console.error("Error saving package:",N),oe.error("Error saving package: "+k)}finally{g(!1)}},S=async E=>{if(JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]").some(T=>T.packageId===E||T.package?.id===E)){await Dr("Cannot delete package","This package is assigned to one or more customers. Reassign them before deleting.",{icon:"info",confirmButtonText:"OK",cancelButtonText:"Close",confirmButtonColor:"#2563eb"});return}if((await Dr("Delete this package?","This action cannot be undone.",{confirmButtonText:"Delete"})).isConfirmed)try{await Fs.delete(E),v(),oe.success("Package deleted successfully")}catch(T){console.error("Error deleting package:",T),oe.error("Error deleting package: "+(T instanceof Error?T.message:"Unknown error"))}};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Internet Service Packages"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Define bandwidth limits and billing cycles for customers."})]}),a.jsxs("button",{onClick:()=>{o({}),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Package"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.map(E=>a.jsxs(Le,{title:E?.type?.toUpperCase(),className:"relative group border-none shadow-xl hover:shadow-2xl transition-all",children:[a.jsxs("div",{className:"absolute top-4 right-4 flex space-x-1 z-10",children:[a.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),o(E),f(!0)},className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Edit Package",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),S(E.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:"Delete Package",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xl font-black text-gray-900 dark:text-white leading-tight mb-1",children:E.name}),a.jsxs("p",{className:"text-3xl font-black text-blue-600 dark:text-blue-400",children:[a.jsx("span",{className:"text-sm font-medium mr-1 uppercase",children:"KSH"}),E.price.toLocaleString(),a.jsxs("span",{className:"text-sm text-gray-400 font-medium ml-1",children:["/ ",E.validity_days," Days"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-3 rounded-2xl border border-gray-100 dark:border-slate-700/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Base DL"})]}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:E.speed_down})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-3 rounded-2xl border border-gray-100 dark:border-slate-700/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Base UL"})]}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:E.speed_up})]})]}),E.burst_limit_down&&a.jsxs("div",{className:"mb-6 px-3 py-2 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/20 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[9px] font-black uppercase text-blue-500 block leading-none mb-1",children:"Burst Peak"}),a.jsxs("p",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:[E.burst_limit_down," DL / ",E.burst_limit_up," UL"]})]}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx(rt,{variant:"active",children:"Burst ON"}),a.jsxs("span",{className:"text-[8px] text-gray-400 mt-0.5",children:[E.burst_time," interval"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs pt-4 border-t border-gray-100 dark:border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsx("span",{className:"font-bold",children:"Radius Sync Enabled"})]}),a.jsx(rt,{variant:"active",children:"Production"})]})]},E.id)),a.jsxs("button",{onClick:()=>{o({}),f(!0)},className:"border-2 border-dashed border-gray-200 dark:border-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center text-gray-400 hover:text-blue-500 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all min-h-[220px] group",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-slate-800 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a.jsx("span",{className:"font-bold",children:"Add Service Package"}),a.jsx("p",{className:"text-[10px] mt-1 text-center max-w-[150px]",children:"Define a new tier of internet service for your subscribers"})]})]}),a.jsx(IN,{isOpen:d,onClose:()=>f(!1),editingPackage:i,setEditingPackage:o,onSave:h,isSaving:m,saveError:b})]})},zg=({isOpen:s,onClose:l,setIsCustomerModalOpen:i,editingCustomer:o,setEditingCustomer:d,customers:f,onSuccess:m})=>{const g=tn(),[b,x]=y.useState(!1),[v,h]=y.useState(null),S=y.useRef(null),[E,N]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),k=!!o?.parentId,j=f.filter(C=>C.id!==o?.id&&!C.parentId);y.useEffect(()=>{if(!s)return;(async()=>{try{const z=await Fs.getAll();localStorage.setItem(ve.PACKAGES,JSON.stringify(z.data||[])),N(z.data||[])}catch(z){console.error("Error fetching packages:",z)}})()},[N]);const T=async C=>{C.preventDefault(),h(null),x(!0);try{const z={first_name:o?.firstName,last_name:o?.lastName,email:o?.email,phone:o?.phone,location:o?.location,apartment:o?.apartment,house_no:o?.houseNo,parent_id:o?.parentId||null,is_independent:o?.isIndependent||!1,ip_address:o?.ipAddress||null,mac_address:o?.macAddress||null,radius_username:o?.radiusUsername||null,radius_password:o?.radiusPassword||null,connection_type:o?.connectionType||"PPPoE",package_id:o?.packageId,installation_fee:o?.installationFee||0};if(o?.id){const O=await Ht.update(String(o.id),z);d(O.customer),m&&m(),oe.success("Customer updated successfully!"),O.username_modified&&oe.info(O.username_message||"RADIUS username was modified to avoid conflicts")}else{const O=await Ht.create(z);d({}),g(`/crm/customers/${O.customer.id}`),oe.success("Customer created successfully!"),O.username_modified&&oe.info(O.username_message||"RADIUS username was modified to avoid conflicts")}S.current={...o},i(!1),d(null)}catch(z){console.error("Error saving customer:",z);const O=z.message||"Failed to save customer. Please try again.";h(O),oe.error(O)}finally{x(!1)}};return a.jsxs(Qe,{isOpen:s,onClose:l,title:o?.id?"Update Subscriber":k?"Add New Sub-Account":"New Customer Registration",maxWidth:"max-w-xl",children:[v&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl",children:a.jsx("p",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:v})}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[k&&a.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-xl border border-purple-200 dark:border-purple-800 mb-2",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 dark:text-purple-400 uppercase tracking-widest",children:"Sub-Account Mode"}),a.jsx("p",{className:"text-[9px] text-purple-500 mt-0.5 leading-tight italic",children:"Name and phone details are inherited from the main account."})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"First Name*"}),a.jsx("input",{required:!0,readOnly:k,type:"text",value:o?.firstName||"",onChange:C=>d({...o,firstName:C.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"Jane"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Last Name*"}),a.jsx("input",{required:!0,readOnly:k,type:"text",value:o?.lastName||"",onChange:C=>d({...o,lastName:C.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"Doe"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Email"}),a.jsx("input",{type:"email",readOnly:k,value:o?.email||"",onChange:C=>d({...o,email:C.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"jane.doe@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Phone*"}),a.jsx("input",{required:!0,readOnly:k,type:"tel",value:o?.phone||"",onChange:C=>d({...o,phone:C.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"+2547XXXXXXXX"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Physical Address"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Area / Location*"}),a.jsx("input",{required:!0,type:"text",value:o?.location||"",onChange:C=>d({...o,location:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-medium",placeholder:"e.g. Githurai 45"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Apartment / Building"}),a.jsx("input",{type:"text",value:o?.apartment||"",onChange:C=>d({...o,apartment:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-medium",placeholder:"e.g. Hadasa Apt"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"House / Unit No"}),a.jsx("input",{type:"text",value:o?.houseNo||"",onChange:C=>d({...o,houseNo:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-medium",placeholder:"e.g. A4"})]})]})]}),a.jsxs("div",{className:"p-4 bg-purple-50/50 dark:bg-purple-900/5 rounded-2xl border border-purple-100 dark:border-purple-900/20 space-y-3",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-purple-600 tracking-widest ml-1",children:"Account Hierarchy"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Linked Main Account"}),a.jsxs("select",{disabled:k&&!o?.id,value:o?.parentId||"",onChange:C=>d({...o,parentId:C.target.value||void 0}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-medium text-sm",children:[a.jsx("option",{value:"",children:"Standalone / Main Account"}),j.map(C=>a.jsxs("option",{value:C.id,children:[C.firstName," ",C.lastName," (",C.radiusUsername,")"]},C.id))]})]}),o?.parentId&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-purple-100 dark:border-purple-800",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-200",children:"Independent Billing?"}),a.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"If OFF, internet cuts when Main Account expires."})]}),a.jsx(qu,{checked:o.isIndependent||!1,onChange:()=>d({...o,isIndependent:!o.isIndependent})})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Live Network Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Static IP"}),a.jsx("input",{type:"text",value:o?.ipAddress||"",onChange:C=>d({...o,ipAddress:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm",placeholder:"15.15.15.226"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"MAC Address"}),a.jsx("input",{type:"text",value:o?.macAddress||"",onChange:C=>d({...o,macAddress:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm",placeholder:"B0:95:..."})]})]})]}),a.jsxs("div",{className:"p-4 bg-indigo-50/50 dark:bg-indigo-900/5 rounded-2xl border border-indigo-100 dark:border-indigo-900/20 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-indigo-500 tracking-widest ml-1",children:"RADIUS Credentials"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Radius Username"}),a.jsx("input",{type:"text",value:o?.radiusUsername||"",onChange:C=>d({...o,radiusUsername:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Radius Password"}),a.jsx("input",{type:"text",value:o?.radiusPassword||"",onChange:C=>d({...o,radiusPassword:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"})]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50/50 dark:bg-blue-900/5 rounded-2xl border border-blue-100 dark:border-blue-900/20 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest ml-1",children:"Connection Type*"}),a.jsxs("select",{required:!0,value:o?.connectionType||"PPPoE",onChange:C=>d({...o,connectionType:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"PPPoE",children:"PPPoE"}),a.jsx("option",{value:"Static IP",children:"Static IP"}),a.jsx("option",{value:"DHCP",children:"DHCP"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest ml-1",children:"Package*"}),a.jsxs("select",{required:!0,value:o?.packageId||"",onChange:C=>d({...o,packageId:C.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"",children:"Select..."}),E.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest ml-1",children:"Installation Fee (KSH)*"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400 text-[10px] font-black uppercase",children:"KSH"}),a.jsx("input",{required:!0,type:"number",value:o?.installationFee??0,onChange:C=>d({...o,installationFee:Number(C.target.value)}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 pl-12 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-black",placeholder:"0.00"})]}),a.jsx("p",{className:"text-[9px] text-gray-400 mt-1 italic ml-1",children:"Enter the total setup cost for this subscriber."})]})]}),a.jsx("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl mt-4 hover:bg-blue-500 shadow-xl shadow-blue-600/20 transition-all active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-blue-600",children:b?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):o?.id?"Update Subscriber":k?"Activate Sub-Account":"Register and Activate"})]})]})},Kr=({currentPage:s,setCurrentPage:l,totalPages:i,rowsPerPage:o,setRowsPerPage:d})=>a.jsxs("div",{className:`flex flex-col md:flex-row items-center justify-between 
          gap-4 mt-6 pt-6 border-t dark:border-slate-800`,children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{disabled:s===1,onClick:()=>l(f=>f-1),className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 disabled:opacity-20 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{className:"flex items-center gap-1 px-4",children:[a.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["Page ",s]}),a.jsxs("span",{className:"text-sm text-gray-400",children:["of ",i||1]})]}),a.jsx("button",{disabled:s>=i,onClick:()=>l(f=>f+1),className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 disabled:opacity-20 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Show"}),a.jsxs("select",{value:o,onChange:f=>{d(Number(f.target.value)),l(1)},className:"bg-gray-100 dark:bg-slate-800 border-none rounded-lg text-xs font-black p-1.5 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:10,children:"10 Rows"}),a.jsx("option",{value:15,children:"15 Rows"}),a.jsx("option",{value:25,children:"25 Rows"})]})]})]}),GN=({isBulkSmsOpen:s,setIsBulkSmsOpen:l,filteredCustomers:i,totalCustomers:o=0,activeFilters:d={},packages:f=[],sites:m=[]})=>{const[g,b]=ne.useState(""),[x,v]=ne.useState(!1),[h,S]=ne.useState({current:0,total:0}),[E,N]=ne.useState([]),[k,j]=ne.useState("custom");y.useEffect(()=>{(async()=>{const I=(await Ws.get())?.settings||{};I["notes-template"]&&Array.isArray(I["notes-template"].templates)&&N(I["notes-template"].templates)})()},[]),y.useEffect(()=>{s||(j("custom"),b(""))},[s]);const T=O=>{const X=O.target.value;if(j(X),X==="custom")return;const I=E.find(Z=>Z.id===X);I&&b(I.content)},C=(O,X)=>O.replace(/{FirstName}/gi,X.firstName||"").replace(/{LastName}/gi,X.lastName||"").replace(/{Isp}/gi,X.organization?.name||"ISP").replace(/{Expiry}/gi,X.expiryDate||"").replace(/{PackageName}/gi,X.package?.name||"").replace(/{PaidAmount}/gi,X.lastPayment?.amount?.toString()||"0").replace(/{PackageAmount}/gi,X.package?.price?.toString()||"0").replace(/{PhoneNumber}/gi,X.phone||""),z=async O=>{if(O.preventDefault(),!g.trim()){oe.error("Please enter a message");return}if(i.length===0){oe.error("No customers to send SMS to");return}if((await Dr("Send Bulk SMS?",`You are about to send SMS to ${i.length} customer(s). This action cannot be undone.`,{confirmButtonText:"Send SMS",confirmButtonColor:"#2563eb",cancelButtonText:"Cancel",icon:"question"})).isConfirmed){v(!0),S({current:0,total:i.length});try{const I=i.filter(ce=>ce.phone).map(ce=>({phone:ce.phone,message:C(g,ce),customer_id:ce.id}));if(I.length===0){oe.error("No customers with valid phone numbers found");return}S({current:0,total:I.length});const Z=await Yu.sendBulk(I),{total_recipients:ue,jobs_dispatched:ie,estimated_time_minutes:U}=Z.data;oe.success(` Bulk SMS Queued Successfully!

 ${ue} messages queued in ${ie} batches
 Estimated processing time: ${U} minutes

Messages will be sent in the background.`,{duration:6e3}),b(""),j("custom"),l(!1)}catch(I){console.error("Bulk SMS Error:",I);const Z=I?.response?.data?.message||I.message||"Unknown error occurred";oe.error(` Error sending bulk SMS: ${Z}`)}finally{v(!1),S({current:0,total:0})}}};return a.jsx(Qe,{isOpen:s,onClose:()=>l(!1),title:"Bulk SMS Composer",maxWidth:"max-w-3xl",children:a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-800/50 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-600 dark:text-blue-400 tracking-widest ml-1",children:"Targeting Filters"}),a.jsxs("span",{className:"text-[10px] font-bold bg-blue-600 text-white px-2 py-0.5 rounded-full",children:["Targeting: ",i.length," of ",o," Customers"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2 bg-blue-100/50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-[11px] text-blue-700 dark:text-blue-300",children:[a.jsx("p",{className:"font-bold",children:"Filters Applied from Main Page"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"To change targeting, close this pop up and adjust filters on the Customers page, then reopen."})]})]}),(()=>{const O=[];if(d.searchTerm&&O.push({label:"Search",value:d.searchTerm}),d.statusFilter&&O.push({label:"Status",value:d.statusFilter}),d.packageFilter){const X=f.find(I=>I.id===d.packageFilter);O.push({label:"Package",value:X?.name||d.packageFilter})}if(d.siteFilter){const X=m.find(I=>I.id===d.siteFilter);O.push({label:"Site",value:X?.name||d.siteFilter})}return d.locationFilter&&O.push({label:"Location",value:d.locationFilter}),d.apartmentFilter&&O.push({label:"Apartment",value:d.apartmentFilter}),d.houseNoFilter&&O.push({label:"House No",value:d.houseNoFilter}),d.connectivityFilter&&d.connectivityFilter!=="all"&&O.push({label:"Connectivity",value:d.connectivityFilter}),O.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[9px] font-bold text-gray-500 dark:text-gray-400 uppercase ml-1",children:"Active Filters:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:O.map((X,I)=>a.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-white dark:bg-slate-800 px-2.5 py-1 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:[X.label,":"]}),a.jsx("span",{className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:X.value})]},I))})]}):a.jsx("div",{className:"text-center py-2",children:a.jsx("p",{className:"text-[10px] font-bold text-gray-400",children:"No filters applied - targeting all customers"})})})()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Personalization Tags (Click to add)"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{tag:"{FirstName}",label:"First Name"},{tag:"{LastName}",label:"Last Name"},{tag:"{Isp}",label:"ISP Name"},{tag:"{Expiry}",label:"Expiry Date"},{tag:"{PackageName}",label:"Package"},{tag:"{PaidAmount}",label:"Paid Amt"},{tag:"{PackageAmount}",label:"Price"},{tag:"{PhoneNumber}",label:"Phone"}].map(O=>a.jsx("button",{type:"button",onClick:()=>{b(X=>X+" "+O.tag),k!=="custom"&&j("custom")},className:"text-[10px] font-bold px-2 py-1 bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-300 rounded-md hover:bg-blue-600 hover:text-white transition-colors",children:O.label},O.tag))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Message Body"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:k,onChange:T,className:"text-[10px] font-bold bg-transparent border-none text-blue-600 p-0 focus:ring-0 cursor-pointer",children:[a.jsx("option",{value:"custom",children:"Custom Message"}),E.filter(O=>O.category==="SMS").map(O=>a.jsx("option",{value:O.id,children:O.name},O.id))]})})]}),a.jsx("textarea",{required:!0,rows:6,value:g,onChange:O=>{b(O.target.value),k!=="custom"&&j("custom")},placeholder:"Type your message here or click tags above...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm leading-relaxed"}),a.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 mt-1 px-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Variables will be replaced per recipient"]}),a.jsxs("span",{className:g.length>160?"text-orange-500":"",children:[g.length," / 160 Characters (",~~(g.length/160+1)," SMS)"]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-slate-800",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),disabled:x,className:"px-6 py-2.5 rounded-xl text-sm font-bold bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Discard"}),a.jsx("button",{type:"submit",disabled:x,className:"px-8 py-2.5 rounded-xl text-sm font-black bg-blue-600 text-white shadow-xl shadow-blue-500/30 hover:bg-blue-700 active:scale-95 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",children:x?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending... ",h.current>0&&`(${h.current}/${h.total})`]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Broadcast Message"]})})]})]})})},XN=()=>{const s=tn(),[l,i]=y.useState(""),[o,d]=y.useState(!1),[f,m]=y.useState(1),[g,b]=y.useState(10),[x,v]=y.useState(!1),[h,S]=y.useState(""),[E,N]=y.useState(""),[k,j]=y.useState("all"),[T,C]=y.useState(""),[z,O]=y.useState(""),[X,I]=y.useState(""),[Z,ue]=y.useState(""),[ie,U]=y.useState(null),[ce,te]=y.useState(!1),[H,me]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),[se,R]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),[ee,J]=y.useState(()=>JSON.parse(localStorage.getItem(ve.SITES)||"[]")),[B,re]=y.useState(""),[A,L]=y.useState(!1),[P,F]=y.useState("filtered"),[de,be]=y.useState(""),[Ee,Se]=y.useState(!0);y.useEffect(()=>{Ea(),He(),ha()},[]),y.useEffect(()=>{m(1)},[l,h,E,T]);const He=async()=>{try{const le=await Fs.getAll();me(le.data||[]),localStorage.setItem(ve.PACKAGES,JSON.stringify(le.data||[]))}catch(le){console.error("Error fetching packages:",le)}},ha=async()=>{try{v(!0);const le=await Ht.getAll();console.log({customersRes:le});const ht=le.data||[];R(ht),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(ht))}catch(le){console.error("Error loading initial data:",le)}finally{v(!1)}},Ea=async()=>{try{const ht=(await El.getAll()).data||[];J(ht),localStorage.setItem(ve.SITES,JSON.stringify(ht))}catch(le){console.error("Error fetching sites:",le)}},Dt=y.useMemo(()=>({total:se.length,active:se.filter(le=>le.status==="active").length,expired:se.filter(le=>le.status==="expired").length,online:se.filter(le=>le.isOnline).length}),[se]),ys=le=>typeof le=="string"?le:le&&typeof le=="object"&&"name"in le?String(le.name??""):"",xt=y.useMemo(()=>se.filter(le=>{if(!(`${le.firstName} ${le.lastName}`.toLowerCase().includes(l.toLowerCase())||le.phone.includes(l)||le.radiusUsername.toLowerCase().includes(l.toLowerCase())||le.email?.toLowerCase().includes(l.toLowerCase())))return!1;const nn=!h||le.siteId===h,Tt=!E||le.status===E,js=!T||le.packageId===T,Ge=ys(le.location),Za=!z||Ge.toLowerCase().includes(z.toLowerCase()),aa=!X||le.apartment.toLowerCase().includes(X.toLowerCase()),On=!Z||le.houseNo.toLowerCase().includes(Z.toLowerCase()),Aa=!!le.isOnline;return nn&&Tt&&js&&Za&&aa&&On&&(k==="all"||(k==="online"?Aa:!Aa))}),[se,l,h,E,k,T,z,X,Z]),vs=y.useMemo(()=>{const le=(f-1)*g;return xt.slice(le,le+g)},[xt,f,g]),ws=Math.ceil(xt.length/g),Fa=()=>{S(""),N(""),j("all"),C(""),O(""),I(""),ue(""),i("")},Qa=[h,E,T,z,X,Z].filter(Boolean).length+(k!=="all"?1:0),Bt=()=>{U({connectionType:"PPPoE",installationFee:0}),te(!0)},an=()=>{const gt=[["First Name","Last Name","Phone","Email","Status","Package","Expiry Date","Radius Username","Radius Password","Location","Apartment","House No","Connection Type","Site","Balance","Is Online"].join(","),...xt.map(Ge=>{const Za=ee.find(aa=>aa.id===Ge.siteId);return[`"${Ge.firstName}"`,`"${Ge.lastName}"`,`"${Ge.phone}"`,`"${Ge.email||""}"`,`"${Ge.status}"`,`"${Ge.package?.name||""}"`,`"${new Date(Ge.expiryDate).toISOString().split("T")[0]}"`,`"${Ge.radiusUsername}"`,`"${Ge.radiusPassword}"`,`"${ys(Ge.location)}"`,`"${Ge.apartment||""}"`,`"${Ge.houseNo||""}"`,`"${Ge.connectionType||""}"`,`"${Za?.name||""}"`,`"${Ge.balance||0}"`,`"${Ge.isOnline?"Yes":"No"}"`].join(",")})].join(`
`),nn=new Blob([gt],{type:"text/csv;charset=utf-8;"}),Tt=document.createElement("a"),js=URL.createObjectURL(nn);Tt.setAttribute("href",js),Tt.setAttribute("download",`customers_${new Date().toISOString().split("T")[0]}.csv`),Tt.style.visibility="hidden",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt)},sn=()=>{L(!0)};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Total Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-gray-900 dark:text-white leading-none",children:Dt.total})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest",children:"Active Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-emerald-600 dark:text-emerald-400 leading-none",children:Dt.active})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-red-500 tracking-widest",children:"Expired Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-red-600 dark:text-red-400 leading-none",children:Dt.expired})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest",children:"Online Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-emerald-600 dark:text-emerald-400 leading-none",children:Dt.online})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6 p-1",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:"Customer Database"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Manage subscribers, connections, and billing status."})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[a.jsxs("button",{type:"button",onClick:()=>d(!o),className:`relative px-4 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 border ${o||Qa>0?"bg-blue-600 border-blue-600 text-white shadow-md shadow-blue-500/20":"bg-white border-slate-200 dark:bg-slate-900 dark:border-slate-800 text-slate-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),a.jsx("span",{className:"hidden sm:inline",children:"Filters"}),Qa>0&&a.jsx("span",{className:`flex items-center justify-center w-5 h-5 text-[10px] rounded-full ${o?"bg-white text-blue-600":"bg-blue-600 text-white"}`,children:Qa})]}),a.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl items-center",children:[a.jsx("button",{title:"Upload Customers",className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),a.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600 mx-1"}),a.jsx("button",{title:"Download CSV",onClick:an,className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),a.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600 mx-1"}),a.jsx("button",{title:"Send Bulk SMS",className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 transition-all",onClick:sn,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})]}),a.jsxs("button",{type:"button",onClick:Bt,className:"bg-blue-600 hover:bg-blue-700 active:scale-95 text-white px-5 py-2.5 rounded-xl text-sm font-black shadow-lg shadow-blue-500/25 transition-all flex items-center gap-2",children:[a.jsx("div",{className:"bg-white/20 rounded-lg p-0.5",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),"Register ",a.jsx("span",{className:"",children:"Customer"})]})]})]}),o&&a.jsx(Le,{title:"Advanced Parameters",className:"animate-in slide-in-from-top-4 duration-300 border-none shadow-xl bg-gray-50/50 dark:bg-slate-900/50",children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Network Site"}),a.jsxs("select",{value:h,onChange:le=>S(le.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white appearance-none font-bold",children:[a.jsx("option",{value:"",children:"All Sites"}),ee.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Account Status"}),a.jsxs("select",{value:E,onChange:le=>N(le.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white appearance-none font-bold",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"suspended",children:"Paused"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Live Connectivity"}),a.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 gap-1 border border-transparent focus-within:ring-2 focus-within:ring-blue-500",children:["all","online","offline"].map(le=>a.jsx("button",{onClick:()=>j(le),className:`flex-1 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-tighter transition-all ${k===le?"bg-blue-600 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:le},le))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Internet Package"}),a.jsxs("select",{value:T,onChange:le=>C(le.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white appearance-none font-bold",children:[a.jsx("option",{value:"",children:"All Packages"}),H.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Area Location"}),a.jsx("input",{type:"text",placeholder:"e.g. Githurai",value:z,onChange:le=>O(le.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Apartment / Bldg"}),a.jsx("input",{type:"text",placeholder:"e.g. Hadasa",value:X,onChange:le=>I(le.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Hse / Unit No"}),a.jsx("input",{type:"text",placeholder:"e.g. A4",value:Z,onChange:le=>ue(le.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:Fa,className:"w-full py-2.5 text-xs font-black text-red-500 hover:text-red-600 transition-colors uppercase tracking-widest",children:"Clear All Filters"})})]})}),a.jsxs(Le,{title:"Subscribers",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by name, username, phone or email...",value:l,onChange:le=>i(le.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("p",{className:"text-xs text-gray-400 italic",children:["Showing ",xt.length," of ",se.length," subscribers"]})})]}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm whitespace-nowrap sm:whitespace-normal",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"pb-3 px-6",children:"Customer"}),a.jsx("th",{className:"pb-3 px-6",children:"Status"}),a.jsx("th",{className:"pb-3 px-6",children:"Connectivity"}),a.jsx("th",{className:"pb-3 px-6",children:"Radius"}),a.jsx("th",{className:"pb-3 px-6",children:"Service Plan"}),a.jsx("th",{className:"pb-3 px-6",children:"Physical Address"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:vs.length>0?vs.map(le=>{const ht=!!le.isOnline;return a.jsxs("tr",{onClick:()=>s(`/crm/customers/${le.id}`),className:"group hover:bg-gray-50 dark:hover:bg-slate-800/20 transition-all cursor-pointer",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center font-bold text-base flex-shrink-0",children:le.firstName?.charAt(0)||"?"}),x?a.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"}):a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white dark:border-slate-900 ${ht?"bg-green-500":"bg-red-300"}`})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:[le.firstName," ",le.lastName]}),le.parentId&&a.jsx("span",{className:"text-[9px] bg-purple-100 text-purple-600 dark:bg-purple-900/30 px-2 py-0.5 rounded-full font-black uppercase",children:"Child"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:le.phone})]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx(rt,{variant:le.status,children:le.status})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex flex-col",children:x?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"w-2.5 h-2.5 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-[10px] text-blue-400 font-medium",children:"Syncing..."})]}):ht?a.jsxs("span",{className:"text-[10px] text-green-500 font-bold flex items-center gap-1",children:[a.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse"}),"Online"]}):a.jsx("span",{className:"text-[10px] text-red-400 font-medium italic",children:"Offline"})})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"User:"}),a.jsx("code",{className:"text-xs font-mono font-semibold text-gray-700 dark:text-gray-300",children:le.radiusUsername})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Pass:"}),a.jsx("code",{className:"text-xs font-mono font-semibold text-gray-700 dark:text-gray-300",children:le.radiusPassword})]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400",children:le.package?.name}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:["Exp: ",new Date(le.expiryDate).toDateString()]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[le.houseNo&&`${le.houseNo}, `,le.apartment,a.jsx("br",{}),a.jsx("span",{className:"text-gray-400 font-bold uppercase text-[9px] tracking-wider",children:ys(le.location)})]})})]},le.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center text-gray-400 italic",children:"No subscribers found matching your criteria. Try adjusting your filters."})})})]})}),a.jsx(Kr,{currentPage:f,setCurrentPage:m,totalPages:ws,rowsPerPage:g,setRowsPerPage:b})]}),a.jsx(zg,{isOpen:ce,onClose:()=>te(!1),setIsCustomerModalOpen:te,editingCustomer:ie,setEditingCustomer:U,customers:se}),a.jsx(GN,{isBulkSmsOpen:A,setIsBulkSmsOpen:L,filteredCustomers:xt,totalCustomers:se.length,activeFilters:{searchTerm:l,siteFilter:h,statusFilter:E,packageFilter:T,locationFilter:z,apartmentFilter:X,houseNoFilter:Z,connectivityFilter:k},packages:H,sites:ee})]})};function KN(){const[s,l]=y.useState(""),[i,o]=y.useState(!1),[d,f]=y.useState(!1),[m,g]=y.useState(null),[b,x]=y.useState(!1),[v,h]=y.useState(!1),[S,E]=y.useState(!1),[N,k]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PAYMENTS)||"[]")),j=tn();return{state:{smsText:s,isSmsModalOpen:i,isCustomerModalOpen:d,editingCustomer:m,isDepositModalOpen:b,isPackageModalOpen:v,isReconcileModalOpen:S,payments:N},actions:{setSmsText:l,setIsSmsModalOpen:o,deleteCustomer:async I=>{const Z=I.subAccounts&&I.subAccounts.length>0,ue=Z?`Warning: This account has ${I.subAccounts.length} sub-accounts (${I.subAccounts.map(U=>U.radiusUsername).join(", ")}). Deleting this master account will delete ALL of them.`:"This will permanently remove the customer and their RADIUS access.";if((await At.fire({title:"Are you sure?",text:ue,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:Z?"Yes, Delete All":"Yes, Delete",cancelButtonText:"Cancel"})).isConfirmed)try{At.showLoading(),await Ht.delete(`${I.id}?cascade=true`),oe.success("All accounts deleted successfully"),j("/crm/customers")}catch(U){oe.error(U.response?.data?.message||"Failed to delete"),At.close()}},handleEdit:I=>{g(I),f(!0)},handlePauseService:async I=>{const Z=I.status==="suspended",ue=Z?"Resume Service":"Pause Service",ie=Z?"This will restore their service with the remaining time they had left.":"This will pause their service and save their remaining time for later.";if((await At.fire({title:`${ue}?`,text:ie,icon:"question",showCancelButton:!0,confirmButtonColor:Z?"#10b981":"#f59e0b",confirmButtonText:`Yes, ${ue}`,cancelButtonText:"Cancel"})).isConfirmed)try{At.showLoading(),Z?(await Ht.resumeSubscription(I.id),oe.success("Service resumed successfully")):(await Ht.pauseSubscription(I.id),oe.success("Service paused successfully")),window.location.reload()}catch(ce){oe.error(ce.response?.data?.message||`Failed to ${ue.toLowerCase()}`),At.close()}},handleAddChild:I=>{g({parentId:I.id,firstName:I.firstName,lastName:I.lastName,phone:I.phone,email:I.email}),f(!0)},handleStkPush:async I=>{if(!I?.phone){oe.error("Customer phone number is missing");return}const Z=Math.max(1,Number(I.package?.price||1)),ue=await At.fire({title:"Initiate STK Push",html:`<div style="text-align:left;"><div style="margin-bottom:8px;"><strong>Customer:</strong> ${I.firstName||""} ${I.lastName||""}</div><div style="margin-bottom:8px;"><strong>Phone:</strong> ${I.phone}</div><div style="margin-bottom:8px;"><strong>Package:</strong> ${I.package?.name||"N/A"}</div></div>`,input:"number",inputLabel:"Amount (KSH)",inputValue:Z,inputAttributes:{min:"1",step:"1"},showCancelButton:!0,confirmButtonText:"Send STK Push",cancelButtonText:"Cancel",preConfirm:ie=>{const U=Number(ie);return!U||Number.isNaN(U)||U<1?(At.showValidationMessage("Enter a valid amount"),null):U}});if(ue.isConfirmed)try{At.fire({title:"Sending STK Push...",allowOutsideClick:!1,didOpen:()=>{At.showLoading()}}),await en.stkPushPayhero({phone:I.phone,amount:Number(ue.value)}),At.close(),oe.success("STK push initiated. Ask the customer to enter their PIN.")}catch(ie){At.close(),oe.error(ie?.message||"Failed to initiate STK push")}},setIsCustomerModalOpen:f,setEditingCustomer:g,setIsDepositModalOpen:x,setIsPackageModalOpen:h,setIsReconcileModalOpen:E,setPayments:k}}}const FN=({isOpen:s,setIsDepositModalOpen:l,customer:i,onSuccess:o})=>{const[d,f]=ne.useState({amount:"",reason:""}),m=async g=>{if(g.preventDefault(),!d.amount||!d.reason){oe.warning("Amount and reason are required");return}try{await Px.create({customer_id:i.id,amount:parseFloat(d.amount),type:"credit",category:"Deposit",method:"Cash",description:d.reason}),oe.success(`Deposit of ${d.amount} applied successfully`),l(!1),o?.(),f({amount:"",reason:""})}catch(b){console.error("Error creating deposit:",b),oe.error("Failed to apply deposit. Please try again.")}};return a.jsx(Qe,{isOpen:s,onClose:()=>l(!1),title:"Manual Balance Credit",children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Deposit Amount (KSH)"}),a.jsx("input",{required:!0,type:"number",value:d.amount,onChange:g=>f({...d,amount:g.target.value}),placeholder:"e.g. 2500",className:"w-full bg-gray-50 dark:bg-slate-800 p-4 rounded-xl font-black border-none mt-1 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Reason for Credit"}),a.jsx("textarea",{required:!0,rows:3,value:d.reason,onChange:g=>f({...d,reason:g.target.value}),placeholder:"e.g. Overpayment reversal, Cash collection, Goodwill credit",className:"w-full bg-gray-50 dark:bg-slate-800 p-4 rounded-xl font-bold border-none mt-1 focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-4 rounded-xl font-black shadow-lg hover:bg-blue-500 transition-all active:scale-95",children:"Apply Manual Credit"})]})})},Kp=({technicalSpecs:s,customer:l,onRefresh:i})=>{const[o,d]=y.useState("Offline"),[f,m]=y.useState(!1),[g,b]=y.useState(!1),x=y.useRef(!1),v=y.useRef(2e3),h=s?.start_time,S=s?.is_online;y.useEffect(()=>{if(!h){d("Offline");return}const j=new Date(h.replace("+00:00","+03:00")).getTime(),T=setInterval(()=>{const C=new Date().getTime(),z=Math.floor((C-j)/1e3);if(z>=0){const O=Math.floor(z/86400),X=Math.floor(z%86400/3600),I=Math.floor(z%3600/60),Z=z%60;d(`${O}d:${X}h:${I}m:${Z.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(T)},[h,S]),y.useEffect(()=>{let j;if(S){v.current=2e3;return}const C=async()=>{S||(x.current||(x.current=!0,m(!0),await i(),x.current=!1,m(!1),v.current=Math.min(v.current*2,6e4),console.log("Next delay will be:",v.current)),j=setTimeout(C,v.current))};return j=setTimeout(C,v.current),()=>{j&&clearTimeout(j)}},[S,i]);const E=async j=>{try{const T=await Ht.resetMacBinding(j);i(),oe.success(T.message)}catch(T){console.error("Error resetting MAC binding:",T),oe.error("Failed to reset MAC binding.")}},N=j=>{if(j<0)return"--";if(j<60)return`${j}s`;if(j<3600)return`${Math.floor(j/60)}m ${j%60}s`;const T=Math.floor(j/3600),C=Math.floor(j%3600/60);return`${T}h ${C}m`},k=j=>{if(j===0)return"0 B";const T=1024,C=["B","KB","MB","GB","TB"],z=Math.floor(Math.log(j)/Math.log(T));return parseFloat((j/Math.pow(T,z)).toFixed(2))+" "+C[z]};return a.jsxs(Le,{title:"Technical Specs",className:"border-none shadow-sm rounded-[2.5rem] bg-slate-900 text-white",children:[a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Allocated IP"}),a.jsx("p",{className:"text-sm font-mono font-bold text-blue-400",children:s?.framed_ip||"Not Assigned"})]}),a.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:a.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Device Type"}),a.jsx("p",{className:"text-sm font-mono font-bold text-blue-400",children:s?.device_vendor})]}),a.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:a.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Physical MAC"}),a.jsx("p",{className:"text-sm font-mono font-bold text-emerald-400",children:s?.calling_station_id||"Unbound"})]}),a.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:a.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A10.003 10.003 0 0012 3c1.268 0 2.49.234 3.62.661m-1.42 14.24l.066.088A10.018 10.018 0 0021 12c0-2.312-.783-4.441-2.091-6.13"})})})]}),a.jsxs("div",{className:" border-t border-white/5 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Last Uptime"}),a.jsx("span",{className:"text-sm font-mono font-bold text-purple-400",children:s?.last_uptime})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:`text-[12px] font-bold uppercase ${s?.is_online?"text-emerald-400":"text-red-400"}`,children:s?.is_online?"Online":"Offline"}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[f?a.jsx("span",{className:"w-2.5 h-2.5 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"}):a.jsx("span",{className:`w-2 h-2 rounded-full ${s?.is_online?"bg-emerald-500 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:`text-xs font-black font-mono tracking-widest ${s?.is_online?"text-emerald-600":"text-red-500"}`,children:o})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>E(l.id),className:"w-1/2 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all",children:"Flush MAC"}),a.jsx("button",{onClick:()=>b(!0),className:"flex-1 py-2 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all",children:"Sess Details"})]})]})]}),a.jsx(Qe,{isOpen:g,onClose:()=>b(!1),title:`RADIUS Session History: ${l.radiusUsername}`,maxWidth:"max-w-6xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 text-gray-400 uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-6 text-left",children:"Start Time"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"Stop Time"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"Offline Time"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"Duration"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"DL / UL"}),a.jsx("th",{className:"py-3 px-6 text-right",children:"Cause"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:s?.sessions?.map((j,T)=>{let C=-1;const z=s.sessions[T+1];if(z&&z.acctstoptime){const O=new Date(j.acctstarttime).getTime(),X=new Date(z.acctstoptime).getTime();C=Math.floor((O-X)/1e3)}return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/40 group",children:[a.jsx("td",{className:"py-4 px-6 font-medium text-gray-900 dark:text-slate-100 whitespace-nowrap",children:j.acctstarttime}),a.jsx("td",{className:"py-4 px-6 font-medium text-gray-900 dark:text-slate-100 whitespace-nowrap",children:j.acctstoptime||a.jsx("span",{className:"text-emerald-500 animate-pulse font-black",children:"ACTIVE"})}),a.jsx("td",{className:"py-4 px-6",children:C!==-1?a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`font-black text-[10px] ${C>300?"text-red-500":"text-gray-400"}`,children:N(C)}),a.jsx("span",{className:"text-[8px] text-gray-500 uppercase tracking-tighter font-bold",children:"since prev session"})]}):a.jsx("span",{className:"text-gray-400 italic",children:"Oldest Record"})}),a.jsx("td",{className:"py-4 px-6 font-bold text-gray-900 dark:text-slate-100 whitespace-nowrap",children:j.acctstoptime?N(Math.floor((new Date(j.acctstoptime).getTime()-new Date(j.acctstarttime).getTime())/1e3)):a.jsx("span",{className:"text-emerald-500 font-black",children:o})}),a.jsx("td",{className:"py-4 px-6 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-blue-600 font-bold",children:["DL: ",k(j.acctinputoctets)]}),a.jsxs("span",{className:"text-indigo-600 font-bold",children:["UL: ",k(j.acctoutputoctets)]})]})}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx("span",{className:`px-2 py-0.5 rounded uppercase font-black text-[9px] 
                                  ${j.acctterminatecause==="NAS-Error"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:j.acctterminatecause})})]},j.radacctid)})})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t dark:border-slate-800",children:[a.jsxs("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-tighter",children:["Last synced with MikroTik: ",new Date().toLocaleTimeString()]}),a.jsx("button",{onClick:()=>b(!1),className:`px-6 py-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-[10px] 
                      font-black uppercase rounded-xl`,children:"Close Intelligence"})]})]})})]})},QN=({isChangeDateModalOpen:s,setIsChangeDateModalOpen:l,customer:i,onSuccess:o})=>{const[d,f]=y.useState(""),[m,g]=y.useState(!1);y.useEffect(()=>{s.type||l({open:!1,type:""})},[]);const b=async()=>{if(!i?.id||!d){oe.error("Please select a date");return}g(!0);try{const v=s.type==="expiry"?{expiry_date:d}:{extension_date:d};console.log({payload:v}),await Ht.update(String(i.id),v),oe.success(s.type==="expiry"?"Expiry date updated successfully!":"Extension date updated successfully!"),f(""),l({open:!1,type:""}),o?.()}catch(v){oe.error(v.message||"Failed to update date. Please try again.")}finally{g(!1)}},x=()=>{f(""),l({open:!1,type:""})};return a.jsx(Qe,{isOpen:s.open,onClose:x,title:s.type==="expiry"?"Change expiry date":"Extend subscription",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:s.type==="expiry"?"New Expiry Date":"Extension Date"}),a.jsx("input",{type:"datetime-local",value:d,onChange:v=>f(v.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 p-4 rounded-xl font-bold border border-gray-200 dark:border-slate-700 mb-4"}),i&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:s.type==="expiry"?`Current expiry: ${new Date(i.expiryDate).toLocaleString()}`:`Current extension: ${i.extensionDate?new Date(i.extensionDate).toLocaleString():"Not set"}`})]}),a.jsx("button",{onClick:b,disabled:m||!d,className:`w-full py-4 rounded-xl font-black shadow-lg transition-all ${m||!d?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-500/20"}`,children:m?"Updating...":"Commit Renewal"})]})})},ZN=({isOpen:s,onClose:l,customer:i,onSuccess:o})=>{const[d,f]=y.useState(""),[m,g]=y.useState([]),[b,x]=y.useState(!1),[v,h]=y.useState(!1);y.useEffect(()=>{if(!s)return;(async()=>{h(!0);try{const j=localStorage.getItem(ve.PACKAGES);j&&g(JSON.parse(j));const C=(await Fs.getAll()).data||[];g(C),localStorage.setItem(ve.PACKAGES,JSON.stringify(C))}catch(j){console.error("Error fetching packages:",j),oe.error("Failed to load packages")}finally{h(!1)}})()},[s]);const S=async()=>{if(!i?.id||!d){oe.error("Please select a package");return}if(d===i.packageId){oe.error("Please select a different package than the current one");return}x(!0);try{const k={package_id:d};await Ht.update(String(i.id),k);const j=m.find(T=>T.id===d);oe.success(`Subscription updated to ${j?.name} successfully!`),f(""),l(),o?.()}catch(k){oe.error(k.message||"Failed to update subscription. Please try again.")}finally{x(!1)}},E=m.find(k=>k.id===i?.packageId),N=m.find(k=>k.id===d);return a.jsx(Qe,{isOpen:s,onClose:l,title:"Change Subscription Plan",maxWidth:"max-w-2xl",children:a.jsxs("div",{className:"space-y-6",children:[E&&a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-800",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-600 dark:text-blue-400 tracking-widest mb-2",children:"Current Subscription"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:E.name}),a.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[E.speed_down," / ",E.speed_up]})]}),a.jsxs("p",{className:"text-lg font-black text-blue-600 dark:text-blue-400",children:["KSH ",E.price.toLocaleString()]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1 block mb-3",children:"Select New Package"}),v?a.jsxs("div",{className:"flex items-center justify-center py-6",children:[a.jsx("div",{className:"w-6 h-6 border-3 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading packages..."})]}):m.length===0?a.jsx("div",{className:"py-6 text-center text-gray-500",children:a.jsx("p",{className:"text-sm",children:"No packages available"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.map(k=>a.jsxs("div",{onClick:()=>f(k.id),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${d===k.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":k.id===i?.packageId?"border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 opacity-60":"border-gray-200 dark:border-slate-700 hover:border-blue-400"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:k.name}),a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:[k.speed_down," / ",k.speed_up]})]}),k.id===i?.packageId&&a.jsx("span",{className:"text-[8px] font-black uppercase text-gray-400 bg-gray-200 dark:bg-slate-700 px-2 py-1 rounded",children:"Current"})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-slate-700",children:[a.jsxs("span",{className:"text-[10px] text-gray-500",children:[k.validity_days," days"]}),a.jsxs("span",{className:"text-lg font-black text-blue-600 dark:text-blue-400",children:["KSH ",k.price.toLocaleString()]})]})]},k.id))})]}),N&&N.id!==i?.packageId&&a.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-800",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-600 dark:text-emerald-400 tracking-widest mb-2",children:"New Package Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Package Name:"}),a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:N.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Speed:"}),a.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[N.speed_down," / ",N.speed_up]})]}),a.jsxs("div",{className:"flex justify-between border-t border-emerald-200 dark:border-emerald-800 pt-2 mt-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:"Monthly Cost:"}),a.jsxs("span",{className:"text-lg font-black text-emerald-600 dark:text-emerald-400",children:["KSH ",N.price.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:l,className:"py-3 bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 text-[10px] font-black uppercase rounded-xl hover:bg-gray-200 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:b||!d||d===i?.packageId,className:`py-3 text-[10px] font-black uppercase rounded-xl transition-all ${b||!d||d===i?.packageId?"bg-blue-400 dark:bg-blue-800 text-white opacity-60 cursor-not-allowed":"bg-blue-600 dark:bg-blue-700 text-white hover:bg-blue-700 dark:hover:bg-blue-600 shadow-lg shadow-blue-500/20 active:scale-95"}`,children:b?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"inline-block w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating..."]}):"Update Plan"})]})]})})},JN=s=>({id:s?.id?.toString()||"",subscriberId:s?.customer_id?.toString()||"",mpesaCode:s?.mpesa_code||s?.mpesaCode||"",amount:Number(s?.amount)||0,billRef:s?.bill_ref||s?.billRef||"",phone:s?.phone||"",firstName:s?.first_name||s?.firstName||"",lastName:s?.last_name||s?.lastName||"",timestamp:s?.created_at||s?.timestamp||"",status:s?.status||"pending"}),WN=({customer:s,isResolveModalOpen:l,setIsResolveModalOpen:i,onClose:o,onSuccess:d})=>{const[f,m]=ne.useState([]),[g,b]=ne.useState(!1),[x,v]=ne.useState(!1),[h,S]=ne.useState(""),[E,N]=ne.useState(null),[k,j]=ne.useState(!1),[T,C]=ne.useState(null),[z,O]=ne.useState(s?.id||""),[X,I]=ne.useState("");y.useEffect(()=>{if(!l)return;let H=!0;return(async()=>{b(!0),I(""),S(""),N(null),O(s?.id||"");try{const se=await en.getPending(),R=Array.isArray(se?.data)?se.data:se?.data?.data||[];H&&m(R.map(JN))}catch(se){console.error("Error fetching pending payments:",se),H&&(m([]),I(se?.message||"Failed to load pending payments"))}finally{H&&b(!1)}})(),()=>{H=!1}},[s?.id,l]);const Z=()=>{i(!1),N(null),j(!1),C(null),O(""),S(""),I(""),o&&o()},ue=async H=>{if(!(!H||!z||x)){v(!0),N(H),I("");try{await en.resolvePending(H.id,z),m(me=>me.filter(se=>se.id!==H.id)),d&&d(),Z()}catch(me){console.error("Error resolving payment:",me),I(me?.message||"Failed to resolve pending payment")}finally{v(!1),N(null)}}},ie=H=>{!H||x||(C(H),j(!0))},U=()=>{j(!1),C(null)},ce=async()=>{T&&(j(!1),await ue(T),C(null))},te=y.useMemo(()=>{const H=h.trim().toLowerCase();return f.filter(me=>me.status!=="pending"?!1:H?me.mpesaCode.toLowerCase().includes(H)||me.phone.includes(H)||me.lastName.toLowerCase().includes(H):!0)},[f,h]);return a.jsx(Qe,{isOpen:l,onClose:Z,title:"Search Pending Receipts",maxWidth:"max-w-lg",children:a.jsxs("div",{className:"relative space-y-4",children:[a.jsxs("p",{className:"text-[10px] font-black uppercase text-gray-400 bg-gray-50 dark:bg-slate-800 px-3 py-2 rounded-lg border border-gray-100 dark:border-slate-700",children:["Select a pending transaction to link to ",s?.firstName||"subscriber"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search M-Pesa Code or Phone...",value:h,onChange:H=>S(H.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold focus:ring-2 focus:ring-blue-500"})]}),X&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-800",children:a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:X})}),a.jsx("div",{className:"max-h-[350px] overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:g?a.jsx("div",{className:"py-16 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-2 text-gray-400 text-xs font-semibold",children:[a.jsx("span",{className:"inline-block w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}),"Loading pending receipts..."]})}):te.length>0?te.map(H=>a.jsxs("div",{onClick:()=>ie(H),className:`p-4 bg-white dark:bg-slate-800 rounded-xl border border-gray-100 dark:border-slate-700 transition-all group shadow-sm ${x?"cursor-not-allowed opacity-70":"hover:border-blue-500 cursor-pointer"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:"font-mono font-black text-gray-900 dark:text-white tracking-tight",children:H.mpesaCode}),a.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-black text-sm",children:["KSH ",H.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[a.jsxs("span",{className:"text-gray-400 font-bold uppercase tracking-tighter",children:["Phone: ",H.phone]}),a.jsx("span",{className:"text-blue-500 font-black uppercase tracking-widest transition-opacity",children:E?.id===H.id?"Linking...":"Select Payment & Link"})]})]},H.id)):a.jsx("div",{className:"py-20 text-center",children:a.jsx("p",{className:"text-xs text-gray-400 italic font-medium",children:"No pending payments match your search."})})}),k&&a.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black/40 backdrop-blur-[1px] p-4",children:a.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 p-5 shadow-2xl",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Confirm Link"}),a.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-white mt-1",children:["Link this receipt to ",s?.firstName||"this subscriber","?"]})]}),a.jsx("button",{onClick:U,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200","aria-label":"Close confirmation",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"mt-4 rounded-xl border border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/60 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-slate-200",children:T?.mpesaCode||"Receipt"}),a.jsxs("span",{className:"text-xs font-black text-emerald-600 dark:text-emerald-400",children:["KSH ",T?.amount.toLocaleString()]})]}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-500 dark:text-slate-300",children:["Phone: ",T?.phone||"-"]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:U,className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-4 py-2 text-xs font-black uppercase text-slate-500 dark:text-slate-300 transition-colors hover:bg-slate-100 dark:hover:bg-slate-700",children:"Cancel"}),a.jsx("button",{onClick:ce,className:"rounded-xl bg-blue-600 px-4 py-2 text-xs font-black uppercase text-white shadow-lg shadow-blue-600/30 transition-colors hover:bg-blue-500",children:"Confirm Link"})]})]})})]})})},Fp=({customerPayments:s})=>{const[l,i]=y.useState(1),[o,d]=y.useState(5),f=Math.max(1,Math.ceil((s?.length||0)/o)),m=(l-1)*o,g=(s||[]).slice(m,m+o);return a.jsxs(Le,{title:"Payment Ledger History",className:"rounded-[2.5rem] border-none shadow-sm overflow-hidden",children:[a.jsx("div",{className:"max-h-[420px] overflow-y-auto overflow-x-auto -mx-6 -mt-4",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30 border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Date"}),a.jsx("th",{className:"py-4 px-6",children:"M-Pesa Code"}),a.jsx("th",{className:"py-4 px-6",children:"Description"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Phone"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:g.length>0?g.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-xs text-gray-500 font-medium",children:new Date(b.timestamp).toLocaleString()}),a.jsx("td",{className:"py-4 px-6 font-mono font-black text-gray-900 dark:text-white tracking-widest",children:b.mpesaCode}),a.jsx("td",{className:"py-4 px-6 text-xs text-gray-400",children:b.billRef}),a.jsxs("td",{className:"py-4 px-6 font-black text-emerald-600",children:["KSH ",b.amount.toLocaleString()]}),a.jsx("td",{className:"py-4 px-6 font-mono text-gray-700 dark:text-gray-300",children:b.phone}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx(rt,{variant:b.status,children:b.status.toUpperCase()})})]},b.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-12 text-center text-gray-400 italic",children:"No transaction history found for this subscriber."})})})]})}),a.jsx(Kr,{currentPage:l,setCurrentPage:i,totalPages:f,rowsPerPage:o,setRowsPerPage:d})]})},e4=({state:s,actions:l,customer:i})=>{const[o,d]=ne.useState(""),[f,m]=ne.useState([]),[g,b]=ne.useState("custom");y.useEffect(()=>{(async()=>{const N=(await Ws.get())?.settings||{};N["notes-template"]&&Array.isArray(N["notes-template"].templates)&&m(N["notes-template"].templates)})()},[]),y.useEffect(()=>{s.isSmsModalOpen||(b("custom"),d(""))},[s.isSmsModalOpen]);const x=S=>{const E=S.target.value;if(b(E),E==="custom")return;const N=f.find(k=>k.id===E);if(N&&i){const k=v(N.content,i);d(k)}},v=(S,E)=>S.replace(/{FirstName}/gi,E.firstName||"").replace(/{LastName}/gi,E.lastName||"").replace(/{Isp}/gi,E.organization?.name||"ISP").replace(/{Expiry}/gi,E.expiryDate||"").replace(/{PackageName}/gi,E.package?.name||"").replace(/{PaidAmount}/gi,E.lastPayment?.amount?.toString()||"0").replace(/{PackageAmount}/gi,E.package?.price?.toString()||"0").replace(/{PhoneNumber}/gi,E.phone||""),h=async S=>{if(!o.trim()){alert("Please enter a message");return}try{l.setIsSmsModalOpen(!1);const E=v(o,S);d("");const N=await Yu.send(S.phone,E,S.id);oe.success("SMS sent successfully!")}catch(E){console.error("SMS send error:",E);const N=E.response?.data?.error||E.response?.data?.message,k=E.message||"Unknown error";oe.error(`Failed: ${N||k}`),d(o),l.setIsSmsModalOpen(!0)}};return a.jsx(Qe,{isOpen:s.isSmsModalOpen,onClose:()=>l.setIsSmsModalOpen(!1),title:`Compose Transmission to ${i.firstName}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-800 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-600 rounded-lg text-white",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-600 tracking-widest leading-none mb-1",children:"Destination Phone"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:i.phone})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Personalization Tags (Click to add)"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{tag:"{FirstName}",label:"First Name"},{tag:"{LastName}",label:"Last Name"},{tag:"{Isp}",label:"ISP Name"},{tag:"{Expiry}",label:"Expiry Date"},{tag:"{PackageName}",label:"Package"},{tag:"{PaidAmount}",label:"Paid Amt"},{tag:"{PackageAmount}",label:"Price"},{tag:"{PhoneNumber}",label:"Phone"}].map(S=>a.jsx("button",{type:"button",onClick:()=>{d(E=>E+" "+S.tag),g!=="custom"&&b("custom")},className:"text-[10px] font-bold px-2 py-1 bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-300 rounded-md hover:bg-emerald-600 hover:text-white transition-colors",children:S.label},S.tag))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-end mb-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Message Body"}),a.jsxs("select",{value:g,onChange:x,className:"text-[10px] font-bold bg-transparent border-none text-emerald-600 p-0 focus:ring-0 cursor-pointer",children:[a.jsx("option",{value:"custom",children:"Custom Message"}),f.filter(S=>S.category==="SMS").map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))]})]}),a.jsx("textarea",{value:o,onChange:S=>{d(S.target.value),g!=="custom"&&b("custom")},rows:4,placeholder:"Enter SMS content or select a template...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-2xl p-4 text-sm font-medium text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"}),a.jsxs("p",{className:"text-[10px] text-right text-gray-400 font-bold mt-1 uppercase tracking-tighter",children:[o.length," Characters"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[a.jsx("button",{onClick:()=>l.setIsSmsModalOpen(!1),className:"py-3 bg-gray-100 dark:bg-slate-800 text-gray-500 text-[10px] font-black uppercase rounded-xl",children:"Discard"}),a.jsx("button",{onClick:()=>h(i),className:"py-3 bg-emerald-600 text-white text-[10px] font-black uppercase rounded-xl shadow-lg shadow-emerald-500/20 active:scale-95",children:"Transmit SMS"})]})]})})},t4=({customerId:s})=>{const[l,i]=y.useState(!1),[o,d]=y.useState([]),[f,m]=y.useState(!1),[g,b]=y.useState(!1);y.useEffect(()=>{l&&!g&&x()},[l]);const x=async()=>{m(!0);try{const S=typeof s=="string"?parseInt(s):s,E=await Yu.getLogs(S,5);console.log("Fetched SMS logs:",E),d(E.data||[]),b(!0)}catch(S){console.error("Failed to fetch SMS logs:",S),oe.error("Failed to load SMS logs")}finally{m(!1)}},v=()=>{i(!l)},h=S=>new Date(S).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs(Le,{title:"SMS Logs",className:"border-none shadow-sm rounded-[2.5rem]",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium italic",children:l?"SMS history for this customer":"Click to view SMS history"}),a.jsx("button",{onClick:v,className:"px-3 py-1.5 text-xs font-bold rounded-lg transition-all hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Hide"]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Show Logs"]})})]}),l&&a.jsx("div",{className:"mt-4 overflow-x-auto -mx-6 border-t dark:border-slate-800 animate-in slide-in-from-top-2 duration-300",children:f?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),a.jsx("p",{className:"text-sm font-medium",children:"No SMS logs found"}),a.jsx("p",{className:"text-xs mt-1",children:"SMS sent to this customer will appear here"})]}):a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-black",children:"Date"}),a.jsx("th",{className:"px-6 py-3 font-black",children:"Message"}),a.jsx("th",{className:"px-6 py-3 font-black",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:o.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:h(S.created_at)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("p",{className:"text-xs text-gray-900 dark:text-white line-clamp-2",children:S.message}),S.error_message&&a.jsxs("p",{className:"text-[10px] text-red-600 dark:text-red-400 mt-1",children:["Error: ",S.error_message]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${S.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:S.status})})]},S.id))})]})})]})},a4=()=>{const s=tn(),{customerId:l}=P2(),[i,o]=y.useState(null),[d,f]=y.useState(null),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(),[S,E]=y.useState({open:!1,type:""}),[N,k]=y.useState(!1),j=ne.useRef(null),{state:T,actions:C}=KN();console.log("rendering customer detail page with customer:");const z=y.useMemo(()=>i?T.payments.filter(te=>te.subscriberId===i.id||te.subscriberId===i.radiusUsername).sort((te,H)=>new Date(H.timestamp).getTime()-new Date(te.timestamp).getTime()):[],[T.payments,i]),O=y.useMemo(()=>z.filter(te=>te.status==="completed").reduce((te,H)=>te+H.amount,0),[z]),X=y.useMemo(()=>{if(!i)return{value:0,unit:"Days"};const te=new Date,me=new Date(i.expiryDate).getTime()-te.getTime();if(me<=0)return{value:0,unit:"Days"};const se=Math.floor(me/(1e3*60)),R=Math.floor(me/(1e3*60*60)),ee=Math.ceil(me/(1e3*60*60*24));return se<60?{value:se,unit:"Minutes"}:R<24?{value:R,unit:"Hours"}:{value:ee,unit:"Days"}},[i?.expiryDate]),I=y.useMemo(()=>d?d.status==="active":!0,[d?.status]),Z=y.useMemo(()=>d&&!i?.isIndependent&&!I,[d,i?.isIndependent,I]),ue=y.useMemo(()=>i?.status==="active"&&!Z,[i?.status,Z]);y.useEffect(()=>{if(!l)return;const te=`${l}-${N}`;j.current!==te&&(j.current=te,ie(),U(),ce())},[l,N]);const ie=async()=>{if(l)try{const te=await Ht.getTechnicalSpecs(l);console.log("Technical specs response:",te),h(te)}catch(te){console.error("Failed to fetch technical specs:",te)}},U=async()=>{if(l){g(!0),x(null);try{const te=await Ht.getWithRelations(l);console.log("Customer data response:",te);const{customer:H}=te;o(H),f(H.parent||null)}catch(te){console.error("Failed to fetch customer:",te),x(te.message||"Failed to load customer details")}finally{g(!1)}}},ce=async()=>{try{const te=await en.getAll(),H=Array.isArray(te?.data)?te.data:te?.data?.data||[];C.setPayments(H)}catch(te){console.error("Error fetching payments:",te)}};return m?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-semibold",children:"Loading customer details..."})]})}):b||!i?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600 font-semibold mb-4",children:b||"Customer not found"}),a.jsx("button",{onClick:()=>s("/crm/customers"),className:"px-4 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700",children:"Back to Customers"})]})}):a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-500 pb-20",children:[a.jsxs("div",{className:"flex md:items-center justify-between gap-4",children:[a.jsxs("button",{onClick:()=>s("/crm/customers"),className:"flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-blue-600 transition-colors w-fit group",children:[a.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-100 dark:border-slate-800 group-hover:border-blue-500 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),a.jsx("span",{className:"hidden sm:block",children:"Back to customers"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{onClick:()=>C.handleStkPush(i),className:"px-4 py-2 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/20",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"STK Push"]}),a.jsxs("button",{onClick:()=>C.setIsSmsModalOpen(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/20",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"Send SMS"]}),a.jsxs("button",{onClick:()=>C.handleEdit(i),className:"px-4 py-2 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-300 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-bold hover:bg-gray-50 dark:hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit Profile"]}),a.jsx("button",{onClick:()=>{C.deleteCustomer(i)},className:"p-2 bg-red-500/10 text-red-600 rounded-xl hover:bg-red-500/20 transition-all",title:"Delete Account",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-slate-800 p-8 overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 text-right flex flex-col items-end gap-2",children:a.jsx(rt,{variant:ue?"active":i.status==="suspended"?"suspended":"expired",children:ue?"ACTIVE":i.status==="suspended"?"PAUSED":"EXPIRED"})}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:"w-32 h-32 rounded-[2rem] bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center text-5xl font-black text-white shadow-2xl shadow-blue-500/30 ring-4 ring-white dark:ring-slate-900",children:[i.firstName?.charAt(0)||"?",i.lastName?.charAt(0)||""]}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-8 h-8 rounded-xl border-4 border-white dark:border-slate-900 flex items-center justify-center shadow-lg ${ue?"bg-green-500":"bg-red-500"}`,children:a.jsx("div",{className:`w-2 h-2 rounded-full bg-white ${ue?"animate-pulse":""}`})})]}),a.jsxs("div",{className:"flex-1 text-center md:text-left",children:[a.jsxs("h3",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-tight mb-2",children:[i.firstName," ",i.lastName]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 mb-6",children:[a.jsxs("p",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-lg font-bold text-xs",children:["ID: ",i.id]}),a.jsxs("p",{className:"px-3 py-1 bg-slate-50 dark:bg-slate-800 text-slate-500 rounded-lg font-mono text-xs uppercase tracking-tighter",children:["@",i.radiusUsername]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-x-8 gap-y-4 text-left",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-blue-500 shadow-sm",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),a.jsx("span",{className:"font-bold text-sm",children:i.phone})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-blue-500 shadow-sm",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("span",{className:"font-bold text-sm truncate",children:i.email||"No Email Record"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-blue-500 shadow-sm",children:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.396 0 4.651.59 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 21a8 8 0 10-16 0"})]})}),a.jsx("span",{className:"font-bold text-sm truncate",children:i.radiusUsername||"No Username Record"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-indigo-500 shadow-sm",children:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-xs text-gray-900 dark:text-white uppercase tracking-tighter leading-none",children:i.location}),a.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[i.apartment,", House ",i.houseNo]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-indigo-500 shadow-sm",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3M3 11h18M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("p",{children:new Date(i.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-indigo-500 shadow-sm",children:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11V7a4 4 0 10-8 0v4"}),a.jsx("rect",{x:"4",y:"11",width:"16",height:"10",rx:"2",ry:"2",strokeWidth:2})]})}),a.jsx("p",{children:i.radiusPassword||"No Password Record"})]})]})]})]})]})]}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Kp,{technicalSpecs:v,customer:i,onRefresh:async()=>{await ie()}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Le,{title:"Active Subscription",className:"border-none shadow-sm rounded-[2.5rem] bg-blue-50/30 dark:bg-blue-900/5",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-2xl font-black text-gray-900 dark:text-white leading-tight",children:i.package?.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-blue-600 tracking-widest",children:i.connectionType}),a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:[i.package?.speed_down," Plan"]})]})]}),a.jsxs("p",{className:"text-2xl font-black text-blue-600",children:["KSH ",i.package?.price.toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-blue-100 dark:border-blue-900/20",children:[i?.extensionDate&&a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Extension Date"}),a.jsx("span",{className:"text-[10px] font-bold text-gray-500",children:new Date(i.extensionDate).toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Expiry Date"}),a.jsx("span",{className:"text-[10px] font-bold text-gray-500",children:new Date(i.expiryDate).toLocaleString()})]}),a.jsx("p",{className:`text-xl font-black ${ue?X.unit!=="Days"||X.value<5?"text-red-500 animate-pulse":"text-emerald-500":"text-slate-400"}`,children:ue?`${X.value} ${X.unit} Remaining`:"Service Disconnected"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>C.handlePauseService(i),className:`flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${i.status==="suspended"?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400 hover:bg-amber-200"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.status==="suspended"?"Resume Service":"Pause Service"]}),a.jsxs("button",{onClick:()=>E({open:!0,type:"extension"}),className:"flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-500/20 hover:bg-indigo-700 transition-all",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Extend Period"]})]}),a.jsx("button",{onClick:()=>E({open:!0,type:"expiry"}),className:"w-full py-3 border border-red-200 dark:border-blue-800 text-red-600 dark:text-red-400 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-red-50 dark:hover:bg-red-900/10 transition-all",children:"Change Expiry Date"}),a.jsx("button",{onClick:()=>C.setIsPackageModalOpen(!0),className:"w-full py-3 border border-dashed border-blue-200 dark:border-blue-800 text-blue-600 dark:text-blue-400 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all",children:"Change Subscription Plan"})]})]})}),a.jsx(Le,{title:"Financial Insight",className:"border-none shadow-sm rounded-[2.5rem]",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-800",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Account Balance"}),a.jsxs("p",{className:`text-3xl font-black ${i.balance<0?"text-red-500":"text-emerald-500"}`,children:["KSH ",i.balance.toLocaleString()]})]}),a.jsx("div",{className:"p-3 bg-white dark:bg-slate-900 rounded-2xl shadow-sm",children:a.jsx("svg",{className:`w-8 h-8 ${i.balance<0?"text-red-500":"text-green-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsxs("div",{className:"p-5 bg-emerald-50/50 dark:bg-emerald-900/5 rounded-2xl border border-emerald-100 dark:border-emerald-900/20",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-1",children:"Total Lifetime Spend"}),a.jsxs("p",{className:"text-xl font-black text-emerald-700 dark:text-emerald-400",children:["KSH ",O.toLocaleString()]}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold mt-1 uppercase italic",children:"Sum of all completed receipts"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:()=>C.setIsDepositModalOpen(!0),className:"py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-[10px] font-black uppercase rounded-xl transition-all hover:opacity-90",children:"Direct Deposit"}),a.jsx("button",{onClick:()=>C.setIsReconcileModalOpen(!0),className:"py-3 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 text-[10px] font-black uppercase rounded-xl transition-all hover:bg-gray-50 dark:hover:bg-slate-800",children:"Reconcile M-Pesa"})]})]})})]}),a.jsx("div",{className:"hidden lg:block",children:a.jsx(Fp,{customerPayments:z})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(Kp,{technicalSpecs:v,customer:i,onRefresh:async()=>{await ie()}})}),a.jsxs(Le,{title:"Authentication Records",className:"border-none shadow-sm rounded-[2.5rem]",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("p",{className:"text-xs text-gray-500 font-medium italic",children:"Detailed RADIUS authentication and accounting trail."})}),a.jsx("div",{className:"mt-4 overflow-x-auto -mx-6 border-t dark:border-slate-800 animate-in slide-in-from-top-2 duration-300",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Reply"}),a.jsx("th",{className:"py-4 px-6",children:"Auth Status"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:v?.logs?.data?.map(te=>a.jsxs("tr",{className:"hover:bg-blue-50/10 transition-colors",children:[a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:te.reply})," ",a.jsx("br",{}),a.jsx("span",{className:" text-xs text-gray-500 font-mono",children:te.time})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx(rt,{variant:te.status_label.toLowerCase()==="auth successful"?"active":"expired",children:te.status_label.toUpperCase()})})]},te.id))||a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"py-10 text-center text-xs text-gray-400 italic",children:"No logs found in the core database."})})})]})})]}),a.jsx(Le,{title:"Relational Hierarchy",className:"rounded-[2.5rem] border-none shadow-sm bg-purple-50/50 dark:bg-purple-900/5",children:a.jsxs("div",{className:"space-y-4",children:[d?a.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 rounded-2xl border border-purple-200 dark:border-purple-800 shadow-sm",children:[a.jsx("p",{className:"text-[9px] font-black text-purple-600 uppercase tracking-widest mb-2",children:"Primary Billing Parent"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[d.firstName," ",d.lastName]}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-mono",children:["@",d.radiusUsername]})]}),a.jsx("button",{onClick:()=>s(`/crm/customers/${d.id}`),className:"px-3 py-1 bg-purple-100 dark:bg-purple-800 text-purple-600 dark:text-purple-300 rounded-lg text-[10px] font-black uppercase tracking-tighter",children:"Switch"})]})]}):a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-900 rounded-2xl border border-purple-200 dark:border-purple-800 shadow-sm gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-purple-600 flex items-center justify-center text-white shadow-lg",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-purple-600 uppercase tracking-widest leading-none mb-1",children:"Identity Rank"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-tighter",children:"Master Account"})]}),a.jsxs("button",{onClick:()=>C.handleAddChild(i),className:"px-4 py-2 bg-purple-600 text-white rounded-xl text-sm font-bold hover:bg-purple-700 transition-all flex items-center gap-2 shadow-lg shadow-purple-500/20",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Sub-Account"]})]}),i.subAccounts?.length>0&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest px-2",children:["Sub-Accounts (",i.subAccounts.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.subAccounts?.map(te=>a.jsxs("div",{onClick:()=>s(`/crm/customers/${te.id}`),className:"p-3 bg-white dark:bg-slate-900 rounded-xl border border-gray-100 dark:border-slate-800 cursor-pointer hover:border-purple-500 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("span",{className:"text-xs font-black text-gray-900 dark:text-white uppercase tracking-tighter",children:te.isIndependent?"Independent Billing":"Shared Billing"}),a.jsx("div",{className:`rounded-md px-1 ${te.status==="active"?"bg-emerald-500":"bg-red-500"}`,children:te.status})]}),a.jsx("div",{className:"flex flex-col gap-0.5",children:a.jsxs("p",{className:"text-[12px] text-gray-700 font-mono tracking-tighter",children:[te.radiusPassword,"  ",te.radiusUsername]})})]},te.id))})]})]})}),i&&a.jsx(t4,{customerId:i.id}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Fp,{customerPayments:z})})]})]}),a.jsx(e4,{state:T,actions:C,customer:i}),a.jsx(zg,{isOpen:T.isCustomerModalOpen,onClose:()=>C.setIsCustomerModalOpen(!1),setIsCustomerModalOpen:C.setIsCustomerModalOpen,editingCustomer:T.editingCustomer,setEditingCustomer:C.setEditingCustomer,customers:[],onSuccess:()=>k(!N)}),a.jsx(FN,{isOpen:T.isDepositModalOpen,setIsDepositModalOpen:C.setIsDepositModalOpen,customer:i,onSuccess:()=>k(!N)}),a.jsx(QN,{isChangeDateModalOpen:S,setIsChangeDateModalOpen:E,customer:i,onSuccess:()=>k(!N)}),a.jsx(ZN,{isOpen:T.isPackageModalOpen,onClose:()=>C.setIsPackageModalOpen(!1),customer:i,onSuccess:()=>k(!N)}),a.jsx(WN,{customer:i,isResolveModalOpen:T.isReconcileModalOpen,setIsResolveModalOpen:C.setIsReconcileModalOpen,onClose:()=>C.setIsReconcileModalOpen(!1),onSuccess:()=>k(!N)})]})},s4=({isResolveModalOpen:s,setIsResolveModalOpen:l,reconcilingPayment:i,setReconcilingPayment:o,onResolved:d})=>{const[f,m]=ne.useState([]),[g,b]=ne.useState(""),[x,v]=ne.useState(""),[h,S]=ne.useState(!1),[E,N]=ne.useState("");y.useEffect(()=>{s&&(b(""),v(""),N(""),S(!1),Ht.getAll().then(T=>{const C=Array.isArray(T?.data)?T.data:T?.data?.data||[];m(C)}).catch(T=>{console.error("Error fetching customers for reconciliation:",T),m([])}))},[s]);const k=y.useMemo(()=>{const T=x.trim().toLowerCase();return T?f.filter(C=>{const z=`${C.firstName||""} ${C.lastName||""}`.toLowerCase(),O=(C.radiusUsername||"").toLowerCase(),X=(C.phone||"").toLowerCase();return z.includes(T)||O.includes(T)||X.includes(T)}):f},[f,x]),j=async T=>{if(T.preventDefault(),!i||!g){N("Please select a customer");return}S(!0),N("");try{await en.resolvePending(i.id,g),l(!1),o(null),b(""),d&&d()}catch(C){console.error("Error resolving payment:",C),N(C.response?.data?.message||C.message||"Failed to resolve payment")}finally{S(!1)}};return a.jsx(Qe,{isOpen:s,onClose:()=>{l(!1),o(null),b("")},title:"Resolve M-Pesa Receipt",maxWidth:"max-w-lg",children:a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i&&a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-5 rounded-2xl border border-amber-100 dark:border-amber-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-amber-600",children:"Transaction Info"}),a.jsx("span",{className:"font-mono font-black text-amber-700 dark:text-amber-400",children:i.mpesaCode})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-y border-amber-200/50",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Receipt Amount"}),a.jsxs("span",{className:"text-lg font-black text-gray-900 dark:text-white",children:["KSH ",i.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Sender Phone"}),a.jsx("span",{className:"text-xs font-mono font-bold text-gray-700 dark:text-gray-300",children:i.phone})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Target Subscriber Account"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search name, phone, or username...",value:x,onChange:T=>v(T.target.value),className:"w-full pl-9 pr-4 py-3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-xs font-bold focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:k.length>0?k.map(T=>a.jsxs("div",{onClick:()=>b(T.id),className:`p-4 rounded-xl border transition-all group shadow-sm flex items-center justify-between cursor-pointer ${g===T.id?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 hover:border-blue-500"}`,children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[T.firstName," ",T.lastName]}),a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-mono",children:["@",T.radiusUsername||"No Username","  ",T.phone]})]}),a.jsx("div",{className:`transition-opacity ${g===T.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:a.jsx("span",{className:"text-[10px] font-black text-blue-600 dark:text-blue-300 uppercase tracking-widest bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg",children:g===T.id?"Selected":"Link Here"})})]},T.id)):a.jsx("div",{className:"py-12 text-center border-2 border-dashed border-gray-100 dark:border-slate-800 rounded-2xl",children:a.jsx("p",{className:"text-xs text-gray-400 font-medium italic",children:x.trim().length<2?"Start typing to find a subscriber...":"No subscribers match your search."})})}),a.jsx("p",{className:"text-[9px] text-gray-400 mt-1 italic ml-1",children:"Linking this transaction will instantly credit the selected account's balance."})]}),E&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-800",children:a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:E})}),a.jsx("button",{type:"submit",disabled:h||!g,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all active:scale-95 flex items-center justify-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Processing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Confirm Link & Finalize"]})})]})})},n4=()=>{const[s,l]=y.useState(""),[i,o]=y.useState("completed"),[d,f]=y.useState(!1),[m,g]=y.useState(null),[b,x]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PAYMENTS)||"[]")),[v,h]=y.useState(!1);y.useEffect(()=>{S()},[]);const S=async(j=!1)=>{h(!0);try{const T=await en.getAll(),C=Array.isArray(T?.data)?T.data:T?.data?.data||[];x(C),j&&oe.success("Ledger synced successfully!"),localStorage.setItem(ve.PAYMENTS,JSON.stringify(C))}catch(T){console.error("Error fetching payments:",T),oe.error("Failed to sync ledger. Please try again.")}finally{h(!1)}},E=b.filter(j=>j.status==="completed"&&(j.mpesaCode.toLowerCase().includes(s.toLowerCase())||j.subscriberId.toLowerCase().includes(s.toLowerCase())||j.firstName.toLowerCase().includes(s.toLowerCase())||j.lastName.toLowerCase().includes(s.toLowerCase()))),N=b.filter(j=>j.status==="pending"&&(j.mpesaCode.toLowerCase().includes(s.toLowerCase())||j.lastName.toLowerCase().includes(s.toLowerCase())||j.phone.includes(s))),k=()=>{const j=[["Subscriber ID","M-Pesa Code","Amount","Bill Ref","Sender Name","Phone","Status","Timestamp"],...b.map(O=>[O.subscriberId,O.mpesaCode,O.amount,O.billRef,`${O.firstName} ${O.lastName}`,O.phone,O.status,O.timestamp])].map(O=>O.join(",")).join(`
`),T=new Blob([j],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(T),z=document.createElement("a");z.setAttribute("href",C),z.setAttribute("download",`payments_${new Date().toISOString()}.csv`),z.click(),URL.revokeObjectURL(C)};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Financial Ledger"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Revenue tracking and transaction reconciliation center."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>S(!0),className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",title:"Sync Ledger",disabled:v,children:a.jsx("svg",{className:`w-5 h-5 ${v?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("button",{onClick:k,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export CSV"]})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:items-center justify-between",children:[a.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-slate-800 rounded-2xl w-fit shadow-inner",children:[a.jsxs("button",{onClick:()=>o("completed"),className:`px-6 py-2.5 text-sm font-black rounded-xl transition-all flex items-center gap-2 ${i==="completed"?"bg-white dark:bg-slate-700 text-blue-600 shadow-md":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Completed"]}),a.jsxs("button",{onClick:()=>o("pending"),className:`px-6 py-2.5 text-sm font-black rounded-xl transition-all flex items-center gap-2 ${i==="pending"?"bg-white dark:bg-slate-700 text-amber-600 shadow-md":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending",N.length>0&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-amber-500 text-white text-[9px] rounded-full animate-bounce",children:N.length})]})]}),a.jsxs("div",{className:"relative w-full lg:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:`Search ${i} records...`,value:s,onChange:j=>l(j.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-2xl text-sm shadow-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]})]}),i==="pending"?a.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-4 duration-300",children:[a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),a.jsx("h3",{className:"text-sm font-black text-amber-600 dark:text-amber-500 uppercase tracking-widest",children:"Unlinked M-Pesa Receipts"})]}),a.jsx(Le,{title:"Background Recon Queue",className:"border-none shadow-xl shadow-amber-500/5 dark:shadow-none overflow-hidden bg-amber-50/10 dark:bg-amber-900/5 border-amber-100 dark:border-amber-900/20",children:a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-amber-600 dark:text-amber-500 uppercase text-[10px] tracking-widest bg-amber-50/50 dark:bg-amber-900/10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"M-Pesa Code"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Reference Input"}),a.jsx("th",{className:"py-4 px-6",children:"Sender Phone"}),a.jsx("th",{className:"py-4 px-6",children:"Time Received"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Resolve"})]})}),a.jsx("tbody",{className:"divide-y border-t border-amber-100 dark:border-amber-900/20",children:N.length>0?N.map(j=>a.jsxs("tr",{className:"group hover:bg-amber-50 dark:hover:bg-amber-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"font-mono font-black text-gray-900 dark:text-white tracking-tight",children:j.mpesaCode})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"text-amber-600 dark:text-amber-400 font-black",children:["KSH ",j.amount.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-[11px] bg-white dark:bg-slate-800 px-2 py-1 rounded border border-amber-100 dark:border-amber-900/30 text-gray-600 dark:text-gray-300 font-mono",children:j.lastName})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-mono text-xs",children:j.phone})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-xs truncate w-32",children:j.timestamp})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsx("button",{onClick:()=>{g(j),f(!0)},className:"px-3 py-1.5 bg-amber-600 hover:bg-amber-700 text-white text-[10px] font-black uppercase rounded-lg shadow-lg shadow-amber-600/20 transition-all active:scale-95",children:"Link Account"})})]},j.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center opacity-40",children:[a.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"font-medium italic",children:"Reconciliation queue is empty."})]})})})})]})})})]}):a.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("h3",{className:"text-sm font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Successfully Processed"})]}),a.jsx(Le,{title:"Completed Ledger",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30 border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Subscriber"}),a.jsx("th",{className:"py-4 px-6",children:"M-Pesa Code"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Bill ID/Ref"}),a.jsx("th",{className:"py-4 px-6",children:"Sender Name"}),a.jsx("th",{className:"py-4 px-6",children:"Date & Time"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Receipt"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:E.length>0?E.map(j=>a.jsxs("tr",{className:"group hover:bg-blue-50/30 dark:hover:bg-blue-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg text-[11px] font-black uppercase font-mono",children:j.subscriberId})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"font-mono font-bold text-gray-900 dark:text-white tracking-tight",children:j.mpesaCode})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-black",children:["KSH ",j.amount.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:j.billRef})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none mb-1",children:j.firstName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-mono tracking-tighter truncate w-24",children:j.phone})]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-xs truncate w-32",children:new Date(j.timestamp).toLocaleString()})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})})]},j.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-20 text-center text-gray-400 italic text-xs",children:"No matching completed transactions found."})})})]})})})]}),a.jsx(s4,{isResolveModalOpen:d,setIsResolveModalOpen:f,reconcilingPayment:m,setReconcilingPayment:g,onResolved:()=>{S(),f(!1)}})]})},l4=()=>{const[s,l]=y.useState(()=>JSON.parse(localStorage.getItem(ve.TRANSACTIONS)||"[]")),[i,o]=y.useState(""),[d,f]=y.useState(null),[m,g]=y.useState(!1);y.useEffect(()=>{b()},[l]);const b=async(h=!1)=>{g(!0);try{const N=((await Px.getAll()).data||[]).map(k=>({id:k.id.toString(),customer_id:k.customer_id.toString(),customer_name:"",amount:k.amount,type:k.type,category:k.category,method:k.method,description:k.description,date:k.created_at,balance_before:k.balance_before,balance_after:k.balance_after,reference_id:k.reference_id}));l(N),localStorage.setItem(ve.TRANSACTIONS,JSON.stringify(N)),h&&oe.success("Transactions synced successfully!")}catch(S){console.error("Error fetching transactions:",S)}finally{g(!1)}},x=s.filter(h=>h.id.toLowerCase().includes(i.toLowerCase())||h.customer_name.toLowerCase().includes(i.toLowerCase())||h.description.toLowerCase().includes(i.toLowerCase())||h.reference_id?.toLowerCase().includes(i.toLowerCase())),v=()=>{if(s.length===0){oe.info("No transactions to export.");return}const h=[["ID","Customer ID","Customer Name","Amount","Type","Category","Method","Description","Date","Balance Before","Balance After","Reference ID"],...s.map(k=>[k.id,k.customer_id,k.customer_name,k.amount,k.type,k.category,k.method,k.description,k.date,k.balance_before,k.balance_after,k.reference_id||""])].map(k=>k.map(j=>{const T=String(j??"");return T.includes(",")||T.includes('"')||T.includes(`
`)?`"${T.replace(/"/g,'""')}"`:T}).join(",")).join(`
`),S=new Blob([h],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(S),N=document.createElement("a");N.setAttribute("href",E),N.setAttribute("download",`transactions_${new Date().toISOString()}.csv`),N.click(),URL.revokeObjectURL(E),oe.success("Transactions exported.")};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"General Ledger"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Comprehensive audit trail of all financial movements."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>b(!0),className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:a.jsx("svg",{className:`w-5 h-5 ${m?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("button",{onClick:v,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Audit Export"]})]})]}),a.jsxs(Le,{title:"System-Wide Transactions",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by ID, Subscriber or Ref...",value:i,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]})}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"ID"}),a.jsx("th",{className:"py-4 px-6",children:"Subscriber"}),a.jsx("th",{className:"py-4 px-6",children:"Type"}),a.jsx("th",{className:"py-4 px-6",children:"Method"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Date"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Details"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:x.map(h=>a.jsxs("tr",{className:"group hover:bg-blue-50/30 dark:hover:bg-blue-900/10 transition-all",children:[a.jsxs("td",{className:"py-4 px-6 font-mono font-bold text-gray-500 text-[10px]",children:["#",h.id]}),a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none mb-1",children:h.customer_name}),a.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-mono",children:h.customer_id})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black uppercase tracking-tighter ${h.type==="credit"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:h.category})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:h.method})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("span",{className:`font-black ${h.type==="credit"?"text-green-600":"text-red-600"}`,children:[h.type==="credit"?"+":"-"," KSH ",h.amount.toLocaleString()]})}),a.jsx("td",{className:"py-4 px-6 text-gray-500 text-xs font-medium",children:new Date(h.date).toLocaleString()}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx("button",{onClick:()=>f(h),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]},h.id))})]})})]}),a.jsx(Qe,{isOpen:!!d,onClose:()=>f(null),title:"Database Transaction Record",maxWidth:"max-w-lg",children:d&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start border-b dark:border-slate-800 pb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Transaction UUID"}),a.jsx("p",{className:"text-sm font-mono font-black text-gray-900 dark:text-white",children:d.id})]}),a.jsx(rt,{variant:d.type==="credit"?"active":"expired",children:d.type.toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-2xl",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Subscriber"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:d.customer_name})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-2xl",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Payment Method"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:d.method})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest px-1",children:"Ledger Snapshot"}),a.jsxs("div",{className:"p-5 bg-slate-900 rounded-[2rem] text-white shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Balance Before"}),a.jsxs("span",{className:"font-mono text-slate-300",children:["KSH ",d.balance_before.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-4 py-3 border-y border-white/10",children:[a.jsx("span",{className:"text-xs font-black uppercase text-blue-400",children:"Transaction"}),a.jsxs("span",{className:`text-xl font-black ${d.type==="credit"?"text-green-400":"text-red-400"}`,children:[d.type==="credit"?"+":"-"," ",d.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Final Balance"}),a.jsxs("span",{className:"font-mono text-xl font-black text-white",children:["KSH ",d.balance_after.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"p-4 border border-dashed border-gray-200 dark:border-slate-800 rounded-2xl",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Audit Description"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 leading-relaxed italic",children:d.description}),d.reference_id&&a.jsxs("p",{className:"text-[10px] font-mono text-blue-500 mt-2",children:["External Ref: ",d.reference_id]})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx("button",{className:"flex-1 py-3 bg-gray-100 dark:bg-slate-800 text-gray-900 dark:text-white text-xs font-bold rounded-xl hover:bg-gray-200 transition-colors",children:"View Receipt"}),a.jsx("button",{className:"flex-1 py-3 bg-blue-600 text-white text-xs font-bold rounded-xl shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-all",children:"Print Log"})]})]})})]})},r4=({isOpen:s,onClose:l,editingInvoice:i})=>{const[o,d]=y.useState(""),[f,m]=y.useState([{description:"",amount:0}]),[g,b]=y.useState(""),[x,v]=y.useState(new Date().toISOString().split("T")[0]),[h,S]=y.useState(!1),[E,N]=y.useState("unpaid"),[k,j]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),T=ie=>{if(!ie)return"";const U=new Date(ie);return Number.isNaN(U.getTime())?"":U.toISOString().split("T")[0]};y.useEffect(()=>{i?(d(i.customer_id||""),m(i.items||[{description:"",amount:0}]),b(T(i.due_date)),v(T(i.issue_date)||new Date().toISOString().split("T")[0]),S((i.tax??0)>0),N(i.status||"unpaid")):(d(""),m([{description:"Internet Service Fee",amount:0}]),b(new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]),v(new Date().toISOString().split("T")[0]),S(!1),N("unpaid"))},[i,s]),y.useEffect(()=>{try{(async()=>{const ce=(await Ht.getAll()).data||[];j(ce),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(ce))})()}catch(ie){console.error("Error loading initial data:",ie)}},[]);const C=()=>{m([...f,{description:"",amount:0}])},z=ie=>{m(f.filter((U,ce)=>ce!==ie))},O=(ie,U,ce)=>{const te=[...f];te[ie]={...te[ie],[U]:ce},m(te)},X=f.reduce((ie,U)=>ie+(Number(U.amount)||0),0),I=h?X*.16:0,Z=X+I,ue=async ie=>{ie.preventDefault();const U=k.find(H=>H.id===o);if(!U)return;const ce=f.map(H=>({description:H.description,amount:Number(H.amount)||0})),te={...i,customer_id:o,customer_name:`${U.firstName} ${U.lastName}`,items:ce,subtotal:X,tax:I,total:Z,issue_date:x,due_date:g,status:E};try{i?.id?(await ko.update(i.id,te),oe.success("Invoice updated successfully")):(await ko.create(te),oe.success("Invoice created successfully")),l()}catch(H){console.error("Error saving invoice:",H),oe.error("Failed to save invoice")}};return a.jsx(Qe,{isOpen:s,onClose:l,title:i?.id?"Modify Invoice":"Generate Official Invoice",maxWidth:"max-w-2xl",children:a.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Subscriber"}),a.jsxs("select",{required:!0,value:o,onChange:ie=>d(ie.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"",children:"Choose Subscriber..."}),k.map(ie=>a.jsxs("option",{value:ie.id,children:[ie.firstName," ",ie.lastName," (",ie.radiusUsername,")"]},ie.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Due Date"}),a.jsx("input",{required:!0,type:"date",value:g,onChange:ie=>b(ie.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Status"}),a.jsxs("select",{value:E,onChange:ie=>N(ie.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"unpaid",children:"Unpaid"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Tax Options"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Include VAT (16%) on this invoice"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-200",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:ie=>S(ie.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Include Tax"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center px-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Line Items"}),a.jsx("button",{type:"button",onClick:C,className:"text-xs font-black text-blue-600 hover:text-blue-700",children:"+ Add Item"})]}),a.jsx("div",{className:"space-y-2",children:f.map((ie,U)=>a.jsxs("div",{className:"flex gap-2 items-start animate-in slide-in-from-left-2 duration-200",children:[a.jsx("input",{required:!0,type:"text",placeholder:"Service Description",value:ie.description,onChange:ce=>O(U,"description",ce.target.value),className:"flex-1 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-sm font-medium text-gray-900 dark:text-white"}),a.jsxs("div",{className:"w-32 relative",children:[a.jsx("span",{className:"absolute left-3 inset-y-0 flex items-center text-gray-400 text-[10px] font-bold",children:"KSH"}),a.jsx("input",{required:!0,type:"number",placeholder:"0.00",value:ie.amount||"",onChange:ce=>O(U,"amount",ce.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 pl-10 text-sm font-bold text-gray-900 dark:text-white text-right"})]}),f.length>1&&a.jsx("button",{type:"button",onClick:()=>z(U),className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},U))})]}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-[2rem] text-white shadow-xl space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs opacity-60 font-bold uppercase tracking-widest",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["KSH ",X.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs opacity-60 font-bold uppercase tracking-widest border-b border-white/10 pb-4",children:[a.jsx("span",{children:h?"VAT (16%)":"Tax (Excluded)"}),a.jsxs("span",{children:["KSH ",I.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-black uppercase tracking-widest text-blue-400",children:"Total Billed"}),a.jsxs("span",{className:"text-3xl font-black text-white",children:["KSH ",Z.toLocaleString()]})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl shadow-blue-500/20 hover:bg-blue-500 transition-all active:scale-95",children:i?.id?"Update Invoice Ledger":"Commit Official Invoice"})]})})},i4=()=>{const[s,l]=y.useState([]),[i,o]=y.useState(""),[d,f]=y.useState(null),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(!1),[S,E]=y.useState(""),[N,k]=y.useState("ET"),[j,T]=y.useState(""),[C,z]=y.useState(""),[O,X]=y.useState(""),[I,Z]=y.useState("");y.useEffect(()=>{ue(),ie()},[]),y.useEffect(()=>{m||ue()},[m]);const ue=async()=>{h(!0);try{const re=((await ko.getAll()).data||[]).map(A=>({id:A.id?.toString()??"",invoice_number:A.invoice_number,customer_id:A.customer_id?.toString()??"",customer_name:A.customer_name,items:A.items||[],subtotal:Number(A.subtotal)||0,tax:Number(A.tax)||0,total:Number(A.total)||0,issue_date:A.issue_date,due_date:A.due_date,status:A.status}));l(re)}catch(J){console.error("Error fetching invoices:",J),oe.error("Failed to fetch invoices"),l([])}finally{h(!1)}},ie=async()=>{try{const J=await Ws.get(),B=J?.settings||{},re=B.general||{},A=B["payment-gateway"]||{},L=re.business_logo||"",P=J?.acronym||re.acronym||"",F=re.isp_legal_name||J?.name||"",be=(P||F).split(" ").filter(Boolean).slice(0,2).map(Ee=>Ee[0]).join("").toUpperCase()||"ET";E(L),k(be),T(F),z(A.paybill||A.paybill_short_code||""),X(re.support_hotline||""),Z(re.business_address||"")}catch(J){console.error("Error fetching organization branding:",J)}},U=s.filter(J=>J.invoice_number.toLowerCase().includes(i.toLowerCase())||J.customer_name.toLowerCase().includes(i.toLowerCase())),ce=s.filter(J=>J.status!=="paid").reduce((J,B)=>J+B.total,0),te=s.filter(J=>J.status==="paid").reduce((J,B)=>J+B.total,0),H=J=>{f(J),setTimeout(()=>{window.print(),f(null)},500)},me=()=>{x(null),g(!0)},se=J=>{x(J),g(!0)},R=async J=>{if(confirm("Are you sure you want to delete this invoice?"))try{await ko.delete(J),oe.success("Invoice deleted successfully"),ue()}catch(B){console.error("Error deleting invoice:",B),oe.error("Failed to delete invoice")}},ee=()=>{ue()};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[d&&a.jsxs("div",{className:"fixed inset-0 z-[100] bg-white text-black p-12 print:block hidden",id:"printable-invoice",children:[a.jsxs("div",{className:"flex justify-between items-start border-b-2 border-slate-900 pb-8 mb-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"w-12 h-12 bg-slate-900 text-white rounded-lg flex items-center justify-center font-black text-xl mb-4 overflow-hidden",children:S?a.jsx("img",{src:S,alt:"Company Logo",className:"w-full h-full object-contain"}):N}),a.jsx("h1",{className:"text-3xl font-black uppercase tracking-tighter",children:j||"Company Name"}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Official Service Invoice"}),(I||O)&&a.jsxs("div",{className:"mt-2 text-xs text-slate-500 space-y-1",children:[I&&a.jsx("p",{children:I}),O&&a.jsxs("p",{children:["Support: ",O]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h2",{className:"text-5xl font-black text-slate-900 mb-2",children:"INVOICE"}),a.jsx("p",{className:"font-mono font-bold text-lg",children:d.invoice_number})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-20 mb-12",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 mb-2 tracking-widest",children:"Billed To:"}),a.jsx("p",{className:"text-xl font-black",children:d.customer_name}),a.jsxs("p",{className:"text-slate-600",children:["Subscriber ID: ",d.customer_id]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-slate-500 text-sm",children:["Issue Date: ",a.jsx("span",{className:"font-bold text-slate-900",children:new Date(d.issue_date).toLocaleDateString()})]}),a.jsxs("p",{className:"text-slate-500 text-sm",children:["Due Date: ",a.jsx("span",{className:"font-bold text-slate-900",children:new Date(d.due_date).toLocaleDateString()})]}),a.jsxs("p",{className:"text-slate-500 text-sm",children:["Status: ",a.jsx("span",{className:"font-bold text-slate-900 uppercase",children:d.status})]})]})})]}),a.jsxs("table",{className:"w-full mb-12",children:[a.jsx("thead",{className:"border-b-2 border-slate-900",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 text-left font-black uppercase text-xs",children:"Description of Service"}),a.jsx("th",{className:"py-4 text-right font-black uppercase text-xs",children:"Amount (KSH)"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:d.items.map((J,B)=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-5 font-medium",children:J.description}),a.jsx("td",{className:"py-5 text-right font-bold",children:J.amount.toLocaleString()})]},B))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-72 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-slate-500",children:[a.jsx("span",{className:"font-bold uppercase text-[10px]",children:"Subtotal"}),a.jsxs("span",{className:"font-bold",children:["KSH ",d.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-slate-500 border-b pb-3",children:[a.jsx("span",{className:"font-bold uppercase text-[10px]",children:"Tax (VAT 16%)"}),a.jsxs("span",{className:"font-bold",children:["KSH ",d.tax.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between pt-2",children:[a.jsx("span",{className:"font-black uppercase text-sm",children:"Amount Due"}),a.jsxs("span",{className:"text-2xl font-black",children:["KSH ",d.total.toLocaleString()]})]})]})}),a.jsxs("div",{className:"mt-20 pt-8 border-t border-slate-200 text-center",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Payment Methods"}),a.jsxs("p",{className:"text-sm font-medium",children:["Pay via M-PESA Paybill: ",a.jsx("span",{className:"font-black",children:C||"N/A"})," | Account: ",a.jsx("span",{className:"font-black",children:d.customer_id})]}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-6 italic",children:"Thank you for your business. Terms apply."})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Billing & Invoices"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage subscription cycles and manual billing entries."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ee,className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("button",{onClick:me,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Invoice"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest mb-1",children:"Total Paid"}),a.jsxs("p",{className:"text-2xl font-black text-emerald-700 dark:text-emerald-400",children:["KSH ",te.toLocaleString()]})]}),a.jsxs("div",{className:"p-6 bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-amber-500 tracking-widest mb-1",children:"Total Outstanding"}),a.jsxs("p",{className:"text-2xl font-black text-amber-700 dark:text-amber-400",children:["KSH ",ce.toLocaleString()]})]}),a.jsxs("div",{className:"col-span-2 sm:col-span-1 p-6 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest mb-1",children:"Invoice Count"}),a.jsxs("p",{className:"text-2xl font-black text-blue-700 dark:text-blue-400",children:[s.length," Documents"]})]})]}),a.jsxs(Le,{title:"Billing History",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by Invoice # or Customer...",value:i,onChange:J=>o(J.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]})}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Invoice #"}),a.jsx("th",{className:"py-4 px-6",children:"Subscriber"}),a.jsx("th",{className:"py-4 px-6",children:"Total Billed"}),a.jsx("th",{className:"py-4 px-6",children:"Issue Date"}),a.jsx("th",{className:"py-4 px-6",children:"Due Date"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:U.map(J=>a.jsxs("tr",{className:"group hover:bg-blue-50/30 dark:hover:bg-blue-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6 font-mono font-black text-gray-900 dark:text-white",children:J.invoice_number}),a.jsxs("td",{className:"py-5 px-6",children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none mb-1",children:J.customer_name}),a.jsx("p",{className:"text-[10px] text-gray-400 font-mono uppercase tracking-tighter",children:J.customer_id})]}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"font-black text-gray-900 dark:text-white",children:["KSH ",J.total.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6 text-gray-500 text-xs",children:new Date(J.issue_date).toLocaleString()}),a.jsx("td",{className:"py-5 px-6 text-gray-500 text-xs",children:new Date(J.due_date).toLocaleString()}),a.jsx("td",{className:"py-5 px-6",children:a.jsx(rt,{variant:J.status,children:J.status.toUpperCase()})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end items-center gap-1 transition-all",children:[a.jsx("button",{onClick:()=>se(J),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Edit",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>H(J),className:"p-2 text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all",title:"Download / Print",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})}),a.jsx("button",{onClick:()=>R(J.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:"Delete",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},J.id))})]})})]}),a.jsx(r4,{isOpen:m,onClose:()=>g(!1),editingInvoice:b})]})},o4=({isOpen:s,onClose:l,onSave:i,editingExpense:o,categories:d})=>{const[f,m]=y.useState(""),[g,b]=y.useState(""),[x,v]=y.useState(""),[h,S]=y.useState(new Date().toISOString().split("T")[0]),[E,N]=y.useState("Bank Transfer"),[k,j]=y.useState(""),[T,C]=y.useState(!1);y.useEffect(()=>{o?(m(o.description||""),b(o.amount?.toString()||""),v(o.category||(d.length>0?d[0].name:"")),S(o.date?o.date.split("T")[0]:new Date().toISOString().split("T")[0]),N(o.payment_method||"Bank Transfer"),j(o.reference_no||"")):(m(""),b(""),v(d.length>0?d[0].name:""),S(new Date().toISOString().split("T")[0]),N("Bank Transfer"),j(""))},[o,s,d]);const z=async O=>{O.preventDefault(),C(!0);try{const X={...o,description:f,amount:parseFloat(g),category:x,date:h,payment_method:E,reference_no:k};await i(X),oe.success(o?.id?"Expense updated successfully":"Expense recorded successfully"),l()}catch(X){console.error("Error saving expense:",X),oe.error("Failed to save expense. Please try again.")}finally{C(!1)}};return a.jsx(Qe,{isOpen:s,onClose:l,title:o?.id?"Update Expense Record":"Record New Expenditure",maxWidth:"max-w-xl",children:a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Expense Description"}),a.jsx("input",{required:!0,type:"text",value:f,onChange:O=>m(O.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. Monthly Electricity Bill"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Category"}),a.jsxs("select",{required:!0,value:x,onChange:O=>v(O.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[d.length===0&&a.jsx("option",{value:"",children:"No categories defined"}),d.map(O=>a.jsx("option",{value:O.name,children:O.name},O.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Amount (KSH)"}),a.jsx("input",{required:!0,type:"number",value:g,onChange:O=>b(O.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-black",placeholder:"0.00"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Expense Date"}),a.jsx("input",{required:!0,type:"date",value:h,onChange:O=>S(O.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Payment Method"}),a.jsxs("select",{value:E,onChange:O=>N(O.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"Bank Transfer"}),a.jsx("option",{children:"M-Pesa"}),a.jsx("option",{children:"Cash"}),a.jsx("option",{children:"Cheque"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Reference / Receipt No."}),a.jsx("input",{type:"text",value:k,onChange:O=>j(O.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono",placeholder:"e.g. TXN-12345678"})]}),a.jsx("button",{type:"submit",disabled:T,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-black py-4 rounded-2xl shadow-xl hover:opacity-90 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Saving...":o?.id?"Update Audit Record":"Confirm Expenditure"})]})})},c4=({isOpen:s,onClose:l,categories:i,onAdd:o,onDelete:d})=>{const[f,m]=y.useState(""),g=b=>{b.preventDefault(),f.trim()&&(o(f.trim()),m(""))};return a.jsx(Qe,{isOpen:s,onClose:l,title:"Manage Expense Categories",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:f,onChange:b=>m(b.target.value),className:"flex-1 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-sm font-bold text-gray-900 dark:text-white",placeholder:"Category Name (e.g. Fuel)"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-sm hover:bg-blue-700 transition-colors",children:"Add"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest px-1",children:"Active Categories"}),a.jsx("div",{className:"max-h-60 overflow-y-auto pr-1 space-y-1",children:i.map(b=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-800/50 rounded-xl group transition-all",children:[a.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:b.name}),a.jsx("button",{onClick:()=>d(b.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},b.id))})]})]})})},d4={Utilities:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Equipment:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Salaries:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Marketing:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),Maintenance:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Rent:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Other:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})},bu=[{id:"cat-utilities",name:"Utilities"},{id:"cat-equipment",name:"Equipment"},{id:"cat-salaries",name:"Salaries"},{id:"cat-marketing",name:"Marketing"},{id:"cat-maintenance",name:"Maintenance"},{id:"cat-rent",name:"Rent"},{id:"cat-other",name:"Other"}],u4=()=>{const[s,l]=y.useState([]),[i,o]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CATEGORIES)||"[]")),[d,f]=y.useState(!1),[m,g]=y.useState(""),[b,x]=y.useState("All"),[v,h]=y.useState(""),[S,E]=y.useState(""),[N,k]=y.useState(!1),[j,T]=y.useState(null),[C,z]=y.useState(1),[O,X]=y.useState(15),[I,Z]=y.useState(1),[ue,ie]=y.useState(!1);y.useEffect(()=>{ce()},[]),y.useEffect(()=>{U()},[C,O,m,b,v,S]);const U=async()=>{ie(!0);try{const B=await co.getAll(C,O,b,m,v,S),A=(B.data||[]).map(L=>({id:L.id.toString(),description:L.description,amount:parseFloat(L.amount),category:L.category,date:L.date,payment_method:L.payment_method,reference_no:L.reference_no}));l(A),Z(B.last_page||1)}catch(B){console.error("Error fetching expenses:",B),oe.error("Failed to fetch expenses"),l([])}finally{ie(!1)}},ce=async()=>{try{const B=localStorage.getItem(ve.CATEGORIES),re=B?JSON.parse(B):[],A=Array.isArray(re)&&re.length>0?re:bu;o(A),localStorage.setItem(ve.CATEGORIES,JSON.stringify(A))}catch(B){console.error("Error fetching categories:",B),o(bu),localStorage.setItem(ve.CATEGORIES,JSON.stringify(bu))}},te=y.useMemo(()=>s.reduce((B,re)=>B+re.amount,0),[s]),H=()=>{T(null),k(!0)},me=B=>{T(B),k(!0)},se=async B=>{if(confirm("Are you sure you want to delete this expense?"))try{await co.delete(B),oe.success("Expense deleted successfully"),U()}catch(re){console.error("Error deleting expense:",re),oe.error("Failed to delete expense")}},R=()=>U(),ee=()=>f(!0),J=async B=>{try{B.id?await co.update(B.id,B):await co.create(B),U()}catch(re){throw console.error("Error saving expense:",re),re}};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Operational Expenses"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Track company spend and financial overhead."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:R,className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("button",{onClick:ee,className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 px-5 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 hover:bg-slate-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Categories"]}),a.jsxs("button",{onClick:H,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Expense"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-red-500 tracking-widest mb-1",children:"Total in Range"}),a.jsxs("p",{className:"text-2xl font-black text-red-700 dark:text-red-400",children:["KSH ",te.toLocaleString()]})]}),["Equipment","Utilities","Salaries"].map(B=>{const re=s.filter(A=>A.category===B).reduce((A,L)=>A+L.amount,0);return a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-3xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:B}),a.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["KSH ",re.toLocaleString()]})]},B)})]}),a.jsx(Le,{title:"Expense Filters",className:"border-none shadow-sm overflow-visible py-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"Search Description"}),a.jsx("input",{type:"text",placeholder:"Filter by description...",value:m,onChange:B=>g(B.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"Filter Category"}),a.jsxs("select",{value:b,onChange:B=>x(B.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white",children:[a.jsx("option",{value:"All",children:"All Categories"}),i.map(B=>a.jsx("option",{value:B.name,children:B.name},B.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"From Date"}),a.jsx("input",{type:"date",value:v,onChange:B=>h(B.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"To Date"}),a.jsx("input",{type:"date",value:S,onChange:B=>E(B.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})]})}),a.jsxs(Le,{title:"Expenditure Ledger",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Description"}),a.jsx("th",{className:"py-4 px-6",children:"Category"}),a.jsx("th",{className:"py-4 px-6",children:"Method"}),a.jsx("th",{className:"py-4 px-6",children:"Ref No."}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Date"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:ue?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-20 text-center text-gray-400",children:"Loading expenses..."})}):s.length>0?s.map(B=>a.jsxs("tr",{className:"group hover:bg-red-50/30 dark:hover:bg-red-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:B.description})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-7 h-7 bg-gray-100 dark:bg-slate-800 text-gray-400 rounded-lg flex items-center justify-center",children:d4[B.category]||a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01"})})}),a.jsx("span",{className:"text-xs font-bold text-gray-500",children:B.category})]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:B.payment_method})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"font-mono text-[10px] text-slate-400",children:B.reference_no||"--"})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"font-black text-red-600 dark:text-red-400",children:["KSH ",B.amount.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6 text-gray-500 text-xs",children:B.date}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[a.jsx("button",{onClick:()=>me(B),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>se(B.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},B.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-20 text-center text-gray-400 italic",children:m||b!=="All"||v||S?"No expenses found matching the selected filters.":'No expenses recorded yet. Click "Add Expense" to get started.'})})})]})}),a.jsx(Kr,{currentPage:C,setCurrentPage:z,totalPages:I,rowsPerPage:O,setRowsPerPage:X})]}),a.jsx(o4,{isOpen:N,onClose:()=>k(!1),onSave:J,editingExpense:j,categories:i}),a.jsx(c4,{isOpen:d,onClose:()=>f(!1),categories:i,onAdd:B=>o([...i,{id:"c"+Date.now(),name:B}]),onDelete:B=>o(re=>re.filter(A=>A.id!==B))})]})},f4=()=>{const s=tn(),[l,i]=y.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[o,d]=y.useState(new Date().toISOString().split("T")[0]),[f,m]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),[g,b]=y.useState(()=>JSON.parse(localStorage.getItem(ve.EXPENSES)||"[]")),[x,v]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PAYMENTS)||"[]")),[h,S]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),[E,N]=y.useState(!1),[k,j]=y.useState(""),[T,C]=y.useState([]);y.useEffect(()=>{z(),O(),X()},[]);const z=async()=>{try{const B=await en.getAll(),re=Array.isArray(B?.data)?B.data:B?.data?.data||[];v(re)}catch(B){console.error("Error fetching payments:",B)}},O=async()=>{try{const re=(await Ht.getAll()).data||[];m(re),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(re))}catch(B){console.error("Error loading initial data:",B)}},X=async()=>{try{const B=await Fs.getAll();localStorage.setItem(ve.PACKAGES,JSON.stringify(B.data||[])),S(B.data||[])}catch(B){console.error("Error fetching packages:",B)}},I=y.useMemo(()=>{const B=new Date(l),re=new Date(o),A=x.filter(F=>{const de=new Date(F.timestamp);return de>=B&&de<=re}),L=g.filter(F=>{const de=new Date(F.date);return de>=B&&de<=re}),P=f.filter(F=>{const de=new Date(F.createdAt);return de>=B&&de<=re});return{filteredPayments:A,filteredExpenses:L,filteredCustomers:P}},[x,g,f,l,o]),Z=I.filteredPayments.reduce((B,re)=>B+re.amount,0),ue=I.filteredExpenses.reduce((B,re)=>B+re.amount,0),ie=Z-ue,U=f.filter(B=>B.balance<0),ce=f.filter(B=>B.balance>0),te=U.reduce((B,re)=>B+Math.abs(re.balance),0),H=ce.reduce((B,re)=>B+re.balance,0),me=y.useMemo(()=>{const B=new Date,re=new Date;return re.setDate(B.getDate()-7),f.filter(A=>{const L=new Date(A.expiryDate);return A.status!=="active"||L<B&&L>=re}).reduce((A,L)=>{const P=h.find(F=>F.id===L.packageId);return A+(Number(P?.price)||0)},0)},[f,h]),se=y.useMemo(()=>h.map(B=>{const re=f.filter(P=>P.packageId===B.id).length,A=f.filter(P=>P.packageId===B.id).map(P=>P.id),L=I.filteredPayments.filter(P=>A.includes(P.subscriberId)).reduce((P,F)=>P+F.amount,0);return{name:B.name,count:re,percentage:f.length>0?re/f.length*100:0,revenue:L}}).sort((B,re)=>re.revenue-B.revenue),[h,f,I.filteredPayments]),R=()=>{j("Arrears Breakdown (Negative Balances)"),C(U),N(!0)},ee=()=>{j("Surplus Breakdown (Positive Balances)"),C(ce),N(!0)},J=B=>h.find(re=>re.id===B)?.name||"Unknown";return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white dark:bg-slate-900 p-6 rounded-[2rem] shadow-sm border border-gray-100 dark:border-slate-800",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black tracking-tight text-gray-900 dark:text-white",children:"Business Intelligence"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Aggregate data analysis for fiscal period: ",a.jsxs("span",{className:"font-bold text-blue-600 uppercase",children:[l," to ",o]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-slate-800 p-1.5 rounded-xl gap-2",children:[a.jsx("input",{type:"date",value:l,onChange:B=>i(B.target.value),className:"bg-transparent border-none text-xs font-bold focus:ring-0 text-gray-700 dark:text-gray-300"}),a.jsx("span",{className:"text-gray-400 font-black",children:""}),a.jsx("input",{type:"date",value:o,onChange:B=>d(B.target.value),className:"bg-transparent border-none text-xs font-bold focus:ring-0 text-gray-700 dark:text-gray-300"})]}),a.jsx("button",{className:"p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all active:scale-95 shadow-lg shadow-blue-500/20",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-[2rem] shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Gross Revenue"}),a.jsxs("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["KSH ",Z.toLocaleString()]}),a.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-emerald-500 font-bold",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),a.jsxs("span",{children:[I.filteredPayments.length," Payments Collected"]})]})]}),a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-[2rem] shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Total Expenses"}),a.jsxs("p",{className:"text-2xl font-black text-red-600 dark:text-red-400",children:["KSH ",ue.toLocaleString()]}),a.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-red-500 font-bold",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),a.jsxs("span",{children:[I.filteredExpenses.length," Ledger Items"]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-1",children:"Net Profit (EBITDA)"}),a.jsxs("p",{className:"text-3xl font-black text-blue-400",children:["KSH ",ie.toLocaleString()]}),a.jsx("div",{className:"mt-2",children:a.jsx(rt,{variant:ie>0?"active":"expired",children:ie>0?"PROFITABLE":"LOSS"})})]}),a.jsx("div",{className:"absolute right-[-10%] bottom-[-20%] w-24 h-24 bg-blue-500/10 rounded-full blur-2xl group-hover:bg-blue-500/20 transition-all"})]}),a.jsxs("div",{className:"p-6 bg-indigo-600 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-indigo-200 tracking-widest mb-1",children:"Expected Earning"}),a.jsxs("p",{className:"text-2xl font-black",children:["KSH ",me.toLocaleString()]}),a.jsx("p",{className:"text-[10px] text-indigo-200 mt-2 font-bold uppercase",children:"From recently expired Subs"})]}),a.jsx("div",{className:"absolute left-[-10%] top-[-20%] w-24 h-24 bg-white/5 rounded-full blur-2xl"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Le,{title:"Unpaid Earnings (Arrears)",className:"rounded-[2.5rem] border-none shadow-xl shadow-red-500/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-3xl font-black text-red-600 dark:text-red-400",children:["KSH ",te.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total amount owed by ",a.jsx("span",{className:"font-bold",children:U.length})," customers with negative balances."]}),a.jsx("button",{onClick:R,className:"mt-4 px-4 py-2 bg-red-600 text-white text-[10px] font-black uppercase rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-600/20",children:"View Arrears Detail"})]}),a.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center text-red-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),a.jsx(Le,{title:"Paid Earnings (Surplus)",className:"rounded-[2.5rem] border-none shadow-xl shadow-emerald-500/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400",children:["KSH ",H.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total credit held by ",a.jsx("span",{className:"font-bold",children:ce.length})," customers with positive balances."]}),a.jsx("button",{onClick:ee,className:"mt-4 px-4 py-2 bg-emerald-600 text-white text-[10px] font-black uppercase rounded-xl hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20",children:"View Surplus Detail"})]}),a.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center text-emerald-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(Le,{title:"Revenue by Package",className:"lg:col-span-2 rounded-[2.5rem] overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto -mx-6 -mt-4",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30 border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Service Plan"}),a.jsx("th",{className:"py-4 px-6",children:"Subscribers"}),a.jsx("th",{className:"py-4 px-6",children:"Market Share"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Generated Revenue"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:se.map(B=>a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none",children:B.name})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[B.count," Active"]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-600",style:{width:`${B.percentage}%`}})}),a.jsxs("span",{className:"text-[10px] font-black text-gray-400",children:[B.percentage.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("span",{className:"font-black text-gray-900 dark:text-white",children:["KSH ",B.revenue.toLocaleString()]})})]},B.name))})]})})}),a.jsx(Le,{title:"Asset Allocation",className:"rounded-[2.5rem]",children:a.jsxs("div",{className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Top Revenue Contributor"}),a.jsx("p",{className:"text-lg font-black text-blue-600",children:se[0]?.name||"N/A"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Responsible for ",se[0]?(se[0].revenue/(Z||1)*100).toFixed(1):0,"% of collections."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[a.jsx("span",{className:"text-gray-500 uppercase",children:"Operational Efficiency"}),a.jsx("span",{className:"text-emerald-500",children:"92%"})]}),a.jsx("div",{className:"w-full h-2 bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"92%"}})}),a.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Calculation based on collection vs provisioned bandwidth costs."})]})]})})]}),a.jsx(Le,{title:"Operational Overhead Breakdown",className:"rounded-[2.5rem] overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Expense Category"}),a.jsx("th",{className:"py-4 px-6",children:"Entries"}),a.jsx("th",{className:"py-4 px-6",children:"Total Spent"}),a.jsx("th",{className:"py-4 px-6",children:"Budget Impact"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Status"})]})}),a.jsxs("tbody",{className:"divide-y dark:divide-slate-800",children:[Array.from(new Set(g.map(B=>B.category))).map(B=>{const re=I.filteredExpenses.filter(P=>P.category===B).reduce((P,F)=>P+F.amount,0),A=I.filteredExpenses.filter(P=>P.category===B).length,L=ue>0?re/ue*100:0;return a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-4 px-6 font-bold text-gray-900 dark:text-white",children:B}),a.jsxs("td",{className:"py-4 px-6 text-gray-500 font-medium",children:[A," records"]}),a.jsxs("td",{className:"py-4 px-6 font-black text-gray-900 dark:text-white",children:["KSH ",re.toLocaleString()]}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-20 h-1.5 bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-500",style:{width:`${L}%`}})}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[L.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx(rt,{variant:L>30?"expired":"active",children:L>30?"CRITICAL":"STABLE"})})]},B)}),g.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400 italic",children:"No expenses recorded in the selected period."})})]})]})})}),a.jsxs(Qe,{isOpen:E,onClose:()=>N(!1),title:k,maxWidth:"max-w-4xl",children:[a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Customer Name"}),a.jsx("th",{className:"py-4 px-6",children:"Phone"}),a.jsx("th",{className:"py-4 px-6",children:"Package"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Balance"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:T.length>0?T.map(B=>a.jsxs("tr",{onClick:()=>{s(`/crm/customers/${B.id}`),N(!1)},className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-all cursor-pointer group",children:[a.jsxs("td",{className:"py-4 px-6",children:[a.jsxs("p",{className:"font-bold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors",children:[B.firstName," ",B.lastName]}),a.jsx("p",{className:"text-[9px] text-gray-400 font-mono",children:B.id})]}),a.jsx("td",{className:"py-4 px-6 text-gray-500",children:B.phone}),a.jsx("td",{className:"py-4 px-6 text-xs font-bold text-blue-600",children:J(B.packageId)}),a.jsx("td",{className:"py-4 px-6",children:a.jsx(rt,{variant:B.status,children:B.status})}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsxs("span",{className:`font-black ${B.balance<0?"text-red-500":"text-emerald-500"}`,children:["KSH ",B.balance.toLocaleString()]})})]},B.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400 italic",children:"No customers found for this criteria."})})})]})}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>N(!1),className:"px-6 py-2 bg-slate-900 dark:bg-white dark:text-slate-900 text-white text-xs font-black uppercase rounded-xl",children:"Close Ledger"})})]})]})},m4=({isOpen:s,onClose:l,onSave:i,editingLead:o})=>{const[d,f]=y.useState(""),[m,g]=y.useState(""),[b,x]=y.useState(""),[v,h]=y.useState(""),[S,E]=y.useState("new"),[N,k]=y.useState(""),[j,T]=y.useState(!1),[C,z]=y.useState(null);y.useEffect(()=>{o?(f(o.name||""),g(o.phone||""),x(o.email||""),h(o.address||""),E(o.status||"new"),k(o.notes||"")):(f(""),g(""),x(""),h(""),E("new"),k("")),z(null)},[o,s]);const O=async X=>{X.preventDefault(),T(!0),z(null);try{const I={name:d,phone:m,email:b||void 0,address:v||void 0,status:S,notes:N||void 0};o?.id?(await Cn.update(o.id,I),oe.success("Prospect updated successfully")):(await Cn.create(I),oe.success("New sales opportunity created")),i(),l()}catch(I){z(I.message||"Failed to save lead")}finally{T(!1)}};return a.jsx(Qe,{isOpen:s,onClose:l,title:o?.id?"Update Prospect":"New Sales Opportunity",maxWidth:"max-w-md",children:a.jsxs("form",{onSubmit:O,className:"space-y-5",children:[C&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-900/30 rounded-xl p-3 text-red-600 dark:text-red-400 text-sm",children:C}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Prospect Name"}),a.jsx("input",{required:!0,type:"text",value:d,onChange:X=>f(X.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. John Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Phone Number"}),a.jsx("input",{required:!0,type:"tel",value:m,onChange:X=>g(X.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono",placeholder:"+254 7XX XXX XXX"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Email (Optional)"}),a.jsx("input",{type:"email",value:b,onChange:X=>x(X.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"email@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Service Address / Landmark"}),a.jsx("textarea",{rows:3,value:v,onChange:X=>h(X.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm",placeholder:"e.g. Githurai 45, Near Shell Petrol Station"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Initial Status"}),a.jsxs("select",{value:S,onChange:X=>E(X.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-black",children:[a.jsx("option",{value:"new",children:"NEW INQUIRY"}),a.jsx("option",{value:"contacted",children:"CONTACTED"}),a.jsx("option",{value:"survey",children:"FIELD SURVEY REQUIRED"}),a.jsx("option",{value:"lost",children:"NOT INTERESTED / LOST"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Notes (Optional)"}),a.jsx("textarea",{rows:3,value:N,onChange:X=>k(X.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm",placeholder:"Any additional information..."})]}),a.jsx("button",{type:"submit",disabled:j,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":o?.id?"Update Prospect Profile":"Create Opportunity"})]})})},h4=({})=>{const[s,l]=y.useState(""),[i,o]=y.useState("all"),[d,f]=y.useState([]),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(1),[S,E]=y.useState(10),[N,k]=y.useState(1),[j,T]=y.useState(!1),[C,z]=y.useState(null),[O,X]=y.useState({total:0,new:0,contacted:0,survey:0,converted:0,lost:0}),I=async()=>{try{T(!0),z(null);const se=await Cn.getAll(v,S,i,s);f(se.data||[]),k(se.last_page||1)}catch(se){z(se.message||"Failed to fetch leads"),console.error("Error fetching leads:",se)}finally{T(!1)}},Z=async()=>{try{const se=await Cn.getStats();X(se)}catch(se){console.error("Error fetching stats:",se)}};y.useEffect(()=>{I()},[v,S,i,s]),y.useEffect(()=>{Z()},[]);const ue=()=>{I(),Z()},ie=()=>{x(null),g(!0)},U=se=>{x(se),g(!0)},ce=async se=>{if(confirm("Are you sure you want to delete this lead?"))try{await Cn.delete(se),ue()}catch(R){alert(R.message||"Failed to delete lead")}},te=async se=>{try{await Cn.update(se.id,{status:"converted"}),ue()}catch(R){alert(R.message||"Failed to convert lead")}},H=async(se,R)=>{try{await Cn.update(se,{status:R}),ue()}catch(ee){alert(ee.message||"Failed to update status")}},me=()=>{g(!1),ue()};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Leads & Prospects"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Track and convert potential subscribers into the network."})]}),a.jsxs("button",{onClick:ie,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Prospect"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-3xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Total Pipeline"}),a.jsx("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:O.total})]}),a.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest mb-1",children:"New Inquiries"}),a.jsx("p",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:O.new})]}),a.jsxs("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-purple-500 tracking-widest mb-1",children:"Field Surveys"}),a.jsx("p",{className:"text-2xl font-black text-purple-600 dark:text-purple-400",children:O.survey})]}),a.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest mb-1",children:"Converted"}),a.jsx("p",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:O.converted})]})]}),C&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-900/30 rounded-xl p-4 text-red-600 dark:text-red-400",children:C}),a.jsxs(Le,{title:"Prospect Database",className:"border-none shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search prospects...",value:s,onChange:se=>l(se.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex gap-2",children:["all","new","contacted","survey","lost"].map(se=>a.jsx("button",{onClick:()=>o(se),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${i===se?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-gray-100 dark:bg-slate-800 text-gray-500"}`,children:se},se))})]}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Name"}),a.jsx("th",{className:"py-4 px-6",children:"Contact"}),a.jsx("th",{className:"py-4 px-6",children:"Service Address"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),a.jsx("th",{className:"py-4 px-6",children:"Created"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:j?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center text-gray-400",children:a.jsxs("div",{className:"flex justify-center items-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading leads..."]})})}):d.length>0?d.map(se=>a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none",children:se.name})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-xs font-mono text-blue-600 dark:text-blue-400",children:se.phone})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:se.address})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("select",{value:se.status,onChange:R=>H(se.id,R.target.value),className:"bg-transparent border-none text-[10px] font-black uppercase tracking-widest text-blue-600 focus:ring-0 cursor-pointer p-0",children:[a.jsx("option",{value:"new",children:"NEW"}),a.jsx("option",{value:"contacted",children:"CONTACTED"}),a.jsx("option",{value:"survey",children:"SURVEY"}),a.jsx("option",{value:"converted",children:"CONVERTED"}),a.jsx("option",{value:"lost",children:"LOST"})]})}),a.jsx("td",{className:"py-5 px-6 text-xs text-gray-400",children:se.created_at}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[se.status!=="converted"&&se.status!=="lost"&&a.jsx("button",{onClick:()=>te(se),className:"px-3 py-1.5 bg-emerald-500 hover:bg-emerald-600 text-white text-[10px] font-black uppercase rounded-lg shadow-lg shadow-emerald-500/20 transition-all active:scale-95",children:"Convert"}),a.jsx("button",{onClick:()=>U(se),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>ce(se.id),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},se.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center text-gray-400 italic",children:"No prospects found."})})})]})}),a.jsx(Kr,{currentPage:v,setCurrentPage:h,totalPages:N,rowsPerPage:S,setRowsPerPage:E})]}),a.jsx(m4,{isOpen:m,onClose:()=>g(!1),editingLead:b,onSave:me})]})};var Sa=(s=>(s.LOW="low",s.MEDIUM="medium",s.HIGH="high",s.CRITICAL="critical",s))(Sa||{}),wt=(s=>(s.OPEN="open",s.IN_PROGRESS="in-progress",s.CLOSED="closed",s))(wt||{});const p4=({isOpen:s,onClose:l,onSave:i,editingTicket:o})=>{const[d,f]=y.useState("customer"),[m,g]=y.useState(""),[b,x]=y.useState(null),[v,h]=y.useState(!1),[S,E]=y.useState(""),[N,k]=y.useState(""),[j,T]=y.useState(Sa.MEDIUM),[C,z]=y.useState(wt.OPEN),[O,X]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),[I,Z]=y.useState(!1);y.useEffect(()=>{try{(async()=>{const te=(await Ht.getAll()).data||[];X(te),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(te))})()}catch(U){console.error("Error loading initial data:",U)}},[]);const ue=y.useMemo(()=>{if(!m.trim())return[];const U=m.toLowerCase();return O.filter(ce=>ce.firstName.toLowerCase().includes(U)||ce.lastName.toLowerCase().includes(U)||ce.radiusUsername?.toLowerCase().includes(U)||ce.phone.includes(U)).slice(0,5)},[m,O]);y.useEffect(()=>{if(o){if(o.customer_id){f("customer");const U=O.find(ce=>ce.id===o.customer_id);x(U||null),g(o.customer_name||"")}else f("general"),x(null),g("");E(o.subject||""),k(o.description||""),T(o.priority||Sa.MEDIUM),z(o.status||wt.OPEN)}else f("customer"),x(null),g(""),E(""),k(""),T(Sa.MEDIUM),z(wt.OPEN)},[o,s,O]);const ie=async U=>{if(U.preventDefault(),d==="customer"&&!b){oe.error("Please select a customer or switch to General ticket mode.");return}Z(!0);try{const ce={customer_id:d==="customer"?b?.id:void 0,subject:S,description:N,priority:j,status:C};o?.id?(await Nl.update(o.id,ce),oe.success("Ticket updated successfully")):(await Nl.create(ce),oe.success("Service ticket created successfully")),i(),l()}catch(ce){oe.error(ce.message||"Failed to save ticket")}finally{Z(!1)}};return a.jsx(Qe,{isOpen:s,onClose:l,title:o?.id?"Modify Activity Log":"New Service Request",maxWidth:"max-w-lg",children:a.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[a.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-slate-800 rounded-xl w-full border border-gray-200 dark:border-slate-700",children:[a.jsx("button",{type:"button",onClick:()=>f("customer"),className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${d==="customer"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Subscriber Issue"}),a.jsx("button",{type:"button",onClick:()=>{f("general"),x(null),g("")},className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${d==="general"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"General / Internal"})]}),d==="customer"&&a.jsxs("div",{className:"relative animate-in fade-in slide-in-from-top-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1 block mb-1",children:"Search Subscriber"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",value:m,onFocus:()=>h(!0),onChange:U=>{g(U.target.value),b&&U.target.value!==`${b.firstName} ${b.lastName}`&&x(null)},placeholder:"Type name, phone or username...",className:`w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl py-3 pl-10 pr-10 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold transition-all ${b?"ring-2 ring-emerald-500":""}`}),b&&a.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-emerald-500",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),v&&ue.length>0&&!b&&a.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-gray-100 dark:border-slate-800 overflow-hidden animate-in fade-in slide-in-from-top-2",children:ue.map(U=>a.jsxs("button",{type:"button",onClick:()=>{x(U),g(`${U.firstName} ${U.lastName}`),h(!1)},className:"w-full px-4 py-3 text-left hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center justify-between group border-b last:border-0 dark:border-slate-800",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[U.firstName," ",U.lastName]}),a.jsxs("p",{className:"text-[10px] text-gray-500 font-mono",children:[U.radiusUsername," | ",U.phone]})]}),a.jsx("svg",{className:"w-4 h-4 text-gray-300 group-hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]},U.id))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Subject / Issue Summary"}),a.jsx("input",{required:!0,type:"text",value:S,onChange:U=>E(U.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:d==="customer"?"e.g. Broken Drop Fiber":"e.g. Site Maintenance: West Hub"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Priority"}),a.jsxs("select",{value:j,onChange:U=>T(U.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold appearance-none",children:[a.jsx("option",{value:Sa.LOW,children:"LOW"}),a.jsx("option",{value:Sa.MEDIUM,children:"MEDIUM"}),a.jsx("option",{value:Sa.HIGH,children:"HIGH"}),a.jsx("option",{value:Sa.CRITICAL,children:"CRITICAL"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Status"}),a.jsxs("select",{value:C,onChange:U=>z(U.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold appearance-none",children:[a.jsx("option",{value:wt.OPEN,children:"OPEN"}),a.jsx("option",{value:wt.IN_PROGRESS,children:"IN PROGRESS"}),a.jsx("option",{value:wt.CLOSED,children:"CLOSED"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Technical Description"}),a.jsx("textarea",{required:!0,rows:4,value:N,onChange:U=>k(U.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm",placeholder:"Describe the nature of the issue or the task requirements in detail..."})]})]}),a.jsx("button",{type:"submit",disabled:I,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Saving...":o?.id?"Update Action Item":"Create Service Ticket"})]})})},x4=()=>{const[s,l]=y.useState(""),[i,o]=y.useState("all"),[d,f]=y.useState(()=>JSON.parse(localStorage.getItem(ve.TICKETS)||"[]")),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(1),[S,E]=y.useState(10);y.useEffect(()=>{(async()=>{try{const ce=await Nl.getAll(),H=(Array.isArray(ce)?ce:ce.data||[]).map(me=>({id:me.id.toString(),customer_id:me.customer_id?.toString(),customer_name:me.customer?.first_name&&me.customer?.last_name?`${me.customer.first_name} ${me.customer.last_name}`:"",subject:me.subject,description:me.description,priority:me.priority,status:me.status,created_at:me.created_at}));f(H),localStorage.setItem(ve.TICKETS,JSON.stringify(H))}catch(ce){console.error("Error fetching tickets:",ce)}})()},[]);const N=y.useMemo(()=>d.filter(U=>{const ce=U.subject.toLowerCase().includes(s.toLowerCase())||(U.customer_name?.toLowerCase().includes(s.toLowerCase())??!1)||U.id.toLowerCase().includes(s.toLowerCase()),te=i==="all"||U.status===i;return ce&&te}),[d,s,i]),k=Math.max(1,Math.ceil(N.length/S)),j=(v-1)*S,T=N.slice(j,j+S);y.useEffect(()=>{v>k&&h(k)},[v,k]);const C={total:d.length,open:d.filter(U=>U.status===wt.OPEN).length,critical:d.filter(U=>U.priority===Sa.CRITICAL&&U.status!==wt.CLOSED).length,resolved:d.filter(U=>U.status===wt.CLOSED).length},z=async(U,ce)=>{try{await Nl.update(U,ce),f(te=>te.map(H=>H.id===U?{...H,status:ce}:H)),localStorage.setItem(ve.TICKETS,JSON.stringify(d.map(te=>te.id===U?{...te,status:ce}:te)))}catch(te){console.error("Error updating ticket status:",te)}},O=async U=>{try{await Nl.delete(U),f(ce=>ce.filter(te=>te.id!==U))}catch(ce){console.error("Error deleting ticket:",ce)}},X=U=>{switch(U){case Sa.CRITICAL:return a.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-[9px] font-black rounded-full animate-pulse uppercase shadow-sm",children:"Critical"});case Sa.HIGH:return a.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400 text-[9px] font-black rounded-full uppercase",children:"High"});case Sa.MEDIUM:return a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 text-[9px] font-black rounded-full uppercase",children:"Medium"});default:return a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 dark:bg-slate-800 dark:text-slate-400 text-[9px] font-black rounded-full uppercase",children:"Low"})}},I=U=>{switch(U){case wt.OPEN:return a.jsx(rt,{variant:"expired",children:"Open"});case wt.IN_PROGRESS:return a.jsx(rt,{variant:"suspended",children:"In Progress"});case wt.CLOSED:return a.jsx(rt,{variant:"active",children:"Closed"})}},Z=()=>{x(null),g(!0)},ue=U=>{x(U),g(!0)},ie=async()=>{g(!1);try{const U=await Nl.getAll(),te=(Array.isArray(U)?U:U.data||[]).map(H=>({id:H.id.toString(),customer_id:H.customer_id?.toString(),customer_name:H.customer?.first_name&&H.customer?.last_name?`${H.customer.first_name} ${H.customer.last_name}`:"",subject:H.subject,description:H.description,priority:H.priority,status:H.status,created_at:H.created_at}));f(te),localStorage.setItem(ve.TICKETS,JSON.stringify(te))}catch(U){console.error("Error fetching tickets:",U)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Operations Queue"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Task management for field technicians and system admins."})]}),a.jsxs("button",{onClick:Z,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Entry"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-3xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Active Backlog"}),a.jsx("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:C.total})]}),a.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-red-500 tracking-widest mb-1",children:"Open Tickets"}),a.jsx("p",{className:"text-2xl font-black text-red-600 dark:text-red-400",children:C.open})]}),a.jsxs("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-purple-500 tracking-widest mb-1",children:"High Severity"}),a.jsx("p",{className:"text-2xl font-black text-purple-600 dark:text-purple-400",children:C.critical})]}),a.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest mb-1",children:"Work Done"}),a.jsx("p",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:C.resolved})]})]}),a.jsxs(Le,{title:"Task Inventory",className:"border-none shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Filter by Subject, ID or User...",value:s,onChange:U=>l(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex gap-2",children:["all",wt.OPEN,wt.IN_PROGRESS,wt.CLOSED].map(U=>a.jsx("button",{onClick:()=>o(U),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${i===U?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-gray-100 dark:bg-slate-800 text-gray-500"}`,children:U},U))})]}),a.jsx("div",{className:" overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"ID"}),a.jsx("th",{className:"py-4 px-6",children:"Association"}),a.jsx("th",{className:"py-4 px-6",children:"Issue / Subject"}),a.jsx("th",{className:"py-4 px-6",children:"Priority"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:T.length>0?T.map(U=>a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsxs("p",{className:"font-mono text-xs font-bold text-gray-400 uppercase tracking-tight",children:["#",U.id]})}),a.jsx("td",{className:"py-5 px-6",children:U.customer_id?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none",children:U.customer_name})]}),a.jsx("p",{className:"text-[9px] text-gray-400 uppercase mt-1 font-mono",children:U.customer_id})]}):a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"General System"})]})}),a.jsxs("td",{className:"py-5 px-6",children:[a.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 truncate max-w-xs",children:U.subject}),a.jsxs("p",{className:"text-[10px] text-gray-400 mt-0.5",children:["Created: ",new Date(U.created_at).toLocaleString()]})]}),a.jsx("td",{className:"py-5 px-6",children:X(U.priority)}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("div",{className:"flex items-center gap-2",children:I(U.status)})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[U.status!==wt.CLOSED&&a.jsx("button",{onClick:()=>z(U.id,wt.CLOSED),className:"p-2 text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all",title:"Quick Close",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("button",{onClick:()=>ue(U),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>O(U.id),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},U.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-24 text-center text-gray-400 italic",children:"No activity entries found matching your filters."})})})]})}),a.jsx(Kr,{currentPage:v,setCurrentPage:h,totalPages:k,rowsPerPage:S,setRowsPerPage:E})]}),a.jsx(p4,{isOpen:m,onClose:()=>g(!1),onSave:ie,editingTicket:b})]})},g4=()=>{const[s,l]=ne.useState([]),[i,o]=ne.useState(!1),[d,f]=y.useState(null),[m,g]=ne.useState(!1);y.useEffect(()=>{(async()=>{const E=await Ws.get();console.log("Organization settings response:",E);const N=E?.settings||{};N["notes-template"]&&Array.isArray(N["notes-template"].templates)&&l(N["notes-template"].templates)})()},[]);const b=async S=>{const E=s.find(k=>k.id===S);if(!(!E||E.isDefault||!(await Dr("Delete template?",`This will permanently remove "${E.name}".`,{confirmButtonText:"Delete"})).isConfirmed)){g(!0);try{const k=s.filter(j=>j.id!==S);await Ws.update({settings:{"notes-template":{templates:k}}}),l(k),oe.success("Template deleted successfully!")}catch(k){console.error("Failed to delete template",k),oe.error("Failed to delete template")}finally{g(!1)}}},x=S=>{f(S),o(!0)},v=()=>{f({name:"",content:"",category:"SMS"}),o(!0)},h=async S=>{if(S.preventDefault(),!(!d?.name||!d?.content)){g(!0);try{let E=[];if(d.id)E=s.map(N=>N.id===d.id?{...N,name:d.name,content:d.content,category:d.category||N.category}:N);else{const N={id:Date.now().toString(),name:d.name,content:d.content,category:d.category||"SMS"};E=[...s,N]}await Ws.update({settings:{"notes-template":{templates:E}}}),oe.success("Template saved successfully!"),l(E),o(!1),f(null)}catch(E){console.error("Failed to save template",E),oe.error("Failed to save template")}finally{g(!1)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-black text-xl text-gray-900 dark:text-white tracking-tight",children:"Message Templates"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Standard patterns for automated client notifications."})]}),a.jsxs("button",{onClick:v,type:"button",className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-500 transition-all active:scale-95 flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Template"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(S=>a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] p-6 border border-gray-100 dark:border-slate-800 shadow-sm relative group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx(rt,{variant:"active",children:S.category}),a.jsx("h4",{className:"mt-2 font-black text-gray-900 dark:text-white",children:S.name})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>x(S),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),!S.isDefault&&a.jsx("button",{onClick:()=>b(S.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-gray-100 dark:border-slate-800",children:a.jsx("p",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-3",children:S.content})})]},S.id))}),a.jsx(Qe,{isOpen:i,onClose:()=>o(!1),title:d?.id?"Edit Message Template":"Create Message Template",maxWidth:"max-w-lg",children:a.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20 mb-2",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-1",children:"Placeholder Guide"}),a.jsxs("p",{className:"text-[9px] text-blue-500 leading-tight",children:["Use variables like ",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{FirstName}"}),",",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{Expiry}"}),",",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{PaidAmount}"}),", and",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{PackageName}"})," for dynamic insertion. Click tags below to insert them."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Template Name"}),a.jsx("input",{required:!0,type:"text",value:d?.name||"",onChange:S=>f({...d,name:S.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. Payment Confirmation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Category"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:d?.category||"Billing",onChange:S=>f({...d,category:S.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold appearance-none",children:[a.jsx("option",{children:"Billing"}),a.jsx("option",{children:"SMS"}),a.jsx("option",{children:"Email"}),a.jsx("option",{children:"System"})]}),a.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsx("div",{className:"flex flex-col justify-end pb-1 pl-1",children:a.jsx(rt,{variant:d?.isDefault?"active":"suspended",children:d?.isDefault?"SYSTEM PROTECTED":"CUSTOM TEMPLATE"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Personalization Tags (Click to add)"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{tag:"{FirstName}",label:"First Name"},{tag:"{LastName}",label:"Last Name"},{tag:"{Isp}",label:"ISP Name"},{tag:"{Expiry}",label:"Expiry Date"},{tag:"{PackageName}",label:"Package"},{tag:"{PaidAmount}",label:"Paid Amt"},{tag:"{PackageAmount}",label:"Price"},{tag:"{PhoneNumber}",label:"Phone"}].map(S=>a.jsx("button",{type:"button",onClick:()=>f({...d,content:(d?.content||"")+" "+S.tag}),className:"text-[10px] font-bold px-2 py-1 bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-300 rounded-md hover:bg-blue-600 hover:text-white transition-colors",children:S.label},S.tag))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Content Body"}),a.jsx("textarea",{required:!0,rows:5,value:d?.content||"",onChange:S=>f({...d,content:S.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-4 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm font-mono leading-relaxed",placeholder:"Dear {FirstName}, thank you for your payment of KSH {PaidAmount}..."})]}),a.jsxs("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 group flex items-center justify-center gap-2 disabled:opacity-60",children:[a.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),m?"Saving...":d?.id?"Apply Template Changes":"Save New Template"]})]})})]})},Qp=[{id:"dashboard",label:"Dashboard",icon:a.jsx(Oa.Dashboard,{})},{id:"management",label:"Management",icon:a.jsx(Oa.Management,{}),subItems:[{id:"sites",label:"Sites",perm:"p1"},{id:"packages",label:"Packages",perm:"p4"}]},{id:"crm",label:"CRM",icon:a.jsx(Oa.CRM,{}),subItems:[{id:"customers",label:"Customers",perm:["p10","p11"]},{id:"leads",label:"Leads",perm:"p12"},{id:"tickets",label:"Tickets",perm:"p13"}]},{id:"revenue",label:"Revenue",icon:a.jsx(Oa.Revenue,{}),subItems:[{id:"payments",label:"Payments",perm:"p6"},{id:"transactions",label:"Transactions",perm:"p7"},{id:"invoices",label:"Invoices",perm:"p5"},{id:"expenses",label:"Expenses",perm:"p8"},{id:"reports",label:"Reports",perm:"p9"}]},{id:"settings",label:"Settings",icon:a.jsx(Oa.Settings,{}),subItems:[{id:"general",label:"General",perm:["p16","p17"]},{id:"licence",label:"Licence",perm:["p16","p17"]},{id:"access-control",label:"Access Control",perm:["p14","p15"]},{id:"payment-gateway",label:"Payment Gateway",perm:"p16"},{id:"sms-gateway",label:"Message Gateway",perm:"p16"},{id:"email-gateway",label:"Email Gateway",perm:"p16"},{id:"notes-template",label:"Notes Template",perm:"p16"},{id:"change-password",label:"Change Password"}]}],yu="easy-tech-auth",b4=()=>{const[s,l]=y.useState(()=>{const C=localStorage.getItem(yu);return C?JSON.parse(C):null}),[i,o]=y.useState(!1),[d,f]=y.useState(null),[m,g]=y.useState(()=>localStorage.getItem("easy-tech-theme")||"light");y.useEffect(()=>{m==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("easy-tech-theme",m)},[m]);const b=y.useMemo(()=>{if(!s)return null;if(s.role)return s.role},[s]),x=y.useMemo(()=>s?s.isSuperAdmin?["*"]:b?.permissions||[]:[],[s,b]),v=C=>s?s.isSuperAdmin?!0:x.includes(C):!1,h=C=>s?s.isSuperAdmin?!0:C.some(z=>x.includes(z)):!1,S=C=>C?Array.isArray(C)?h(C):v(C):!0,E=y.useMemo(()=>Qp.map(C=>{if(!C.subItems)return C;const z=C.subItems.filter(O=>S(O.perm));return{...C,subItems:z}}).filter(C=>C.subItems?C.subItems.length>0:S(C.perm)),[Qp,x,s]),N=({perms:C,children:z})=>s?.isSuperAdmin?a.jsx(a.Fragment,{children:z}):h(C)?a.jsx(a.Fragment,{children:z}):a.jsx(du,{to:"/dashboard",replace:!0}),k=(C,z="success")=>{oe.success(C)},j=async(C,z)=>{o(!0),f(null);try{const O=await jo.login(C,z),X=O.role||null,I={id:O.user.id,name:O.user.name,email:O.user.email,phone:O.user.phone||"",role_id:O.user.role_id,status:O.user.status,last_login:new Date().toLocaleString(),password:"",isSuperAdmin:O.user.is_super_admin||!1,role:X||void 0};l(I),localStorage.setItem(yu,JSON.stringify(I)),k(`Authorized as ${I.name}`)}catch(O){O instanceof qx?(f(O.message),k(O.message,"error")):(f("Login failed. Please try again."),k("Login failed","error"))}finally{o(!1)}},T=async()=>{try{await jo.logout()}catch(C){console.error("Logout error:",C)}finally{l(null),localStorage.removeItem(yu),yo(null),k("Logged out safely","info")}};return y.useEffect(()=>{$x()},[]),console.log("Rendering App, currentUser:"),s?a.jsxs(hp,{children:[a.jsx(mt,{path:"/login",element:a.jsx(Xp,{onLogin:j,isLoading:i,error:d})}),a.jsx(mt,{path:"/*",element:a.jsx("div",{className:"flex h-screen overflow-hidden",children:a.jsx(Hv,{navItems:E,theme:m,toggleTheme:()=>g(m==="light"?"dark":"light"),currentUser:s,onLogout:T,children:a.jsxs(hp,{children:[a.jsx(mt,{path:"/dashboard",element:a.jsx(g1,{})}),a.jsx(mt,{path:"/management/sites",element:a.jsx(N,{perms:["p1"],children:a.jsx(K1,{})})}),a.jsx(mt,{path:"/management/packages",element:a.jsx(N,{perms:["p4"],children:a.jsx(YN,{})})}),a.jsx(mt,{path:"/crm/customers",element:a.jsx(N,{perms:["p10","p11"],children:a.jsx(XN,{})})}),a.jsx(mt,{path:"/crm/customers/:customerId",element:a.jsx(N,{perms:["p10","p11"],children:a.jsx(a4,{})})}),a.jsx(mt,{path:"/crm/leads",element:a.jsx(N,{perms:["p12"],children:a.jsx(h4,{})})}),a.jsx(mt,{path:"/crm/tickets",element:a.jsx(N,{perms:["p13"],children:a.jsx(x4,{})})}),a.jsx(mt,{path:"/revenue/payments",element:a.jsx(N,{perms:["p6"],children:a.jsx(n4,{})})}),a.jsx(mt,{path:"/revenue/transactions",element:a.jsx(N,{perms:["p7"],children:a.jsx(l4,{})})}),a.jsx(mt,{path:"/revenue/invoices",element:a.jsx(N,{perms:["p5"],children:a.jsx(i4,{})})}),a.jsx(mt,{path:"/revenue/expenses",element:a.jsx(N,{perms:["p8"],children:a.jsx(u4,{})})}),a.jsx(mt,{path:"/revenue/reports",element:a.jsx(N,{perms:["p9"],children:a.jsx(f4,{})})}),a.jsx(mt,{path:"/settings/access-control",element:a.jsx(N,{perms:["p14","p15"],children:a.jsx($N,{canManageAdmins:v("p14"),canManageRoles:v("p15")})})}),a.jsx(mt,{path:"/settings/notes-template",element:a.jsx(N,{perms:["p16"],children:a.jsx(g4,{})})}),a.jsx(mt,{path:"/settings/*",element:a.jsx(N,{perms:["p16","p17"],children:a.jsx(VN,{onSave:C=>k(C)})})}),a.jsx(mt,{path:"/",element:a.jsx(du,{to:"/dashboard"})}),a.jsx(mt,{path:"*",element:a.jsx(du,{to:"/dashboard"})})]})})})})]}):a.jsx(Xp,{onLogin:j,isLoading:i,error:d})},Ug=document.getElementById("root");if(!Ug)throw new Error("Could not find root element to mount to");const y4=l2.createRoot(Ug);y4.render(a.jsxs(ne.StrictMode,{children:[a.jsx(I1,{richColors:!0,position:"top-center"}),a.jsx(Cv,{children:a.jsx(b4,{})})]}));
