(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function _u(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nu={exports:{}},Ar={};var ep;function Qy(){if(ep)return Ar;ep=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(o,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var g in d)g!=="key"&&(f[g]=d[g])}else f=d;return d=f.ref,{$$typeof:s,type:o,key:m,ref:d!==void 0?d:null,props:f}}return Ar.Fragment=l,Ar.jsx=i,Ar.jsxs=i,Ar}var tp;function Zy(){return tp||(tp=1,nu.exports=Qy()),nu.exports}var a=Zy(),lu={exports:{}},Ne={};var ap;function Jy(){if(ap)return Ne;ap=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),S=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function C(E,T,H){this.props=E,this.context=T,this.refs=k,this.updater=H||j}C.prototype.isReactComponent={},C.prototype.setState=function(E,T){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,T,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function L(){}L.prototype=C.prototype;function M(E,T,H){this.props=E,this.context=T,this.refs=k,this.updater=H||j}var B=M.prototype=new L;B.constructor=M,N(B,C.prototype),B.isPureReactComponent=!0;var Y=Array.isArray;function I(){}var W={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ne(E,T,H){var Q=H.ref;return{$$typeof:s,type:E,key:T,ref:Q!==void 0?Q:null,props:H}}function ae(E,T){return ne(E.type,T,E.props)}function Z(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function fe(E){var T={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(H){return T[H]})}var G=/\/+/g;function ue(E,T){return typeof E=="object"&&E!==null&&E.key!=null?fe(""+E.key):T.toString(36)}function me(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(I,I):(E.status="pending",E.then(function(T){E.status==="pending"&&(E.status="fulfilled",E.value=T)},function(T){E.status==="pending"&&(E.status="rejected",E.reason=T)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function O(E,T,H,Q,re){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var we=!1;if(E===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(E.$$typeof){case s:case l:we=!0;break;case v:return we=E._init,O(we(E._payload),T,H,Q,re)}}if(we)return re=re(E),we=Q===""?"."+ue(E,0):Q,Y(re)?(H="",we!=null&&(H=we.replace(G,"$&/")+"/"),O(re,T,H,"",function(ma){return ma})):re!=null&&(Z(re)&&(re=ae(re,H+(re.key==null||E&&E.key===re.key?"":(""+re.key).replace(G,"$&/")+"/")+we)),T.push(re)),1;we=0;var ke=Q===""?".":Q+":";if(Y(E))for(var He=0;He<E.length;He++)Q=E[He],ge=ke+ue(Q,He),we+=O(Q,T,H,ge,re);else if(He=A(E),typeof He=="function")for(E=He.call(E),He=0;!(Q=E.next()).done;)Q=Q.value,ge=ke+ue(Q,He++),we+=O(Q,T,H,ge,re);else if(ge==="object"){if(typeof E.then=="function")return O(me(E),T,H,Q,re);throw T=String(E),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return we}function U(E,T,H){if(E==null)return E;var Q=[],re=0;return O(E,Q,"","",function(ge){return T.call(H,ge,re++)}),Q}function le(E){if(E._status===-1){var T=E._result;T=T(),T.then(function(H){(E._status===0||E._status===-1)&&(E._status=1,E._result=H)},function(H){(E._status===0||E._status===-1)&&(E._status=2,E._result=H)}),E._status===-1&&(E._status=0,E._result=T)}if(E._status===1)return E._result.default;throw E._result}var D=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},q={map:U,forEach:function(E,T,H){U(E,function(){T.apply(this,arguments)},H)},count:function(E){var T=0;return U(E,function(){T++}),T},toArray:function(E){return U(E,function(T){return T})||[]},only:function(E){if(!Z(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ne.Activity=h,Ne.Children=q,Ne.Component=C,Ne.Fragment=i,Ne.Profiler=d,Ne.PureComponent=M,Ne.StrictMode=o,Ne.Suspense=b,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(E){return W.H.useMemoCache(E)}},Ne.cache=function(E){return function(){return E.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(E,T,H){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Q=N({},E.props),re=E.key;if(T!=null)for(ge in T.key!==void 0&&(re=""+T.key),T)!de.call(T,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&T.ref===void 0||(Q[ge]=T[ge]);var ge=arguments.length-2;if(ge===1)Q.children=H;else if(1<ge){for(var we=Array(ge),ke=0;ke<ge;ke++)we[ke]=arguments[ke+2];Q.children=we}return ne(E.type,re,Q)},Ne.createContext=function(E){return E={$$typeof:m,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},Ne.createElement=function(E,T,H){var Q,re={},ge=null;if(T!=null)for(Q in T.key!==void 0&&(ge=""+T.key),T)de.call(T,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=T[Q]);var we=arguments.length-2;if(we===1)re.children=H;else if(1<we){for(var ke=Array(we),He=0;He<we;He++)ke[He]=arguments[He+2];re.children=ke}if(E&&E.defaultProps)for(Q in we=E.defaultProps,we)re[Q]===void 0&&(re[Q]=we[Q]);return ne(E,ge,re)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(E){return{$$typeof:g,render:E}},Ne.isValidElement=Z,Ne.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:le}},Ne.memo=function(E,T){return{$$typeof:x,type:E,compare:T===void 0?null:T}},Ne.startTransition=function(E){var T=W.T,H={};W.T=H;try{var Q=E(),re=W.S;re!==null&&re(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(I,D)}catch(ge){D(ge)}finally{T!==null&&H.types!==null&&(T.types=H.types),W.T=T}},Ne.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ne.use=function(E){return W.H.use(E)},Ne.useActionState=function(E,T,H){return W.H.useActionState(E,T,H)},Ne.useCallback=function(E,T){return W.H.useCallback(E,T)},Ne.useContext=function(E){return W.H.useContext(E)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(E,T){return W.H.useDeferredValue(E,T)},Ne.useEffect=function(E,T){return W.H.useEffect(E,T)},Ne.useEffectEvent=function(E){return W.H.useEffectEvent(E)},Ne.useId=function(){return W.H.useId()},Ne.useImperativeHandle=function(E,T,H){return W.H.useImperativeHandle(E,T,H)},Ne.useInsertionEffect=function(E,T){return W.H.useInsertionEffect(E,T)},Ne.useLayoutEffect=function(E,T){return W.H.useLayoutEffect(E,T)},Ne.useMemo=function(E,T){return W.H.useMemo(E,T)},Ne.useOptimistic=function(E,T){return W.H.useOptimistic(E,T)},Ne.useReducer=function(E,T,H){return W.H.useReducer(E,T,H)},Ne.useRef=function(E){return W.H.useRef(E)},Ne.useState=function(E){return W.H.useState(E)},Ne.useSyncExternalStore=function(E,T,H){return W.H.useSyncExternalStore(E,T,H)},Ne.useTransition=function(){return W.H.useTransition()},Ne.version="19.2.3",Ne}var sp;function Ou(){return sp||(sp=1,lu.exports=Jy()),lu.exports}var y=Ou();const se=_u(y);var ru={exports:{}},Tr={},iu={exports:{}},ou={};var np;function Wy(){return np||(np=1,(function(s){function l(O,U){var le=O.length;O.push(U);e:for(;0<le;){var D=le-1>>>1,q=O[D];if(0<d(q,U))O[D]=U,O[le]=q,le=D;else break e}}function i(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var U=O[0],le=O.pop();if(le!==U){O[0]=le;e:for(var D=0,q=O.length,E=q>>>1;D<E;){var T=2*(D+1)-1,H=O[T],Q=T+1,re=O[Q];if(0>d(H,le))Q<q&&0>d(re,H)?(O[D]=re,O[Q]=le,D=Q):(O[D]=H,O[T]=le,D=T);else if(Q<q&&0>d(re,le))O[D]=re,O[Q]=le,D=Q;else break e}}return U}function d(O,U){var le=O.sortIndex-U.sortIndex;return le!==0?le:O.id-U.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var b=[],x=[],v=1,h=null,S=3,A=!1,j=!1,N=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function B(O){for(var U=i(x);U!==null;){if(U.callback===null)o(x);else if(U.startTime<=O)o(x),U.sortIndex=U.expirationTime,l(b,U);else break;U=i(x)}}function Y(O){if(N=!1,B(O),!j)if(i(b)!==null)j=!0,I||(I=!0,fe());else{var U=i(x);U!==null&&me(Y,U.startTime-O)}}var I=!1,W=-1,de=5,ne=-1;function ae(){return k?!0:!(s.unstable_now()-ne<de)}function Z(){if(k=!1,I){var O=s.unstable_now();ne=O;var U=!0;try{e:{j=!1,N&&(N=!1,L(W),W=-1),A=!0;var le=S;try{t:{for(B(O),h=i(b);h!==null&&!(h.expirationTime>O&&ae());){var D=h.callback;if(typeof D=="function"){h.callback=null,S=h.priorityLevel;var q=D(h.expirationTime<=O);if(O=s.unstable_now(),typeof q=="function"){h.callback=q,B(O),U=!0;break t}h===i(b)&&o(b),B(O)}else o(b);h=i(b)}if(h!==null)U=!0;else{var E=i(x);E!==null&&me(Y,E.startTime-O),U=!1}}break e}finally{h=null,S=le,A=!1}U=void 0}}finally{U?fe():I=!1}}}var fe;if(typeof M=="function")fe=function(){M(Z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=Z,fe=function(){ue.postMessage(null)}}else fe=function(){C(Z,0)};function me(O,U){W=C(function(){O(s.unstable_now())},U)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(O){switch(S){case 1:case 2:case 3:var U=3;break;default:U=S}var le=S;S=U;try{return O()}finally{S=le}},s.unstable_requestPaint=function(){k=!0},s.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var le=S;S=O;try{return U()}finally{S=le}},s.unstable_scheduleCallback=function(O,U,le){var D=s.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?D+le:D):le=D,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=le+q,O={id:v++,callback:U,priorityLevel:O,startTime:le,expirationTime:q,sortIndex:-1},le>D?(O.sortIndex=le,l(x,O),i(b)===null&&O===i(x)&&(N?(L(W),W=-1):N=!0,me(Y,le-D))):(O.sortIndex=q,l(b,O),j||A||(j=!0,I||(I=!0,fe()))),O},s.unstable_shouldYield=ae,s.unstable_wrapCallback=function(O){var U=S;return function(){var le=S;S=U;try{return O.apply(this,arguments)}finally{S=le}}}})(ou)),ou}var lp;function e2(){return lp||(lp=1,iu.exports=Wy()),iu.exports}var cu={exports:{}},_t={};var rp;function t2(){if(rp)return _t;rp=1;var s=Ou();function l(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)x+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(l(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(b,x,v){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:h==null?null:""+h,children:b,containerInfo:x,implementation:v}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(b,x){if(b==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,_t.createPortal=function(b,x){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(l(299));return f(b,x,null,v)},_t.flushSync=function(b){var x=m.T,v=o.p;try{if(m.T=null,o.p=2,b)return b()}finally{m.T=x,o.p=v,o.d.f()}},_t.preconnect=function(b,x){typeof b=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,o.d.C(b,x))},_t.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},_t.preinit=function(b,x){if(typeof b=="string"&&x&&typeof x.as=="string"){var v=x.as,h=g(v,x.crossOrigin),S=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;v==="style"?o.d.S(b,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:h,integrity:S,fetchPriority:A}):v==="script"&&o.d.X(b,{crossOrigin:h,integrity:S,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},_t.preinitModule=function(b,x){if(typeof b=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var v=g(x.as,x.crossOrigin);o.d.M(b,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&o.d.M(b)},_t.preload=function(b,x){if(typeof b=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var v=x.as,h=g(v,x.crossOrigin);o.d.L(b,v,{crossOrigin:h,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},_t.preloadModule=function(b,x){if(typeof b=="string")if(x){var v=g(x.as,x.crossOrigin);o.d.m(b,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else o.d.m(b)},_t.requestFormReset=function(b){o.d.r(b)},_t.unstable_batchedUpdates=function(b,x){return b(x)},_t.useFormState=function(b,x,v){return m.H.useFormState(b,x,v)},_t.useFormStatus=function(){return m.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var ip;function Zp(){if(ip)return cu.exports;ip=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),cu.exports=t2(),cu.exports}var op;function a2(){if(op)return Tr;op=1;var s=e2(),l=Ou(),i=Zp();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){n=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return b(c),e;if(u===r)return b(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==r.return)n=c,r=u;else{for(var p=!1,w=c.child;w;){if(w===n){p=!0,n=c,r=u;break}if(w===r){p=!0,r=c,n=u;break}w=w.sibling}if(!p){for(w=u.child;w;){if(w===n){p=!0,n=u,r=c;break}if(w===r){p=!0,r=u,n=c;break}w=w.sibling}if(!p)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var G=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case Y:return"Suspense";case I:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case M:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var me=Array.isArray,O=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},D=[],q=-1;function E(e){return{current:e}}function T(e){0>q||(e.current=D[q],D[q]=null,q--)}function H(e,t){q++,D[q]=e.current,e.current=t}var Q=E(null),re=E(null),ge=E(null),we=E(null);function ke(e,t){switch(H(ge,t),H(re,e),H(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kh(t),e=Nh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(Q),H(Q,e)}function He(){T(Q),T(re),T(ge)}function ma(e){e.memoizedState!==null&&H(we,e);var t=Q.current,n=Nh(t,e.type);t!==n&&(H(re,e),H(Q,n))}function ea(e){re.current===e&&(T(Q),T(re)),we.current===e&&(T(we),Nr._currentValue=le)}var ha,Mn;function ta(e){if(ha===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ha=t&&t[1]||"",Mn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+e+Mn}var ie=!1;function jt(e,t){if(!e||ie)return"";ie=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var V=K}Reflect.construct(e,[],te)}else{try{te.call()}catch(K){V=K}e.call(te.prototype)}}else{try{throw Error()}catch(K){V=K}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&V&&typeof K.stack=="string")return[K.stack,V.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),p=u[0],w=u[1];if(p&&w){var _=p.split(`
`),$=w.split(`
`);for(c=r=0;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;for(;c<$.length&&!$[c].includes("DetermineComponentFrameRoot");)c++;if(r===_.length||c===$.length)for(r=_.length-1,c=$.length-1;1<=r&&0<=c&&_[r]!==$[c];)c--;for(;1<=r&&0<=c;r--,c--)if(_[r]!==$[c]){if(r!==1||c!==1)do if(r--,c--,0>c||_[r]!==$[c]){var J=`
`+_[r].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=r&&0<=c);break}}}finally{ie=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ta(n):""}function Ua(e,t){switch(e.tag){case 26:case 27:case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return e.child!==t&&t!==null?ta("Suspense Fallback"):ta("Suspense");case 19:return ta("SuspenseList");case 0:case 15:return jt(e.type,!1);case 11:return jt(e.type.render,!1);case 1:return jt(e.type,!0);case 31:return ta("Activity");default:return""}}function Qa(e){try{var t="",n=null;do t+=Ua(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var tt=Object.prototype.hasOwnProperty,Za=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,pt=s.unstable_shouldYield,pa=s.unstable_requestPaint,kt=s.unstable_now,_n=s.unstable_getCurrentPriorityLevel,vs=s.unstable_ImmediatePriority,Kr=s.unstable_UserBlockingPriority,en=s.unstable_NormalPriority,zl=s.unstable_LowPriority,Ja=s.unstable_IdlePriority,Fr=s.log,ws=s.unstable_setDisableYieldValue,tn=null,Dt=null;function Aa(e){if(typeof Fr=="function"&&ws(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(tn,e)}catch{}}var Lt=Math.clz32?Math.clz32:Ha,Xo=Math.log,Ul=Math.LN2;function Ha(e){return e>>>=0,e===0?32:31-(Xo(e)/Ul|0)|0}var On=256,Rn=262144,an=4194304;function qa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~u,r!==0?c=qa(r):(p&=w,p!==0?c=qa(p):n||(n=w&~e,n!==0&&(c=qa(n))))):(w=r&~u,w!==0?c=qa(w):p!==0?c=qa(p):n||(n=r&~e,n!==0&&(c=qa(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function Ze(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var e=an;return an<<=1,(an&62914560)===0&&(an=4194304),e}function js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function et(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,n,r,c,u){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var w=e.entanglements,_=e.expirationTimes,$=e.hiddenUpdates;for(n=p&~n;0<n;){var J=31-Lt(n),te=1<<J;w[J]=0,_[J]=-1;var V=$[J];if(V!==null)for($[J]=null,J=0;J<V.length;J++){var K=V[J];K!==null&&(K.lane&=-536870913)}n&=~te}r!==0&&sn(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function sn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Lt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lt(n),c=1<<r;c&t|e[r]&t&&(e[r]|=t),n&=~c}}function $t(e,t){var n=t&-t;return n=(n&42)!==0?1:Dn(n),(n&(e.suspendedLanes|t))!==0?0:n}function Dn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ta(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ko(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Xh(e.type))}function o0(e,t){var n=U.p;try{return U.p=e,t()}finally{U.p=n}}var ks=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ks,It="__reactProps$"+ks,Bn="__reactContainer$"+ks,Fo="__reactEvents$"+ks,Hg="__reactListeners$"+ks,qg="__reactHandles$"+ks,c0="__reactResources$"+ks,Hl="__reactMarker$"+ks;function Qo(e){delete e[Nt],delete e[It],delete e[Fo],delete e[Hg],delete e[qg]}function zn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bn]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mh(e);e!==null;){if(n=e[Nt])return n;e=Mh(e)}return t}e=n,n=e.parentNode}return null}function Un(e){if(e=e[Nt]||e[Bn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Hn(e){var t=e[c0];return t||(t=e[c0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[Hl]=!0}var d0=new Set,u0={};function nn(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(u0[e]=t,e=0;e<t.length;e++)d0.add(t[e])}var Pg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),f0={},m0={};function $g(e){return tt.call(m0,e)?!0:tt.call(f0,e)?!1:Pg.test(e)?m0[e]=!0:(f0[e]=!0,!1)}function Qr(e,t,n){if($g(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Wa(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function xa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ig(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){if(!e._valueTracker){var t=h0(e)?"checked":"value";e._valueTracker=Ig(e,t,""+e[t])}}function p0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=h0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vg=/[\n"\\]/g;function ga(e){return e.replace(Vg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jo(e,t,n,r,c,u,p,w){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xa(t)):e.value!==""+xa(t)&&(e.value=""+xa(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Wo(e,p,xa(t)):n!=null?Wo(e,p,xa(n)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+xa(w):e.removeAttribute("name")}function x0(e,t,n,r,c,u,p,w){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Zo(e);return}n=n!=null?""+xa(n):"",t=t!=null?""+xa(t):n,w||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Zo(e)}function Wo(e,t,n){t==="number"&&Jr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Pn(e,t,n,r){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xa(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function g0(e,t,n){if(t!=null&&(t=""+xa(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xa(n):""}function b0(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(o(92));if(me(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=xa(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Zo(e)}function $n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y0(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Yg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function v0(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&n[c]!==r&&y0(e,c,r)}else for(var u in t)t.hasOwnProperty(u)&&y0(e,u,t[u])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return Xg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function es(){}var tc=null;function ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var In=null,Vn=null;function w0(e){var t=Un(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ga(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var c=r[It]||null;if(!c)throw Error(o(90));Jo(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&p0(r)}break e;case"textarea":g0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}}}var sc=!1;function j0(e,t,n){if(sc)return e(t,n);sc=!0;try{var r=e(t);return r}finally{if(sc=!1,(In!==null||Vn!==null)&&(qi(),In&&(t=In,e=Vn,Vn=In=null,w0(t),e)))for(t=0;t<e.length;t++)w0(e[t])}}function Pl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[It]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=!1;if(ts)try{var $l={};Object.defineProperty($l,"passive",{get:function(){nc=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{nc=!1}var Ns=null,lc=null,ei=null;function k0(){if(ei)return ei;var e,t=lc,n=t.length,r,c="value"in Ns?Ns.value:Ns.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(r=1;r<=p&&t[n-r]===c[u-r];r++);return ei=c.slice(e,1<r?1-r:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function N0(){return!1}function Vt(e){function t(n,r,c,u,p){this._reactName=n,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ai:N0,this.isPropagationStopped=N0,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Vt(ln),Il=h({},ln,{view:0,detail:0}),Kg=Vt(Il),rc,ic,Vl,ni=h({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(rc=e.screenX-Vl.screenX,ic=e.screenY-Vl.screenY):ic=rc=0,Vl=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:ic}}),S0=Vt(ni),Fg=h({},ni,{dataTransfer:0}),Qg=Vt(Fg),Zg=h({},Il,{relatedTarget:0}),oc=Vt(Zg),Jg=h({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Wg=Vt(Jg),eb=h({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tb=Vt(eb),ab=h({},ln,{data:0}),C0=Vt(ab),sb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lb[e])?!!t[e]:!1}function cc(){return rb}var ib=h({},Il,{key:function(e){if(e.key){var t=sb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ob=Vt(ib),cb=h({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E0=Vt(cb),db=h({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),ub=Vt(db),fb=h({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),mb=Vt(fb),hb=h({},ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pb=Vt(hb),xb=h({},ln,{newState:0,oldState:0}),gb=Vt(xb),bb=[9,13,27,32],dc=ts&&"CompositionEvent"in window,Yl=null;ts&&"documentMode"in document&&(Yl=document.documentMode);var yb=ts&&"TextEvent"in window&&!Yl,A0=ts&&(!dc||Yl&&8<Yl&&11>=Yl),T0=" ",L0=!1;function M0(e,t){switch(e){case"keyup":return bb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function vb(e,t){switch(e){case"compositionend":return _0(t);case"keypress":return t.which!==32?null:(L0=!0,T0);case"textInput":return e=t.data,e===T0&&L0?null:e;default:return null}}function wb(e,t){if(Yn)return e==="compositionend"||!dc&&M0(e,t)?(e=k0(),ei=lc=Ns=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A0&&t.locale!=="ko"?null:t.data;default:return null}}var jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jb[e.type]:t==="textarea"}function R0(e,t,n,r){In?Vn?Vn.push(r):Vn=[r]:In=r,t=Xi(t,"onChange"),0<t.length&&(n=new si("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gl=null,Xl=null;function kb(e){gh(e,0)}function li(e){var t=ql(e);if(p0(t))return e}function D0(e,t){if(e==="change")return t}var B0=!1;if(ts){var uc;if(ts){var fc="oninput"in document;if(!fc){var z0=document.createElement("div");z0.setAttribute("oninput","return;"),fc=typeof z0.oninput=="function"}uc=fc}else uc=!1;B0=uc&&(!document.documentMode||9<document.documentMode)}function U0(){Gl&&(Gl.detachEvent("onpropertychange",H0),Xl=Gl=null)}function H0(e){if(e.propertyName==="value"&&li(Xl)){var t=[];R0(t,Xl,e,ac(e)),j0(kb,t)}}function Nb(e,t,n){e==="focusin"?(U0(),Gl=t,Xl=n,Gl.attachEvent("onpropertychange",H0)):e==="focusout"&&U0()}function Sb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(Xl)}function Cb(e,t){if(e==="click")return li(t)}function Eb(e,t){if(e==="input"||e==="change")return li(t)}function Ab(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aa=typeof Object.is=="function"?Object.is:Ab;function Kl(e,t){if(aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var c=n[r];if(!tt.call(t,c)||!aa(e[c],t[c]))return!1}return!0}function q0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function P0(e,t){var n=q0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q0(n)}}function $0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jr(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tb=ts&&"documentMode"in document&&11>=document.documentMode,Gn=null,hc=null,Fl=null,pc=!1;function V0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pc||Gn==null||Gn!==Jr(r)||(r=Gn,"selectionStart"in r&&mc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fl&&Kl(Fl,r)||(Fl=r,r=Xi(hc,"onSelect"),0<r.length&&(t=new si("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gn)))}function rn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},xc={},Y0={};ts&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function on(e){if(xc[e])return xc[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Y0)return xc[e]=t[n];return e}var G0=on("animationend"),X0=on("animationiteration"),K0=on("animationstart"),Lb=on("transitionrun"),Mb=on("transitionstart"),_b=on("transitioncancel"),F0=on("transitionend"),Q0=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function La(e,t){Q0.set(e,t),nn(t,[e])}var ri=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ba=[],Kn=0,bc=0;function ii(){for(var e=Kn,t=bc=Kn=0;t<e;){var n=ba[t];ba[t++]=null;var r=ba[t];ba[t++]=null;var c=ba[t];ba[t++]=null;var u=ba[t];if(ba[t++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}u!==0&&Z0(n,c,u)}}function oi(e,t,n,r){ba[Kn++]=e,ba[Kn++]=t,ba[Kn++]=n,ba[Kn++]=r,bc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function yc(e,t,n,r){return oi(e,t,n,r),ci(e)}function cn(e,t){return oi(e,null,null,t),ci(e)}function Z0(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,r=u.alternate,r!==null&&(r.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-Lt(n),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=n|536870912),u):null}function ci(e){if(50<gr)throw gr=0,Ad=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fn={};function Ob(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(e,t,n,r){return new Ob(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function as(e,t){var n=e.alternate;return n===null?(n=sa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function J0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function di(e,t,n,r,c,u){var p=0;if(r=e,typeof e=="function")vc(e)&&(p=1);else if(typeof e=="string")p=Uy(e,n,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=sa(31,n,t,c),e.elementType=ne,e.lanes=u,e;case N:return dn(n.children,c,u,t);case k:p=8,c|=24;break;case C:return e=sa(12,n,t,c|2),e.elementType=C,e.lanes=u,e;case Y:return e=sa(13,n,t,c),e.elementType=Y,e.lanes=u,e;case I:return e=sa(19,n,t,c),e.elementType=I,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:p=10;break e;case L:p=9;break e;case B:p=11;break e;case W:p=14;break e;case de:p=16,r=null;break e}p=29,n=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=sa(p,n,t,c),t.elementType=e,t.type=r,t.lanes=u,t}function dn(e,t,n,r){return e=sa(7,e,r,t),e.lanes=n,e}function wc(e,t,n){return e=sa(6,e,null,t),e.lanes=n,e}function W0(e){var t=sa(18,null,null,0);return t.stateNode=e,t}function jc(e,t,n){return t=sa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ef=new WeakMap;function ya(e,t){if(typeof e=="object"&&e!==null){var n=ef.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qa(t)},ef.set(e,t),t)}return{value:e,source:t,stack:Qa(t)}}var Qn=[],Zn=0,ui=null,Ql=0,va=[],wa=0,Ss=null,Pa=1,$a="";function ss(e,t){Qn[Zn++]=Ql,Qn[Zn++]=ui,ui=e,Ql=t}function tf(e,t,n){va[wa++]=Pa,va[wa++]=$a,va[wa++]=Ss,Ss=e;var r=Pa;e=$a;var c=32-Lt(r)-1;r&=~(1<<c),n+=1;var u=32-Lt(t)+c;if(30<u){var p=c-c%5;u=(r&(1<<p)-1).toString(32),r>>=p,c-=p,Pa=1<<32-Lt(t)+c|n<<c|r,$a=u+e}else Pa=1<<u|n<<c|r,$a=e}function kc(e){e.return!==null&&(ss(e,1),tf(e,1,0))}function Nc(e){for(;e===ui;)ui=Qn[--Zn],Qn[Zn]=null,Ql=Qn[--Zn],Qn[Zn]=null;for(;e===Ss;)Ss=va[--wa],va[wa]=null,$a=va[--wa],va[wa]=null,Pa=va[--wa],va[wa]=null}function af(e,t){va[wa++]=Pa,va[wa++]=$a,va[wa++]=Ss,Pa=t.id,$a=t.overflow,Ss=e}var St=null,Xe=null,Oe=!1,Cs=null,ja=!1,Sc=Error(o(519));function Es(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(ya(t,e)),Sc}function sf(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Nt]=e,t[It]=r,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<yr.length;n++)Te(yr[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),x0(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),b0(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||wh(t.textContent,n)?(r.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),r.onScroll!=null&&Te("scroll",t),r.onScrollEnd!=null&&Te("scrollend",t),r.onClick!=null&&(t.onclick=es),t=!0):t=!1,t||Es(e,!0)}function nf(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:St=St.return}}function Jn(e){if(e!==St)return!1;if(!Oe)return nf(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Id(e.type,e.memoizedProps)),n=!n),n&&Xe&&Es(e),nf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Xe=Lh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Xe=Lh(e)}else t===27?(t=Xe,Ps(e.type)?(e=Kd,Kd=null,Xe=e):Xe=t):Xe=St?Na(e.stateNode.nextSibling):null;return!0}function un(){Xe=St=null,Oe=!1}function Cc(){var e=Cs;return e!==null&&(Kt===null?Kt=e:Kt.push.apply(Kt,e),Cs=null),e}function Zl(e){Cs===null?Cs=[e]:Cs.push(e)}var Ec=E(null),fn=null,ns=null;function As(e,t,n){H(Ec,t._currentValue),t._currentValue=n}function ls(e){e._currentValue=Ec.current,T(Ec)}function Ac(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tc(e,t,n,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var p=c.child;u=u.firstContext;e:for(;u!==null;){var w=u;u=c;for(var _=0;_<t.length;_++)if(w.context===t[_]){u.lanes|=n,w=u.alternate,w!==null&&(w.lanes|=n),Ac(u.return,n,e),r||(p=null);break e}u=w.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=n,u=p.alternate,u!==null&&(u.lanes|=n),Ac(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Wn(e,t,n,r){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var w=c.type;aa(c.pendingProps.value,p.value)||(e!==null?e.push(w):e=[w])}}else if(c===we.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Nr):e=[Nr])}c=c.return}e!==null&&Tc(t,e,n,r),t.flags|=262144}function fi(e){for(e=e.firstContext;e!==null;){if(!aa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mn(e){fn=e,ns=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return lf(fn,e)}function mi(e,t){return fn===null&&mn(e),lf(e,t)}function lf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ns===null){if(e===null)throw Error(o(308));ns=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ns=ns.next=t;return n}var Rb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Db=s.unstable_scheduleCallback,Bb=s.unstable_NormalPriority,dt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new Rb,data:new Map,refCount:0}}function Jl(e){e.refCount--,e.refCount===0&&Db(Bb,function(){e.controller.abort()})}var Wl=null,Mc=0,el=0,tl=null;function zb(e,t){if(Wl===null){var n=Wl=[];Mc=0,el=Rd(),tl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Mc++,t.then(rf,rf),t}function rf(){if(--Mc===0&&Wl!==null){tl!==null&&(tl.status="fulfilled");var e=Wl;Wl=null,el=0,tl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ub(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),r}var of=O.S;O.S=function(e,t){Ym=kt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zb(e,t),of!==null&&of(e,t)};var hn=E(null);function _c(){var e=hn.current;return e!==null?e:Ye.pooledCache}function hi(e,t){t===null?H(hn,hn.current):H(hn,t.pool)}function cf(){var e=_c();return e===null?null:{parent:dt._currentValue,pool:e}}var al=Error(o(460)),Oc=Error(o(474)),pi=Error(o(542)),xi={then:function(){}};function df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(es,es),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e;default:if(typeof t.status=="string")t.then(es,es);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e}throw xn=t,al}}function pn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xn=n,al):n}}var xn=null;function ff(){if(xn===null)throw Error(o(459));var e=xn;return xn=null,e}function mf(e){if(e===al||e===pi)throw Error(o(483))}var sl=null,er=0;function gi(e){var t=er;return er+=1,sl===null&&(sl=[]),uf(sl,e,t)}function tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bi(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hf(e){function t(z,R){if(e){var P=z.deletions;P===null?(z.deletions=[R],z.flags|=16):P.push(R)}}function n(z,R){if(!e)return null;for(;R!==null;)t(z,R),R=R.sibling;return null}function r(z){for(var R=new Map;z!==null;)z.key!==null?R.set(z.key,z):R.set(z.index,z),z=z.sibling;return R}function c(z,R){return z=as(z,R),z.index=0,z.sibling=null,z}function u(z,R,P){return z.index=P,e?(P=z.alternate,P!==null?(P=P.index,P<R?(z.flags|=67108866,R):P):(z.flags|=67108866,R)):(z.flags|=1048576,R)}function p(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,R,P,ee){return R===null||R.tag!==6?(R=wc(P,z.mode,ee),R.return=z,R):(R=c(R,P),R.return=z,R)}function _(z,R,P,ee){var be=P.type;return be===N?J(z,R,P.props.children,ee,P.key):R!==null&&(R.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===de&&pn(be)===R.type)?(R=c(R,P.props),tr(R,P),R.return=z,R):(R=di(P.type,P.key,P.props,null,z.mode,ee),tr(R,P),R.return=z,R)}function $(z,R,P,ee){return R===null||R.tag!==4||R.stateNode.containerInfo!==P.containerInfo||R.stateNode.implementation!==P.implementation?(R=jc(P,z.mode,ee),R.return=z,R):(R=c(R,P.children||[]),R.return=z,R)}function J(z,R,P,ee,be){return R===null||R.tag!==7?(R=dn(P,z.mode,ee,be),R.return=z,R):(R=c(R,P),R.return=z,R)}function te(z,R,P){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=wc(""+R,z.mode,P),R.return=z,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return P=di(R.type,R.key,R.props,null,z.mode,P),tr(P,R),P.return=z,P;case j:return R=jc(R,z.mode,P),R.return=z,R;case de:return R=pn(R),te(z,R,P)}if(me(R)||fe(R))return R=dn(R,z.mode,P,null),R.return=z,R;if(typeof R.then=="function")return te(z,gi(R),P);if(R.$$typeof===M)return te(z,mi(z,R),P);bi(z,R)}return null}function V(z,R,P,ee){var be=R!==null?R.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return be!==null?null:w(z,R,""+P,ee);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return P.key===be?_(z,R,P,ee):null;case j:return P.key===be?$(z,R,P,ee):null;case de:return P=pn(P),V(z,R,P,ee)}if(me(P)||fe(P))return be!==null?null:J(z,R,P,ee,null);if(typeof P.then=="function")return V(z,R,gi(P),ee);if(P.$$typeof===M)return V(z,R,mi(z,P),ee);bi(z,P)}return null}function K(z,R,P,ee,be){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(P)||null,w(R,z,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return z=z.get(ee.key===null?P:ee.key)||null,_(R,z,ee,be);case j:return z=z.get(ee.key===null?P:ee.key)||null,$(R,z,ee,be);case de:return ee=pn(ee),K(z,R,P,ee,be)}if(me(ee)||fe(ee))return z=z.get(P)||null,J(R,z,ee,be,null);if(typeof ee.then=="function")return K(z,R,P,gi(ee),be);if(ee.$$typeof===M)return K(z,R,P,mi(R,ee),be);bi(R,ee)}return null}function he(z,R,P,ee){for(var be=null,Re=null,pe=R,Ee=R=0,_e=null;pe!==null&&Ee<P.length;Ee++){pe.index>Ee?(_e=pe,pe=null):_e=pe.sibling;var De=V(z,pe,P[Ee],ee);if(De===null){pe===null&&(pe=_e);break}e&&pe&&De.alternate===null&&t(z,pe),R=u(De,R,Ee),Re===null?be=De:Re.sibling=De,Re=De,pe=_e}if(Ee===P.length)return n(z,pe),Oe&&ss(z,Ee),be;if(pe===null){for(;Ee<P.length;Ee++)pe=te(z,P[Ee],ee),pe!==null&&(R=u(pe,R,Ee),Re===null?be=pe:Re.sibling=pe,Re=pe);return Oe&&ss(z,Ee),be}for(pe=r(pe);Ee<P.length;Ee++)_e=K(pe,z,Ee,P[Ee],ee),_e!==null&&(e&&_e.alternate!==null&&pe.delete(_e.key===null?Ee:_e.key),R=u(_e,R,Ee),Re===null?be=_e:Re.sibling=_e,Re=_e);return e&&pe.forEach(function(Gs){return t(z,Gs)}),Oe&&ss(z,Ee),be}function ye(z,R,P,ee){if(P==null)throw Error(o(151));for(var be=null,Re=null,pe=R,Ee=R=0,_e=null,De=P.next();pe!==null&&!De.done;Ee++,De=P.next()){pe.index>Ee?(_e=pe,pe=null):_e=pe.sibling;var Gs=V(z,pe,De.value,ee);if(Gs===null){pe===null&&(pe=_e);break}e&&pe&&Gs.alternate===null&&t(z,pe),R=u(Gs,R,Ee),Re===null?be=Gs:Re.sibling=Gs,Re=Gs,pe=_e}if(De.done)return n(z,pe),Oe&&ss(z,Ee),be;if(pe===null){for(;!De.done;Ee++,De=P.next())De=te(z,De.value,ee),De!==null&&(R=u(De,R,Ee),Re===null?be=De:Re.sibling=De,Re=De);return Oe&&ss(z,Ee),be}for(pe=r(pe);!De.done;Ee++,De=P.next())De=K(pe,z,Ee,De.value,ee),De!==null&&(e&&De.alternate!==null&&pe.delete(De.key===null?Ee:De.key),R=u(De,R,Ee),Re===null?be=De:Re.sibling=De,Re=De);return e&&pe.forEach(function(Fy){return t(z,Fy)}),Oe&&ss(z,Ee),be}function Ve(z,R,P,ee){if(typeof P=="object"&&P!==null&&P.type===N&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case A:e:{for(var be=P.key;R!==null;){if(R.key===be){if(be=P.type,be===N){if(R.tag===7){n(z,R.sibling),ee=c(R,P.props.children),ee.return=z,z=ee;break e}}else if(R.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===de&&pn(be)===R.type){n(z,R.sibling),ee=c(R,P.props),tr(ee,P),ee.return=z,z=ee;break e}n(z,R);break}else t(z,R);R=R.sibling}P.type===N?(ee=dn(P.props.children,z.mode,ee,P.key),ee.return=z,z=ee):(ee=di(P.type,P.key,P.props,null,z.mode,ee),tr(ee,P),ee.return=z,z=ee)}return p(z);case j:e:{for(be=P.key;R!==null;){if(R.key===be)if(R.tag===4&&R.stateNode.containerInfo===P.containerInfo&&R.stateNode.implementation===P.implementation){n(z,R.sibling),ee=c(R,P.children||[]),ee.return=z,z=ee;break e}else{n(z,R);break}else t(z,R);R=R.sibling}ee=jc(P,z.mode,ee),ee.return=z,z=ee}return p(z);case de:return P=pn(P),Ve(z,R,P,ee)}if(me(P))return he(z,R,P,ee);if(fe(P)){if(be=fe(P),typeof be!="function")throw Error(o(150));return P=be.call(P),ye(z,R,P,ee)}if(typeof P.then=="function")return Ve(z,R,gi(P),ee);if(P.$$typeof===M)return Ve(z,R,mi(z,P),ee);bi(z,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,R!==null&&R.tag===6?(n(z,R.sibling),ee=c(R,P),ee.return=z,z=ee):(n(z,R),ee=wc(P,z.mode,ee),ee.return=z,z=ee),p(z)):n(z,R)}return function(z,R,P,ee){try{er=0;var be=Ve(z,R,P,ee);return sl=null,be}catch(pe){if(pe===al||pe===pi)throw pe;var Re=sa(29,pe,null,z.mode);return Re.lanes=ee,Re.return=z,Re}}}var gn=hf(!0),pf=hf(!1),Ts=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Be&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=ci(e),Z0(e,null,n),t}return oi(e,r,t,n),ci(e)}function ar(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pt(e,n)}}function Bc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var zc=!1;function sr(){if(zc){var e=tl;if(e!==null)throw e}}function nr(e,t,n,r){zc=!1;var c=e.updateQueue;Ts=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var _=w,$=_.next;_.next=null,p===null?u=$:p.next=$,p=_;var J=e.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==p&&(w===null?J.firstBaseUpdate=$:w.next=$,J.lastBaseUpdate=_))}if(u!==null){var te=c.baseState;p=0,J=$=_=null,w=u;do{var V=w.lane&-536870913,K=V!==w.lane;if(K?(Me&V)===V:(r&V)===V){V!==0&&V===el&&(zc=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=e,ye=w;V=t;var Ve=n;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){te=he.call(Ve,te,V);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,V=typeof he=="function"?he.call(Ve,te,V):he,V==null)break e;te=h({},te,V);break e;case 2:Ts=!0}}V=w.callback,V!==null&&(e.flags|=64,K&&(e.flags|=8192),K=c.callbacks,K===null?c.callbacks=[V]:K.push(V))}else K={lane:V,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?($=J=K,_=te):J=J.next=K,p|=V;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;K=w,w=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);J===null&&(_=te),c.baseState=_,c.firstBaseUpdate=$,c.lastBaseUpdate=J,u===null&&(c.shared.lanes=0),Bs|=p,e.lanes=p,e.memoizedState=te}}function xf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function gf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)xf(n[e],t)}var nl=E(null),yi=E(0);function bf(e,t){e=hs,H(yi,e),H(nl,t),hs=e|t.baseLanes}function Uc(){H(yi,hs),H(nl,nl.current)}function Hc(){hs=yi.current,T(nl),T(yi)}var na=E(null),ka=null;function _s(e){var t=e.alternate;H(nt,nt.current&1),H(na,e),ka===null&&(t===null||nl.current!==null||t.memoizedState!==null)&&(ka=e)}function qc(e){H(nt,nt.current),H(na,e),ka===null&&(ka=e)}function yf(e){e.tag===22?(H(nt,nt.current),H(na,e),ka===null&&(ka=e)):Os()}function Os(){H(nt,nt.current),H(na,na.current)}function la(e){T(na),ka===e&&(ka=null),T(nt)}var nt=E(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Gd(n)||Xd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=0,Se=null,$e=null,ut=null,wi=!1,ll=!1,bn=!1,ji=0,lr=0,rl=null,Hb=0;function at(){throw Error(o(321))}function Pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!aa(e[n],t[n]))return!1;return!0}function $c(e,t,n,r,c,u){return rs=u,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?am:sd,bn=!1,u=n(r,c),bn=!1,ll&&(u=wf(t,n,r,c)),vf(e),u}function vf(e){O.H=or;var t=$e!==null&&$e.next!==null;if(rs=0,ut=$e=Se=null,wi=!1,lr=0,rl=null,t)throw Error(o(300));e===null||ft||(e=e.dependencies,e!==null&&fi(e)&&(ft=!0))}function wf(e,t,n,r){Se=e;var c=0;do{if(ll&&(rl=null),lr=0,ll=!1,25<=c)throw Error(o(301));if(c+=1,ut=$e=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}O.H=sm,u=t(n,r)}while(ll);return u}function qb(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?rr(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Se.flags|=1024),t}function Ic(){var e=ji!==0;return ji=0,e}function Vc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yc(e){if(wi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wi=!1}rs=0,ut=$e=Se=null,ll=!1,lr=ji=0,rl=null}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Se.memoizedState=ut=e:ut=ut.next=e,ut}function lt(){if($e===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ut===null?Se.memoizedState:ut.next;if(t!==null)ut=t,$e=e;else{if(e===null)throw Se.alternate===null?Error(o(467)):Error(o(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ut===null?Se.memoizedState=ut=e:ut=ut.next=e}return ut}function ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rr(e){var t=lr;return lr+=1,rl===null&&(rl=[]),e=uf(rl,e,t),t=Se,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?am:sd),e}function Ni(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rr(e);if(e.$$typeof===M)return Ct(e)}throw Error(o(438,String(e)))}function Gc(e){var t=null,n=Se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ki(),Se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ae;return t.index++,n}function is(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=lt();return Xc(t,$e,e)}function Xc(e,t,n){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=n;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}t.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var w=p=null,_=null,$=t,J=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(Me&te)===te:(rs&te)===te){var V=$.revertLane;if(V===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===el&&(J=!0);else if((rs&V)===V){$=$.next,V===el&&(J=!0);continue}else te={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},_===null?(w=_=te,p=u):_=_.next=te,Se.lanes|=V,Bs|=V;te=$.action,bn&&n(u,te),u=$.hasEagerState?$.eagerState:n(u,te)}else V={lane:te,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},_===null?(w=_=V,p=u):_=_.next=V,Se.lanes|=te,Bs|=te;$=$.next}while($!==null&&$!==t);if(_===null?p=u:_.next=w,!aa(u,e.memoizedState)&&(ft=!0,J&&(n=tl,n!==null)))throw n;e.memoizedState=u,e.baseState=p,e.baseQueue=_,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Kc(e){var t=lt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do u=e(u,p.action),p=p.next;while(p!==c);aa(u,t.memoizedState)||(ft=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function jf(e,t,n){var r=Se,c=lt(),u=Oe;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var p=!aa(($e||c).memoizedState,n);if(p&&(c.memoizedState=n,ft=!0),c=c.queue,Zc(Sf.bind(null,r,c,e),[e]),c.getSnapshot!==t||p||ut!==null&&ut.memoizedState.tag&1){if(r.flags|=2048,il(9,{destroy:void 0},Nf.bind(null,r,c,n,t),null),Ye===null)throw Error(o(349));u||(rs&127)!==0||kf(r,t,n)}return n}function kf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t=ki(),Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nf(e,t,n,r){t.value=n,t.getSnapshot=r,Cf(t)&&Ef(e)}function Sf(e,t,n){return n(function(){Cf(t)&&Ef(e)})}function Cf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aa(e,n)}catch{return!0}}function Ef(e){var t=cn(e,2);t!==null&&Ft(t,e,2)}function Fc(e){var t=Bt();if(typeof e=="function"){var n=e;if(e=n(),bn){Aa(!0);try{n()}finally{Aa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t}function Af(e,t,n,r){return e.baseState=n,Xc(e,$e,typeof r=="function"?r:is)}function Pb(e,t,n,r,c){if(Ai(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};O.T!==null?n(!0):u.isTransition=!1,r(u),n=t.pending,n===null?(u.next=t.pending=u,Tf(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Tf(e,t){var n=t.action,r=t.payload,c=e.state;if(t.isTransition){var u=O.T,p={};O.T=p;try{var w=n(c,r),_=O.S;_!==null&&_(p,w),Lf(e,t,w)}catch($){Qc(e,t,$)}finally{u!==null&&p.types!==null&&(u.types=p.types),O.T=u}}else try{u=n(c,r),Lf(e,t,u)}catch($){Qc(e,t,$)}}function Lf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Mf(e,t,r)},function(r){return Qc(e,t,r)}):Mf(e,t,n)}function Mf(e,t,n){t.status="fulfilled",t.value=n,_f(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Tf(e,n)))}function Qc(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,_f(t),t=t.next;while(t!==r)}e.action=null}function _f(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Of(e,t){return t}function Rf(e,t){if(Oe){var n=Ye.formState;if(n!==null){e:{var r=Se;if(Oe){if(Xe){t:{for(var c=Xe,u=ja;c.nodeType!==8;){if(!u){c=null;break t}if(c=Na(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){Xe=Na(c.nextSibling),r=c.data==="F!";break e}}Es(r)}r=!1}r&&(t=n[0])}}return n=Bt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:t},n.queue=r,n=Wf.bind(null,Se,r),r.dispatch=n,r=Fc(!1),u=ad.bind(null,Se,!1,r.queue),r=Bt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,n=Pb.bind(null,Se,c,u,n),c.dispatch=n,r.memoizedState=e,[t,n,!1]}function Df(e){var t=lt();return Bf(t,$e,e)}function Bf(e,t,n){if(t=Xc(e,t,Of)[0],e=Si(is)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=rr(t)}catch(p){throw p===al?pi:p}else r=t;t=lt();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(Se.flags|=2048,il(9,{destroy:void 0},$b.bind(null,c,n),null)),[r,u,e]}function $b(e,t){e.action=t}function zf(e){var t=lt(),n=$e;if(n!==null)return Bf(t,n,e);lt(),t=t.memoizedState,n=lt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function il(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Se.updateQueue,t===null&&(t=ki(),Se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uf(){return lt().memoizedState}function Ci(e,t,n,r){var c=Bt();Se.flags|=e,c.memoizedState=il(1|t,{destroy:void 0},n,r===void 0?null:r)}function Ei(e,t,n,r){var c=lt();r=r===void 0?null:r;var u=c.memoizedState.inst;$e!==null&&r!==null&&Pc(r,$e.memoizedState.deps)?c.memoizedState=il(t,u,n,r):(Se.flags|=e,c.memoizedState=il(1|t,u,n,r))}function Hf(e,t){Ci(8390656,8,e,t)}function Zc(e,t){Ei(2048,8,e,t)}function Ib(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=ki(),Se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function qf(e){var t=lt().memoizedState;return Ib({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Pf(e,t){return Ei(4,2,e,t)}function $f(e,t){return Ei(4,4,e,t)}function If(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,n){n=n!=null?n.concat([e]):null,Ei(4,4,If.bind(null,t,e),n)}function Jc(){}function Yf(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gf(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Pc(t,r[1]))return r[0];if(r=e(),bn){Aa(!0);try{e()}finally{Aa(!1)}}return n.memoizedState=[r,t],r}function Wc(e,t,n){return n===void 0||(rs&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Xm(),Se.lanes|=e,Bs|=e,n)}function Xf(e,t,n,r){return aa(n,t)?n:nl.current!==null?(e=Wc(e,n,r),aa(e,t)||(ft=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(Me&261930)===0?(ft=!0,e.memoizedState=n):(e=Xm(),Se.lanes|=e,Bs|=e,t)}function Kf(e,t,n,r,c){var u=U.p;U.p=u!==0&&8>u?u:8;var p=O.T,w={};O.T=w,ad(e,!1,t,n);try{var _=c(),$=O.S;if($!==null&&$(w,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var J=Ub(_,r);ir(e,t,J,oa(e))}else ir(e,t,r,oa(e))}catch(te){ir(e,t,{then:function(){},status:"rejected",reason:te},oa())}finally{U.p=u,p!==null&&w.types!==null&&(p.types=w.types),O.T=p}}function Vb(){}function ed(e,t,n,r){if(e.tag!==5)throw Error(o(476));var c=Ff(e).queue;Kf(e,c,t,le,n===null?Vb:function(){return Qf(e),n(r)})}function Ff(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:le},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qf(e){var t=Ff(e);t.next===null&&(t=e.alternate.memoizedState),ir(e,t.next.queue,{},oa())}function td(){return Ct(Nr)}function Zf(){return lt().memoizedState}function Jf(){return lt().memoizedState}function Yb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=oa();e=Ls(n);var r=Ms(t,e,n);r!==null&&(Ft(r,t,n),ar(r,t,n)),t={cache:Lc()},e.payload=t;return}t=t.return}}function Gb(e,t,n){var r=oa();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ai(e)?em(t,n):(n=yc(e,t,n,r),n!==null&&(Ft(n,e,r),tm(n,t,r)))}function Wf(e,t,n){var r=oa();ir(e,t,n,r)}function ir(e,t,n,r){var c={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ai(e))em(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,w=u(p,n);if(c.hasEagerState=!0,c.eagerState=w,aa(w,p))return oi(e,t,c,0),Ye===null&&ii(),!1}catch{}if(n=yc(e,t,c,r),n!==null)return Ft(n,e,r),tm(n,t,r),!0}return!1}function ad(e,t,n,r){if(r={lane:2,revertLane:Rd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ai(e)){if(t)throw Error(o(479))}else t=yc(e,n,r,2),t!==null&&Ft(t,e,2)}function Ai(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function em(e,t){ll=wi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tm(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pt(e,n)}}var or={readContext:Ct,use:Ni,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};or.useEffectEvent=at;var am={readContext:Ct,use:Ni,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Hf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ci(4194308,4,If.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){Ci(4,2,e,t)},useMemo:function(e,t){var n=Bt();t=t===void 0?null:t;var r=e();if(bn){Aa(!0);try{e()}finally{Aa(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Bt();if(n!==void 0){var c=n(t);if(bn){Aa(!0);try{n(t)}finally{Aa(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Gb.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,n=Wf.bind(null,Se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jc,useDeferredValue:function(e,t){var n=Bt();return Wc(n,e,t)},useTransition:function(){var e=Fc(!1);return e=Kf.bind(null,Se,e.queue,!0,!1),Bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Se,c=Bt();if(Oe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ye===null)throw Error(o(349));(Me&127)!==0||kf(r,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,Hf(Sf.bind(null,r,u,e),[e]),r.flags|=2048,il(9,{destroy:void 0},Nf.bind(null,r,u,n,t),null),n},useId:function(){var e=Bt(),t=Ye.identifierPrefix;if(Oe){var n=$a,r=Pa;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ji++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Hb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:td,useFormState:Rf,useActionState:Rf,useOptimistic:function(e){var t=Bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ad.bind(null,Se,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gc,useCacheRefresh:function(){return Bt().memoizedState=Yb.bind(null,Se)},useEffectEvent:function(e){var t=Bt(),n={impl:e};return t.memoizedState=n,function(){if((Be&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},sd={readContext:Ct,use:Ni,useCallback:Yf,useContext:Ct,useEffect:Zc,useImperativeHandle:Vf,useInsertionEffect:Pf,useLayoutEffect:$f,useMemo:Gf,useReducer:Si,useRef:Uf,useState:function(){return Si(is)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=lt();return Xf(n,$e.memoizedState,e,t)},useTransition:function(){var e=Si(is)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:jf,useId:Zf,useHostTransitionStatus:td,useFormState:Df,useActionState:Df,useOptimistic:function(e,t){var n=lt();return Af(n,$e,e,t)},useMemoCache:Gc,useCacheRefresh:Jf};sd.useEffectEvent=qf;var sm={readContext:Ct,use:Ni,useCallback:Yf,useContext:Ct,useEffect:Zc,useImperativeHandle:Vf,useInsertionEffect:Pf,useLayoutEffect:$f,useMemo:Gf,useReducer:Kc,useRef:Uf,useState:function(){return Kc(is)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=lt();return $e===null?Wc(n,e,t):Xf(n,$e.memoizedState,e,t)},useTransition:function(){var e=Kc(is)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:jf,useId:Zf,useHostTransitionStatus:td,useFormState:zf,useActionState:zf,useOptimistic:function(e,t){var n=lt();return $e!==null?Af(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Jf};sm.useEffectEvent=qf;function nd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ld={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oa(),c=Ls(r);c.payload=t,n!=null&&(c.callback=n),t=Ms(e,c,r),t!==null&&(Ft(t,e,r),ar(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oa(),c=Ls(r);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ms(e,c,r),t!==null&&(Ft(t,e,r),ar(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oa(),r=Ls(n);r.tag=2,t!=null&&(r.callback=t),t=Ms(e,r,n),t!==null&&(Ft(t,e,n),ar(t,e,n))}};function nm(e,t,n,r,c,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,p):t.prototype&&t.prototype.isPureReactComponent?!Kl(n,r)||!Kl(c,u):!0}function lm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function yn(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=h({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function rm(e){ri(e)}function im(e){console.error(e)}function om(e){ri(e)}function Ti(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function cm(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function rd(e,t,n){return n=Ls(n),n.tag=3,n.payload={element:null},n.callback=function(){Ti(e,t)},n}function dm(e){return e=Ls(e),e.tag=3,e}function um(e,t,n,r){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){cm(t,n,r)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){cm(t,n,r),typeof c!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function Xb(e,t,n,r,c){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Wn(t,n,c,!0),n=na.current,n!==null){switch(n.tag){case 31:case 13:return ka===null?Pi():n.alternate===null&&st===0&&(st=3),n.flags&=-257,n.flags|=65536,n.lanes=c,r===xi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Md(e,r,c)),!1;case 22:return n.flags|=65536,r===xi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Md(e,r,c)),!1}throw Error(o(435,n.tag))}return Md(e,r,c),Pi(),!1}if(Oe)return t=na.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Sc&&(e=Error(o(422),{cause:r}),Zl(ya(e,n)))):(r!==Sc&&(t=Error(o(423),{cause:r}),Zl(ya(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=ya(r,n),c=rd(e.stateNode,r,c),Bc(e,c),st!==4&&(st=2)),!1;var u=Error(o(520),{cause:r});if(u=ya(u,n),xr===null?xr=[u]:xr.push(u),st!==4&&(st=2),t===null)return!0;r=ya(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=rd(n.stateNode,r,e),Bc(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(zs===null||!zs.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=dm(c),um(c,e,n,r),Bc(n,c),!1}n=n.return}while(n!==null);return!1}var id=Error(o(461)),ft=!1;function Et(e,t,n,r){t.child=e===null?pf(t,null,n,r):gn(t,e.child,n,r)}function fm(e,t,n,r,c){n=n.render;var u=t.ref;if("ref"in r){var p={};for(var w in r)w!=="ref"&&(p[w]=r[w])}else p=r;return mn(t),r=$c(e,t,n,p,u,c),w=Ic(),e!==null&&!ft?(Vc(e,t,c),os(e,t,c)):(Oe&&w&&kc(t),t.flags|=1,Et(e,t,r,c),t.child)}function mm(e,t,n,r,c){if(e===null){var u=n.type;return typeof u=="function"&&!vc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,hm(e,t,u,r,c)):(e=di(n.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!pd(e,c)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(p,r)&&e.ref===t.ref)return os(e,t,c)}return t.flags|=1,e=as(u,r),e.ref=t.ref,e.return=t,t.child=e}function hm(e,t,n,r,c){if(e!==null){var u=e.memoizedProps;if(Kl(u,r)&&e.ref===t.ref)if(ft=!1,t.pendingProps=r=u,pd(e,c))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,os(e,t,c)}return od(e,t,n,r,c)}function pm(e,t,n,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,t.child=null;return xm(e,t,u,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hi(t,u!==null?u.cachePool:null),u!==null?bf(t,u):Uc(),yf(t);else return r=t.lanes=536870912,xm(e,t,u!==null?u.baseLanes|n:n,n,r)}else u!==null?(hi(t,u.cachePool),bf(t,u),Os(),t.memoizedState=null):(e!==null&&hi(t,null),Uc(),Os());return Et(e,t,c,n),t.child}function cr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xm(e,t,n,r,c){var u=_c();return u=u===null?null:{parent:dt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&hi(t,null),Uc(),yf(t),e!==null&&Wn(e,t,r,!0),t.childLanes=c,null}function Li(e,t){return t=_i({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function gm(e,t,n){return gn(t,e.child,null,n),e=Li(t,t.pendingProps),e.flags|=2,la(t),t.memoizedState=null,e}function Kb(e,t,n){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(r.mode==="hidden")return e=Li(t,r),t.lanes=536870912,cr(null,e);if(qc(t),(e=Xe)?(e=Th(e,ja),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Pa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},n=W0(e),n.return=t,t.child=n,St=t,Xe=null)):e=null,e===null)throw Es(t);return t.lanes=536870912,null}return Li(t,r)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(qc(t),c)if(t.flags&256)t.flags&=-257,t=gm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ft||Wn(e,t,n,!1),c=(n&e.childLanes)!==0,ft||c){if(r=Ye,r!==null&&(p=$t(r,n),p!==0&&p!==u.retryLane))throw u.retryLane=p,cn(e,p),Ft(r,e,p),id;Pi(),t=gm(e,t,n)}else e=u.treeContext,Xe=Na(p.nextSibling),St=t,Oe=!0,Cs=null,ja=!1,e!==null&&af(t,e),t=Li(t,r),t.flags|=4096;return t}return e=as(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Mi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function od(e,t,n,r,c){return mn(t),n=$c(e,t,n,r,void 0,c),r=Ic(),e!==null&&!ft?(Vc(e,t,c),os(e,t,c)):(Oe&&r&&kc(t),t.flags|=1,Et(e,t,n,c),t.child)}function bm(e,t,n,r,c,u){return mn(t),t.updateQueue=null,n=wf(t,r,n,c),vf(e),r=Ic(),e!==null&&!ft?(Vc(e,t,u),os(e,t,u)):(Oe&&r&&kc(t),t.flags|=1,Et(e,t,n,u),t.child)}function ym(e,t,n,r,c){if(mn(t),t.stateNode===null){var u=Fn,p=n.contextType;typeof p=="object"&&p!==null&&(u=Ct(p)),u=new n(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ld,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},Rc(t),p=n.contextType,u.context=typeof p=="object"&&p!==null?Ct(p):Fn,u.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(nd(t,n,p,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&ld.enqueueReplaceState(u,u.state,null),nr(t,r,u,c),sr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var w=t.memoizedProps,_=yn(n,w);u.props=_;var $=u.context,J=n.contextType;p=Fn,typeof J=="object"&&J!==null&&(p=Ct(J));var te=n.getDerivedStateFromProps;J=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,J||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(w||$!==p)&&lm(t,u,r,p),Ts=!1;var V=t.memoizedState;u.state=V,nr(t,r,u,c),sr(),$=t.memoizedState,w||V!==$||Ts?(typeof te=="function"&&(nd(t,n,te,r),$=t.memoizedState),(_=Ts||nm(t,n,_,r,V,$,p))?(J||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=$),u.props=r,u.state=$,u.context=p,r=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Dc(e,t),p=t.memoizedProps,J=yn(n,p),u.props=J,te=t.pendingProps,V=u.context,$=n.contextType,_=Fn,typeof $=="object"&&$!==null&&(_=Ct($)),w=n.getDerivedStateFromProps,($=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==te||V!==_)&&lm(t,u,r,_),Ts=!1,V=t.memoizedState,u.state=V,nr(t,r,u,c),sr();var K=t.memoizedState;p!==te||V!==K||Ts||e!==null&&e.dependencies!==null&&fi(e.dependencies)?(typeof w=="function"&&(nd(t,n,w,r),K=t.memoizedState),(J=Ts||nm(t,n,J,r,V,K,_)||e!==null&&e.dependencies!==null&&fi(e.dependencies))?($||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,K,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,K,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=K),u.props=r,u.state=K,u.context=_,r=J):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,Mi(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=gn(t,e.child,null,c),t.child=gn(t,null,n,c)):Et(e,t,n,c),t.memoizedState=u.state,e=t.child):e=os(e,t,c),e}function vm(e,t,n,r){return un(),t.flags|=256,Et(e,t,n,r),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(e){return{baseLanes:e,cachePool:cf()}}function ud(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ia),e}function wm(e,t,n){var r=t.pendingProps,c=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(c?_s(t):Os(),(e=Xe)?(e=Th(e,ja),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Pa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},n=W0(e),n.return=t,t.child=n,St=t,Xe=null)):e=null,e===null)throw Es(t);return Xd(e)?t.lanes=32:t.lanes=536870912,null}var w=r.children;return r=r.fallback,c?(Os(),c=t.mode,w=_i({mode:"hidden",children:w},c),r=dn(r,c,n,null),w.return=t,r.return=t,w.sibling=r,t.child=w,r=t.child,r.memoizedState=dd(n),r.childLanes=ud(e,p,n),t.memoizedState=cd,cr(null,r)):(_s(t),fd(t,w))}var _=e.memoizedState;if(_!==null&&(w=_.dehydrated,w!==null)){if(u)t.flags&256?(_s(t),t.flags&=-257,t=md(e,t,n)):t.memoizedState!==null?(Os(),t.child=e.child,t.flags|=128,t=null):(Os(),w=r.fallback,c=t.mode,r=_i({mode:"visible",children:r.children},c),w=dn(w,c,n,null),w.flags|=2,r.return=t,w.return=t,r.sibling=w,t.child=r,gn(t,e.child,null,n),r=t.child,r.memoizedState=dd(n),r.childLanes=ud(e,p,n),t.memoizedState=cd,t=cr(null,r));else if(_s(t),Xd(w)){if(p=w.nextSibling&&w.nextSibling.dataset,p)var $=p.dgst;p=$,r=Error(o(419)),r.stack="",r.digest=p,Zl({value:r,source:null,stack:null}),t=md(e,t,n)}else if(ft||Wn(e,t,n,!1),p=(n&e.childLanes)!==0,ft||p){if(p=Ye,p!==null&&(r=$t(p,n),r!==0&&r!==_.retryLane))throw _.retryLane=r,cn(e,r),Ft(p,e,r),id;Gd(w)||Pi(),t=md(e,t,n)}else Gd(w)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Xe=Na(w.nextSibling),St=t,Oe=!0,Cs=null,ja=!1,e!==null&&af(t,e),t=fd(t,r.children),t.flags|=4096);return t}return c?(Os(),w=r.fallback,c=t.mode,_=e.child,$=_.sibling,r=as(_,{mode:"hidden",children:r.children}),r.subtreeFlags=_.subtreeFlags&65011712,$!==null?w=as($,w):(w=dn(w,c,n,null),w.flags|=2),w.return=t,r.return=t,r.sibling=w,t.child=r,cr(null,r),r=t.child,w=e.child.memoizedState,w===null?w=dd(n):(c=w.cachePool,c!==null?(_=dt._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=cf(),w={baseLanes:w.baseLanes|n,cachePool:c}),r.memoizedState=w,r.childLanes=ud(e,p,n),t.memoizedState=cd,cr(e.child,r)):(_s(t),n=e.child,e=n.sibling,n=as(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function fd(e,t){return t=_i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _i(e,t){return e=sa(22,e,null,t),e.lanes=0,e}function md(e,t,n){return gn(t,e.child,null,n),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ac(e.return,t,n)}function hd(e,t,n,r,c,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:c,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=n,p.tailMode=c,p.treeForkCount=u)}function km(e,t,n){var r=t.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var p=nt.current,w=(p&2)!==0;if(w?(p=p&1|2,t.flags|=128):p&=1,H(nt,p),Et(e,t,r,n),r=Oe?Ql:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jm(e,n,t);else if(e.tag===19)jm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&vi(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),hd(t,!1,c,n,u,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&vi(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}hd(t,!0,n,null,u,r);break;case"together":hd(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Wn(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=as(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=as(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fi(e)))}function Fb(e,t,n){switch(t.tag){case 3:ke(t,t.stateNode.containerInfo),As(t,dt,e.memoizedState.cache),un();break;case 27:case 5:ma(t);break;case 4:ke(t,t.stateNode.containerInfo);break;case 10:As(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qc(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(_s(t),t.flags|=128,null):(n&t.child.childLanes)!==0?wm(e,t,n):(_s(t),e=os(e,t,n),e!==null?e.sibling:null);_s(t);break;case 19:var c=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Wn(e,t,n,!1),r=(n&t.childLanes)!==0),c){if(r)return km(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),H(nt,nt.current),r)break;return null;case 22:return t.lanes=0,pm(e,t,n,t.pendingProps);case 24:As(t,dt,e.memoizedState.cache)}return os(e,t,n)}function Nm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!pd(e,n)&&(t.flags&128)===0)return ft=!1,Fb(e,t,n);ft=(e.flags&131072)!==0}else ft=!1,Oe&&(t.flags&1048576)!==0&&tf(t,Ql,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=pn(t.elementType),t.type=e,typeof e=="function")vc(e)?(r=yn(e,r),t.tag=1,t=ym(null,t,e,r,n)):(t.tag=0,t=od(null,t,e,r,n));else{if(e!=null){var c=e.$$typeof;if(c===B){t.tag=11,t=fm(null,t,e,r,n);break e}else if(c===W){t.tag=14,t=mm(null,t,e,r,n);break e}}throw t=ue(e)||e,Error(o(306,t,""))}}return t;case 0:return od(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,c=yn(r,t.pendingProps),ym(e,t,r,c,n);case 3:e:{if(ke(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var u=t.memoizedState;c=u.element,Dc(e,t),nr(t,r,null,n);var p=t.memoizedState;if(r=p.cache,As(t,dt,r),r!==u.cache&&Tc(t,[dt],n,!0),sr(),r=p.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=vm(e,t,r,n);break e}else if(r!==c){c=ya(Error(o(424)),t),Zl(c),t=vm(e,t,r,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xe=Na(e.firstChild),St=t,Oe=!0,Cs=null,ja=!0,n=pf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(un(),r===c){t=os(e,t,n);break e}Et(e,t,r,n)}t=t.child}return t;case 26:return Mi(e,t),e===null?(n=Dh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,r=Ki(ge.current).createElement(n),r[Nt]=t,r[It]=e,At(r,n,e),bt(r),t.stateNode=r):t.memoizedState=Dh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ma(t),e===null&&Oe&&(r=t.stateNode=_h(t.type,t.pendingProps,ge.current),St=t,ja=!0,c=Xe,Ps(t.type)?(Kd=c,Xe=Na(r.firstChild)):Xe=c),Et(e,t,t.pendingProps.children,n),Mi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((c=r=Xe)&&(r=Sy(r,t.type,t.pendingProps,ja),r!==null?(t.stateNode=r,St=t,Xe=Na(r.firstChild),ja=!1,c=!0):c=!1),c||Es(t)),ma(t),c=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,r=u.children,Id(c,u)?r=null:p!==null&&Id(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=$c(e,t,qb,null,null,n),Nr._currentValue=c),Mi(e,t),Et(e,t,r,n),t.child;case 6:return e===null&&Oe&&((e=n=Xe)&&(n=Cy(n,t.pendingProps,ja),n!==null?(t.stateNode=n,St=t,Xe=null,e=!0):e=!1),e||Es(t)),null;case 13:return wm(e,t,n);case 4:return ke(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gn(t,null,r,n):Et(e,t,r,n),t.child;case 11:return fm(e,t,t.type,t.pendingProps,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,As(t,t.type,r.value),Et(e,t,r.children,n),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,mn(t),c=Ct(c),r=r(c),t.flags|=1,Et(e,t,r,n),t.child;case 14:return mm(e,t,t.type,t.pendingProps,n);case 15:return hm(e,t,t.type,t.pendingProps,n);case 19:return km(e,t,n);case 31:return Kb(e,t,n);case 22:return pm(e,t,n,t.pendingProps);case 24:return mn(t),r=Ct(dt),e===null?(c=_c(),c===null&&(c=Ye,u=Lc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:r,cache:c},Rc(t),As(t,dt,c)):((e.lanes&n)!==0&&(Dc(e,t),nr(t,null,null,n),sr()),c=e.memoizedState,u=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),As(t,dt,r)):(r=u.cache,As(t,dt,r),r!==c.cache&&Tc(t,[dt],n,!0))),Et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function cs(e){e.flags|=4}function xd(e,t,n,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Zm())e.flags|=8192;else throw xn=xi,Oc}else e.flags&=-16777217}function Sm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qh(t))if(Zm())e.flags|=8192;else throw xn=xi,Oc}function Oi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mt():536870912,e.lanes|=t,ul|=t)}function dr(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qb(e,t,n){var r=t.pendingProps;switch(Nc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ls(dt),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jn(t)?cs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cc())),Ke(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(cs(t),u!==null?(Ke(t),Sm(t,u)):(Ke(t),xd(t,c,null,r,n))):u?u!==e.memoizedState?(cs(t),Ke(t),Sm(t,u)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&cs(t),Ke(t),xd(t,c,e,r,n)),null;case 27:if(ea(t),n=ge.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&cs(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}e=Q.current,Jn(t)?sf(t):(e=_h(c,r,n),t.stateNode=e,cs(t))}return Ke(t),null;case 5:if(ea(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&cs(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}if(u=Q.current,Jn(t))sf(t);else{var p=Ki(ge.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?p.createElement(c,{is:r.is}):p.createElement(c)}}u[Nt]=t,u[It]=r;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(At(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cs(t)}}return Ke(t),xd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&cs(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=ge.current,Jn(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,c=St,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||wh(e.nodeValue,n)),e||Es(t,!0)}else e=Ki(e).createTextNode(r),e[Nt]=t,t.stateNode=e}return Ke(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Jn(t),n!==null){if(e===null){if(!r)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Nt]=t}else un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else n=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(la(t),t):(la(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ke(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Jn(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Nt]=t}else un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),c=!1}else c=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(la(t),t):(la(t),null)}return la(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Oi(t,t.updateQueue),Ke(t),null);case 4:return He(),e===null&&Ud(t.stateNode.containerInfo),Ke(t),null;case 10:return ls(t.type),Ke(t),null;case 19:if(T(nt),r=t.memoizedState,r===null)return Ke(t),null;if(c=(t.flags&128)!==0,u=r.rendering,u===null)if(c)dr(r,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=vi(e),u!==null){for(t.flags|=128,dr(r,!1),e=u.updateQueue,t.updateQueue=e,Oi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)J0(n,e),n=n.sibling;return H(nt,nt.current&1|2),Oe&&ss(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&kt()>Ui&&(t.flags|=128,c=!0,dr(r,!1),t.lanes=4194304)}else{if(!c)if(e=vi(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Oi(t,e),dr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Oe)return Ke(t),null}else 2*kt()-r.renderingStartTime>Ui&&n!==536870912&&(t.flags|=128,c=!0,dr(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=kt(),e.sibling=null,n=nt.current,H(nt,c?n&1|2:n&1),Oe&&ss(t,r.treeForkCount),e):(Ke(t),null);case 22:case 23:return la(t),Hc(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),n=t.updateQueue,n!==null&&Oi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&T(hn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ls(dt),Ke(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Zb(e,t){switch(Nc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(dt),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ea(t),null;case 31:if(t.memoizedState!==null){if(la(t),t.alternate===null)throw Error(o(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(la(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T(nt),null;case 4:return He(),null;case 10:return ls(t.type),null;case 22:case 23:return la(t),Hc(),e!==null&&T(hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ls(dt),null;case 25:return null;default:return null}}function Cm(e,t){switch(Nc(t),t.tag){case 3:ls(dt),He();break;case 26:case 27:case 5:ea(t);break;case 4:He();break;case 31:t.memoizedState!==null&&la(t);break;case 13:la(t);break;case 19:T(nt);break;case 10:ls(t.type);break;case 22:case 23:la(t),Hc(),e!==null&&T(hn);break;case 24:ls(dt)}}function ur(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){r=void 0;var u=n.create,p=n.inst;r=u(),p.destroy=r}n=n.next}while(n!==c)}}catch(w){Pe(t,t.return,w)}}function Rs(e,t,n){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var p=r.inst,w=p.destroy;if(w!==void 0){p.destroy=void 0,c=t;var _=n,$=w;try{$()}catch(J){Pe(c,_,J)}}}r=r.next}while(r!==u)}}catch(J){Pe(t,t.return,J)}}function Em(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{gf(t,n)}catch(r){Pe(e,e.return,r)}}}function Am(e,t,n){n.props=yn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pe(e,t,r)}}function fr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(c){Pe(e,t,c)}}function Ia(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(c){Pe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Pe(e,t,c)}else n.current=null}function Tm(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(c){Pe(e,e.return,c)}}function gd(e,t,n){try{var r=e.stateNode;yy(r,e.type,n,t),r[It]=t}catch(c){Pe(e,e.return,c)}}function Lm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=es));else if(r!==4&&(r===27&&Ps(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yd(e,t,n),e=e.sibling;e!==null;)yd(e,t,n),e=e.sibling}function Ri(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ps(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ri(e,t,n),e=e.sibling;e!==null;)Ri(e,t,n),e=e.sibling}function Mm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);At(t,r,n),t[Nt]=e,t[It]=n}catch(u){Pe(e,e.return,u)}}var ds=!1,mt=!1,vd=!1,_m=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Jb(e,t){if(e=e.containerInfo,Pd=to,e=I0(e),mc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,w=-1,_=-1,$=0,J=0,te=e,V=null;t:for(;;){for(var K;te!==n||c!==0&&te.nodeType!==3||(w=p+c),te!==u||r!==0&&te.nodeType!==3||(_=p+r),te.nodeType===3&&(p+=te.nodeValue.length),(K=te.firstChild)!==null;)V=te,te=K;for(;;){if(te===e)break t;if(V===n&&++$===c&&(w=p),V===u&&++J===r&&(_=p),(K=te.nextSibling)!==null)break;te=V,V=te.parentNode}te=K}n=w===-1||_===-1?null:{start:w,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for($d={focusedElem:e,selectionRange:n},to=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,r=n.stateNode;try{var he=yn(n.type,c);e=r.getSnapshotBeforeUpdate(he,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Pe(n,n.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function Om(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:fs(e,n),r&4&&ur(5,n);break;case 1:if(fs(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Pe(n,n.return,p)}else{var c=yn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Pe(n,n.return,p)}}r&64&&Em(n),r&512&&fr(n,n.return);break;case 3:if(fs(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gf(e,t)}catch(p){Pe(n,n.return,p)}}break;case 27:t===null&&r&4&&Mm(n);case 26:case 5:fs(e,n),t===null&&r&4&&Tm(n),r&512&&fr(n,n.return);break;case 12:fs(e,n);break;case 31:fs(e,n),r&4&&Bm(e,n);break;case 13:fs(e,n),r&4&&zm(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=iy.bind(null,n),Ey(e,n))));break;case 22:if(r=n.memoizedState!==null||ds,!r){t=t!==null&&t.memoizedState!==null||mt,c=ds;var u=mt;ds=r,(mt=t)&&!u?ms(e,n,(n.subtreeFlags&8772)!==0):fs(e,n),ds=c,mt=u}break;case 30:break;default:fs(e,n)}}function Rm(e){var t=e.alternate;t!==null&&(e.alternate=null,Rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Yt=!1;function us(e,t,n){for(n=n.child;n!==null;)Dm(e,t,n),n=n.sibling}function Dm(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(tn,n)}catch{}switch(n.tag){case 26:mt||Ia(n,t),us(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:mt||Ia(n,t);var r=Je,c=Yt;Ps(n.type)&&(Je=n.stateNode,Yt=!1),us(e,t,n),wr(n.stateNode),Je=r,Yt=c;break;case 5:mt||Ia(n,t);case 6:if(r=Je,c=Yt,Je=null,us(e,t,n),Je=r,Yt=c,Je!==null)if(Yt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(u){Pe(n,t,u)}else try{Je.removeChild(n.stateNode)}catch(u){Pe(n,t,u)}break;case 18:Je!==null&&(Yt?(e=Je,Eh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),yl(e)):Eh(Je,n.stateNode));break;case 4:r=Je,c=Yt,Je=n.stateNode.containerInfo,Yt=!0,us(e,t,n),Je=r,Yt=c;break;case 0:case 11:case 14:case 15:Rs(2,n,t),mt||Rs(4,n,t),us(e,t,n);break;case 1:mt||(Ia(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Am(n,t,r)),us(e,t,n);break;case 21:us(e,t,n);break;case 22:mt=(r=mt)||n.memoizedState!==null,us(e,t,n),mt=r;break;default:us(e,t,n)}}function Bm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{yl(e)}catch(n){Pe(t,t.return,n)}}}function zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yl(e)}catch(n){Pe(t,t.return,n)}}function Wb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _m),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _m),t;default:throw Error(o(435,e.tag))}}function Di(e,t){var n=Wb(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var c=oy.bind(null,e,r);r.then(c,c)}})}function Gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var c=n[r],u=e,p=t,w=p;e:for(;w!==null;){switch(w.tag){case 27:if(Ps(w.type)){Je=w.stateNode,Yt=!1;break e}break;case 5:Je=w.stateNode,Yt=!1;break e;case 3:case 4:Je=w.stateNode.containerInfo,Yt=!0;break e}w=w.return}if(Je===null)throw Error(o(160));Dm(u,p,c),Je=null,Yt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Um(t,e),t=t.sibling}var Ma=null;function Um(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(t,e),Xt(e),r&4&&(Rs(3,e,e.return),ur(3,e),Rs(5,e,e.return));break;case 1:Gt(t,e),Xt(e),r&512&&(mt||n===null||Ia(n,n.return)),r&64&&ds&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var c=Ma;if(Gt(t,e),Xt(e),r&512&&(mt||n===null||Ia(n,n.return)),r&4){var u=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Hl]||u[Nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),At(u,r,n),u[Nt]=e,bt(u),r=u;break e;case"link":var p=Uh("link","href",c).get(r+(n.href||""));if(p){for(var w=0;w<p.length;w++)if(u=p[w],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(w,1);break t}}u=c.createElement(r),At(u,r,n),c.head.appendChild(u);break;case"meta":if(p=Uh("meta","content",c).get(r+(n.content||""))){for(w=0;w<p.length;w++)if(u=p[w],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(w,1);break t}}u=c.createElement(r),At(u,r,n),c.head.appendChild(u);break;default:throw Error(o(468,r))}u[Nt]=e,bt(u),r=u}e.stateNode=r}else Hh(c,e.type,e.stateNode);else e.stateNode=zh(c,r,e.memoizedProps);else u!==r?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,r===null?Hh(c,e.type,e.stateNode):zh(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&gd(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gt(t,e),Xt(e),r&512&&(mt||n===null||Ia(n,n.return)),n!==null&&r&4&&gd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gt(t,e),Xt(e),r&512&&(mt||n===null||Ia(n,n.return)),e.flags&32){c=e.stateNode;try{$n(c,"")}catch(he){Pe(e,e.return,he)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,gd(e,c,n!==null?n.memoizedProps:c)),r&1024&&(vd=!0);break;case 6:if(Gt(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(he){Pe(e,e.return,he)}}break;case 3:if(Zi=null,c=Ma,Ma=Fi(t.containerInfo),Gt(t,e),Ma=c,Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(he){Pe(e,e.return,he)}vd&&(vd=!1,Hm(e));break;case 4:r=Ma,Ma=Fi(e.stateNode.containerInfo),Gt(t,e),Xt(e),Ma=r;break;case 12:Gt(t,e),Xt(e);break;case 31:Gt(t,e),Xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Di(e,r)));break;case 13:Gt(t,e),Xt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zi=kt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Di(e,r)));break;case 22:c=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,$=ds,J=mt;if(ds=$||c,mt=J||_,Gt(t,e),mt=J,ds=$,Xt(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||_||ds||mt||vn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,c)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{w=_.stateNode;var te=_.memoizedProps.style,V=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(he){Pe(_,_.return,he)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(he){Pe(_,_.return,he)}}}else if(t.tag===18){if(n===null){_=t;try{var K=_.stateNode;c?Ah(K,!0):Ah(_.stateNode,!1)}catch(he){Pe(_,_.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Di(e,n))));break;case 19:Gt(t,e),Xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Di(e,r)));break;case 30:break;case 21:break;default:Gt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Lm(r)){n=r;break}r=r.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=bd(e);Ri(e,u,c);break;case 5:var p=n.stateNode;n.flags&32&&($n(p,""),n.flags&=-33);var w=bd(e);Ri(e,w,p);break;case 3:case 4:var _=n.stateNode.containerInfo,$=bd(e);yd(e,$,_);break;default:throw Error(o(161))}}catch(J){Pe(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Om(e,t.alternate,t),t=t.sibling}function vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rs(4,t,t.return),vn(t);break;case 1:Ia(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Am(t,t.return,n),vn(t);break;case 27:wr(t.stateNode);case 26:case 5:Ia(t,t.return),vn(t);break;case 22:t.memoizedState===null&&vn(t);break;case 30:vn(t);break;default:vn(t)}e=e.sibling}}function ms(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:ms(c,u,n),ur(4,u);break;case 1:if(ms(c,u,n),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch($){Pe(r,r.return,$)}if(r=u,c=r.updateQueue,c!==null){var w=r.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)xf(_[c],w)}catch($){Pe(r,r.return,$)}}n&&p&64&&Em(u),fr(u,u.return);break;case 27:Mm(u);case 26:case 5:ms(c,u,n),n&&r===null&&p&4&&Tm(u),fr(u,u.return);break;case 12:ms(c,u,n);break;case 31:ms(c,u,n),n&&p&4&&Bm(c,u);break;case 13:ms(c,u,n),n&&p&4&&zm(c,u);break;case 22:u.memoizedState===null&&ms(c,u,n),fr(u,u.return);break;case 30:break;default:ms(c,u,n)}t=t.sibling}}function wd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Jl(n))}function jd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jl(e))}function _a(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qm(e,t,n,r),t=t.sibling}function qm(e,t,n,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:_a(e,t,n,r),c&2048&&ur(9,t);break;case 1:_a(e,t,n,r);break;case 3:_a(e,t,n,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jl(e)));break;case 12:if(c&2048){_a(e,t,n,r),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,w=u.onPostCommit;typeof w=="function"&&w(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Pe(t,t.return,_)}}else _a(e,t,n,r);break;case 31:_a(e,t,n,r);break;case 13:_a(e,t,n,r);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?_a(e,t,n,r):mr(e,t):u._visibility&2?_a(e,t,n,r):(u._visibility|=2,ol(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&wd(p,t);break;case 24:_a(e,t,n,r),c&2048&&jd(t.alternate,t);break;default:_a(e,t,n,r)}}function ol(e,t,n,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,w=n,_=r,$=p.flags;switch(p.tag){case 0:case 11:case 15:ol(u,p,w,_,c),ur(8,p);break;case 23:break;case 22:var J=p.stateNode;p.memoizedState!==null?J._visibility&2?ol(u,p,w,_,c):mr(u,p):(J._visibility|=2,ol(u,p,w,_,c)),c&&$&2048&&wd(p.alternate,p);break;case 24:ol(u,p,w,_,c),c&&$&2048&&jd(p.alternate,p);break;default:ol(u,p,w,_,c)}t=t.sibling}}function mr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,c=r.flags;switch(r.tag){case 22:mr(n,r),c&2048&&wd(r.alternate,r);break;case 24:mr(n,r),c&2048&&jd(r.alternate,r);break;default:mr(n,r)}t=t.sibling}}var hr=8192;function cl(e,t,n){if(e.subtreeFlags&hr)for(e=e.child;e!==null;)Pm(e,t,n),e=e.sibling}function Pm(e,t,n){switch(e.tag){case 26:cl(e,t,n),e.flags&hr&&e.memoizedState!==null&&Hy(n,Ma,e.memoizedState,e.memoizedProps);break;case 5:cl(e,t,n);break;case 3:case 4:var r=Ma;Ma=Fi(e.stateNode.containerInfo),cl(e,t,n),Ma=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=hr,hr=16777216,cl(e,t,n),hr=r):cl(e,t,n));break;default:cl(e,t,n)}}function $m(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];yt=r,Vm(r,e)}$m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Im(e),e=e.sibling}function Im(e){switch(e.tag){case 0:case 11:case 15:pr(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:pr(e);break;case 12:pr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bi(e)):pr(e);break;default:pr(e)}}function Bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];yt=r,Vm(r,e)}$m(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rs(8,t,t.return),Bi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Bi(t));break;default:Bi(t)}e=e.sibling}}function Vm(e,t){for(;yt!==null;){var n=yt;switch(n.tag){case 0:case 11:case 15:Rs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Jl(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,yt=r;else e:for(n=e;yt!==null;){r=yt;var c=r.sibling,u=r.return;if(Rm(r),r===n){yt=null;break e}if(c!==null){c.return=u,yt=c;break e}yt=u}}}var ey={getCacheForType:function(e){var t=Ct(dt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ct(dt).controller.signal}},ty=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ye=null,Ae=null,Me=0,qe=0,ra=null,Ds=!1,dl=!1,kd=!1,hs=0,st=0,Bs=0,wn=0,Nd=0,ia=0,ul=0,xr=null,Kt=null,Sd=!1,zi=0,Ym=0,Ui=1/0,Hi=null,zs=null,xt=0,Us=null,fl=null,ps=0,Cd=0,Ed=null,Gm=null,gr=0,Ad=null;function oa(){return(Be&2)!==0&&Me!==0?Me&-Me:O.T!==null?Rd():Ko()}function Xm(){if(ia===0)if((Me&536870912)===0||Oe){var e=Rn;Rn<<=1,(Rn&3932160)===0&&(Rn=262144),ia=e}else ia=536870912;return e=na.current,e!==null&&(e.flags|=32),ia}function Ft(e,t,n){(e===Ye&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(ml(e,0),Hs(e,Me,ia,!1)),et(e,n),((Be&2)===0||e!==Ye)&&(e===Ye&&((Be&2)===0&&(wn|=n),st===4&&Hs(e,Me,ia,!1)),Va(e))}function Km(e,t,n){if((Be&6)!==0)throw Error(o(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ze(e,t),c=r?ny(e,t):Ld(e,t,!0),u=r;do{if(c===0){dl&&!r&&Hs(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!ay(n)){c=Ld(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var w=e;c=xr;var _=w.current.memoizedState.isDehydrated;if(_&&(ml(w,p).flags|=256),p=Ld(w,p,!1),p!==2){if(kd&&!_){w.errorRecoveryDisabledLanes|=u,wn|=u,c=4;break e}u=Kt,Kt=c,u!==null&&(Kt===null?Kt=u:Kt.push.apply(Kt,u))}c=p}if(u=!1,c!==2)continue}}if(c===1){ml(e,0),Hs(e,t,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Hs(r,t,ia,!Ds);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=zi+300-kt(),10<c)){if(Hs(r,t,ia,!Ds),je(r,0,!0)!==0)break e;ps=t,r.timeoutHandle=Sh(Fm.bind(null,r,n,Kt,Hi,Sd,t,ia,wn,ul,Ds,u,"Throttled",-0,0),c);break e}Fm(r,n,Kt,Hi,Sd,t,ia,wn,ul,Ds,u,null,-0,0)}}break}while(!0);Va(e)}function Fm(e,t,n,r,c,u,p,w,_,$,J,te,V,K){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},Pm(t,u,te);var he=(u&62914560)===u?zi-kt():(u&4194048)===u?Ym-kt():0;if(he=qy(te,he),he!==null){ps=u,e.cancelPendingCommit=he(sh.bind(null,e,t,u,n,r,c,p,w,_,J,te,null,V,K)),Hs(e,u,p,!$);return}}sh(e,t,u,n,r,c,p,w,_)}function ay(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var c=n[r],u=c.getSnapshot;c=c.value;try{if(!aa(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hs(e,t,n,r){t&=~Nd,t&=~wn,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var u=31-Lt(c),p=1<<u;r[u]=-1,c&=~p}n!==0&&sn(e,n,t)}function qi(){return(Be&6)===0?(br(0),!1):!0}function Td(){if(Ae!==null){if(qe===0)var e=Ae.return;else e=Ae,ns=fn=null,Yc(e),sl=null,er=0,e=Ae;for(;e!==null;)Cm(e.alternate,e),e=e.return;Ae=null}}function ml(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ps=0,Td(),Ye=e,Ae=n=as(e.current,null),Me=t,qe=0,ra=null,Ds=!1,dl=Ze(e,t),kd=!1,ul=ia=Nd=wn=Bs=st=0,Kt=xr=null,Sd=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Lt(r),u=1<<c;t|=e[c],r&=~u}return hs=t,ii(),n}function Qm(e,t){Se=null,O.H=or,t===al||t===pi?(t=ff(),qe=3):t===Oc?(t=ff(),qe=4):qe=t===id?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ra=t,Ae===null&&(st=1,Ti(e,ya(t,e.current)))}function Zm(){var e=na.current;return e===null?!0:(Me&4194048)===Me?ka===null:(Me&62914560)===Me||(Me&536870912)!==0?e===ka:!1}function Jm(){var e=O.H;return O.H=or,e===null?or:e}function Wm(){var e=O.A;return O.A=ey,e}function Pi(){st=4,Ds||(Me&4194048)!==Me&&na.current!==null||(dl=!0),(Bs&134217727)===0&&(wn&134217727)===0||Ye===null||Hs(Ye,Me,ia,!1)}function Ld(e,t,n){var r=Be;Be|=2;var c=Jm(),u=Wm();(Ye!==e||Me!==t)&&(Hi=null,ml(e,t)),t=!1;var p=st;e:do try{if(qe!==0&&Ae!==null){var w=Ae,_=ra;switch(qe){case 8:Td(),p=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(t=!0);var $=qe;if(qe=0,ra=null,hl(e,w,_,$),n&&dl){p=0;break e}break;default:$=qe,qe=0,ra=null,hl(e,w,_,$)}}sy(),p=st;break}catch(J){Qm(e,J)}while(!0);return t&&e.shellSuspendCounter++,ns=fn=null,Be=r,O.H=c,O.A=u,Ae===null&&(Ye=null,Me=0,ii()),p}function sy(){for(;Ae!==null;)eh(Ae)}function ny(e,t){var n=Be;Be|=2;var r=Jm(),c=Wm();Ye!==e||Me!==t?(Hi=null,Ui=kt()+500,ml(e,t)):dl=Ze(e,t);e:do try{if(qe!==0&&Ae!==null){t=Ae;var u=ra;t:switch(qe){case 1:qe=0,ra=null,hl(e,t,u,1);break;case 2:case 9:if(df(u)){qe=0,ra=null,th(t);break}t=function(){qe!==2&&qe!==9||Ye!==e||(qe=7),Va(e)},u.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:df(u)?(qe=0,ra=null,th(t)):(qe=0,ra=null,hl(e,t,u,7));break;case 5:var p=null;switch(Ae.tag){case 26:p=Ae.memoizedState;case 5:case 27:var w=Ae;if(p?qh(p):w.stateNode.complete){qe=0,ra=null;var _=w.sibling;if(_!==null)Ae=_;else{var $=w.return;$!==null?(Ae=$,$i($)):Ae=null}break t}}qe=0,ra=null,hl(e,t,u,5);break;case 6:qe=0,ra=null,hl(e,t,u,6);break;case 8:Td(),st=6;break e;default:throw Error(o(462))}}ly();break}catch(J){Qm(e,J)}while(!0);return ns=fn=null,O.H=r,O.A=c,Be=n,Ae!==null?0:(Ye=null,Me=0,ii(),st)}function ly(){for(;Ae!==null&&!pt();)eh(Ae)}function eh(e){var t=Nm(e.alternate,e,hs);e.memoizedProps=e.pendingProps,t===null?$i(e):Ae=t}function th(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=bm(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=bm(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Yc(t);default:Cm(n,t),t=Ae=J0(t,hs),t=Nm(n,t,hs)}e.memoizedProps=e.pendingProps,t===null?$i(e):Ae=t}function hl(e,t,n,r){ns=fn=null,Yc(t),sl=null,er=0;var c=t.return;try{if(Xb(e,c,t,n,Me)){st=1,Ti(e,ya(n,e.current)),Ae=null;return}}catch(u){if(c!==null)throw Ae=c,u;st=1,Ti(e,ya(n,e.current)),Ae=null;return}t.flags&32768?(Oe||r===1?e=!0:dl||(Me&536870912)!==0?e=!1:(Ds=e=!0,(r===2||r===9||r===3||r===6)&&(r=na.current,r!==null&&r.tag===13&&(r.flags|=16384))),ah(t,e)):$i(t)}function $i(e){var t=e;do{if((t.flags&32768)!==0){ah(t,Ds);return}e=t.return;var n=Qb(t.alternate,t,hs);if(n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);st===0&&(st=5)}function ah(e,t){do{var n=Zb(e.alternate,e);if(n!==null){n.flags&=32767,Ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=n}while(e!==null);st=6,Ae=null}function sh(e,t,n,r,c,u,p,w,_){e.cancelPendingCommit=null;do Ii();while(xt!==0);if((Be&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=bc,qt(e,n,u,p,w,_),e===Ye&&(Ae=Ye=null,Me=0),fl=t,Us=e,ps=n,Cd=u,Ed=c,Gm=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cy(en,function(){return oh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,c=U.p,U.p=2,p=Be,Be|=4;try{Jb(e,t,n)}finally{Be=p,U.p=c,O.T=r}}xt=1,nh(),lh(),rh()}}function nh(){if(xt===1){xt=0;var e=Us,t=fl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null;var r=U.p;U.p=2;var c=Be;Be|=4;try{Um(t,e);var u=$d,p=I0(e.containerInfo),w=u.focusedElem,_=u.selectionRange;if(p!==w&&w&&w.ownerDocument&&$0(w.ownerDocument.documentElement,w)){if(_!==null&&mc(w)){var $=_.start,J=_.end;if(J===void 0&&(J=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(J,w.value.length);else{var te=w.ownerDocument||document,V=te&&te.defaultView||window;if(V.getSelection){var K=V.getSelection(),he=w.textContent.length,ye=Math.min(_.start,he),Ve=_.end===void 0?ye:Math.min(_.end,he);!K.extend&&ye>Ve&&(p=Ve,Ve=ye,ye=p);var z=P0(w,ye),R=P0(w,Ve);if(z&&R&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==R.node||K.focusOffset!==R.offset)){var P=te.createRange();P.setStart(z.node,z.offset),K.removeAllRanges(),ye>Ve?(K.addRange(P),K.extend(R.node,R.offset)):(P.setEnd(R.node,R.offset),K.addRange(P))}}}}for(te=[],K=w;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var ee=te[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}to=!!Pd,$d=Pd=null}finally{Be=c,U.p=r,O.T=n}}e.current=t,xt=2}}function lh(){if(xt===2){xt=0;var e=Us,t=fl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=O.T,O.T=null;var r=U.p;U.p=2;var c=Be;Be|=4;try{Om(e,t.alternate,t)}finally{Be=c,U.p=r,O.T=n}}xt=3}}function rh(){if(xt===4||xt===3){xt=0,pa();var e=Us,t=fl,n=ps,r=Gm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,fl=Us=null,ih(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(zs=null),Ta(n),t=t.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(tn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=O.T,c=U.p,U.p=2,O.T=null;try{for(var u=e.onRecoverableError,p=0;p<r.length;p++){var w=r[p];u(w.value,{componentStack:w.stack})}}finally{O.T=t,U.p=c}}(ps&3)!==0&&Ii(),Va(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Ad?gr++:(gr=0,Ad=e):gr=0,br(0)}}function ih(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jl(t)))}function Ii(){return nh(),lh(),rh(),oh()}function oh(){if(xt!==5)return!1;var e=Us,t=Cd;Cd=0;var n=Ta(ps),r=O.T,c=U.p;try{U.p=32>n?32:n,O.T=null,n=Ed,Ed=null;var u=Us,p=ps;if(xt=0,fl=Us=null,ps=0,(Be&6)!==0)throw Error(o(331));var w=Be;if(Be|=4,Im(u.current),qm(u,u.current,p,n),Be=w,br(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(tn,u)}catch{}return!0}finally{U.p=c,O.T=r,ih(e,t)}}function ch(e,t,n){t=ya(n,t),t=rd(e.stateNode,t,2),e=Ms(e,t,2),e!==null&&(et(e,2),Va(e))}function Pe(e,t,n){if(e.tag===3)ch(e,e,n);else for(;t!==null;){if(t.tag===3){ch(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){e=ya(n,e),n=dm(2),r=Ms(t,n,2),r!==null&&(um(n,r,t,e),et(r,2),Va(r));break}}t=t.return}}function Md(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ty;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(n)||(kd=!0,c.add(n),e=ry.bind(null,e,t,n),t.then(e,e))}function ry(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ye===e&&(Me&n)===n&&(st===4||st===3&&(Me&62914560)===Me&&300>kt()-zi?(Be&2)===0&&ml(e,0):Nd|=n,ul===Me&&(ul=0)),Va(e)}function dh(e,t){t===0&&(t=Mt()),e=cn(e,t),e!==null&&(et(e,t),Va(e))}function iy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dh(e,n)}function oy(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),dh(e,n)}function cy(e,t){return Za(e,t)}var Vi=null,pl=null,_d=!1,Yi=!1,Od=!1,qs=0;function Va(e){e!==pl&&e.next===null&&(pl===null?Vi=pl=e:pl=pl.next=e),Yi=!0,_d||(_d=!0,uy())}function br(e,t){if(!Od&&Yi){Od=!0;do for(var n=!1,r=Vi;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var p=r.suspendedLanes,w=r.pingedLanes;u=(1<<31-Lt(42|e)+1)-1,u&=c&~(p&~w),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,hh(r,u))}else u=Me,u=je(r,r===Ye?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Ze(r,u)||(n=!0,hh(r,u));r=r.next}while(n);Od=!1}}function dy(){uh()}function uh(){Yi=_d=!1;var e=0;qs!==0&&wy()&&(e=qs);for(var t=kt(),n=null,r=Vi;r!==null;){var c=r.next,u=fh(r,t);u===0?(r.next=null,n===null?Vi=c:n.next=c,c===null&&(pl=n)):(n=r,(e!==0||(u&3)!==0)&&(Yi=!0)),r=c}xt!==0&&xt!==5||br(e),qs!==0&&(qs=0)}function fh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-Lt(u),w=1<<p,_=c[p];_===-1?((w&n)===0||(w&r)!==0)&&(c[p]=gt(w,t)):_<=t&&(e.expiredLanes|=w),u&=~w}if(t=Ye,n=Me,n=je(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Qe(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ze(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Qe(r),Ta(n)){case 2:case 8:n=Kr;break;case 32:n=en;break;case 268435456:n=Ja;break;default:n=en}return r=mh.bind(null,e),n=Za(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Qe(r),e.callbackPriority=2,e.callbackNode=null,2}function mh(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ii()&&e.callbackNode!==n)return null;var r=Me;return r=je(e,e===Ye?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Km(e,r,t),fh(e,kt()),e.callbackNode!=null&&e.callbackNode===n?mh.bind(null,e):null)}function hh(e,t){if(Ii())return null;Km(e,t,!0)}function uy(){ky(function(){(Be&6)!==0?Za(vs,dy):uh()})}function Rd(){if(qs===0){var e=el;e===0&&(e=On,On<<=1,(On&261888)===0&&(On=256)),qs=e}return qs}function ph(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function xh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fy(e,t,n,r,c){if(t==="submit"&&n&&n.stateNode===c){var u=ph((c[It]||null).action),p=r.submitter;p&&(t=(t=p[It]||null)?ph(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var w=new si("action","action",null,r,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(qs!==0){var _=p?xh(c,p):new FormData(c);ed(n,{pending:!0,data:_,method:c.method,action:u},null,_)}}else typeof u=="function"&&(w.preventDefault(),_=p?xh(c,p):new FormData(c),ed(n,{pending:!0,data:_,method:c.method,action:u},u,_))},currentTarget:c}]})}}for(var Dd=0;Dd<gc.length;Dd++){var Bd=gc[Dd],my=Bd.toLowerCase(),hy=Bd[0].toUpperCase()+Bd.slice(1);La(my,"on"+hy)}La(G0,"onAnimationEnd"),La(X0,"onAnimationIteration"),La(K0,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(Lb,"onTransitionRun"),La(Mb,"onTransitionStart"),La(_b,"onTransitionCancel"),La(F0,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yr));function gh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],c=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var p=r.length-1;0<=p;p--){var w=r[p],_=w.instance,$=w.currentTarget;if(w=w.listener,_!==u&&c.isPropagationStopped())break e;u=w,c.currentTarget=$;try{u(c)}catch(J){ri(J)}c.currentTarget=null,u=_}else for(p=0;p<r.length;p++){if(w=r[p],_=w.instance,$=w.currentTarget,w=w.listener,_!==u&&c.isPropagationStopped())break e;u=w,c.currentTarget=$;try{u(c)}catch(J){ri(J)}c.currentTarget=null,u=_}}}}function Te(e,t){var n=t[Fo];n===void 0&&(n=t[Fo]=new Set);var r=e+"__bubble";n.has(r)||(bh(t,e,2,!1),n.add(r))}function zd(e,t,n){var r=0;t&&(r|=4),bh(n,e,r,t)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function Ud(e){if(!e[Gi]){e[Gi]=!0,d0.forEach(function(n){n!=="selectionchange"&&(py.has(n)||zd(n,!1,e),zd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gi]||(t[Gi]=!0,zd("selectionchange",!1,t))}}function bh(e,t,n,r){switch(Xh(t)){case 2:var c=Iy;break;case 8:c=Vy;break;default:c=Wd}n=c.bind(null,t,n,e),c=void 0,!nc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Hd(e,t,n,r,c){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var w=r.stateNode.containerInfo;if(w===c)break;if(p===4)for(p=r.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;w!==null;){if(p=zn(w),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){r=u=p;continue e}w=w.parentNode}}r=r.return}j0(function(){var $=u,J=ac(n),te=[];e:{var V=Q0.get(e);if(V!==void 0){var K=si,he=e;switch(e){case"keypress":if(ti(n)===0)break e;case"keydown":case"keyup":K=ob;break;case"focusin":he="focus",K=oc;break;case"focusout":he="blur",K=oc;break;case"beforeblur":case"afterblur":K=oc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=S0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ub;break;case G0:case X0:case K0:K=Wg;break;case F0:K=mb;break;case"scroll":case"scrollend":K=Kg;break;case"wheel":K=pb;break;case"copy":case"cut":case"paste":K=tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=E0;break;case"toggle":case"beforetoggle":K=gb}var ye=(t&4)!==0,Ve=!ye&&(e==="scroll"||e==="scrollend"),z=ye?V!==null?V+"Capture":null:V;ye=[];for(var R=$,P;R!==null;){var ee=R;if(P=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||P===null||z===null||(ee=Pl(R,z),ee!=null&&ye.push(vr(R,ee,P))),Ve)break;R=R.return}0<ye.length&&(V=new K(V,he,null,n,J),te.push({event:V,listeners:ye}))}}if((t&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",V&&n!==tc&&(he=n.relatedTarget||n.fromElement)&&(zn(he)||he[Bn]))break e;if((K||V)&&(V=J.window===J?J:(V=J.ownerDocument)?V.defaultView||V.parentWindow:window,K?(he=n.relatedTarget||n.toElement,K=$,he=he?zn(he):null,he!==null&&(Ve=f(he),ye=he.tag,he!==Ve||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(K=null,he=$),K!==he)){if(ye=S0,ee="onMouseLeave",z="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ye=E0,ee="onPointerLeave",z="onPointerEnter",R="pointer"),Ve=K==null?V:ql(K),P=he==null?V:ql(he),V=new ye(ee,R+"leave",K,n,J),V.target=Ve,V.relatedTarget=P,ee=null,zn(J)===$&&(ye=new ye(z,R+"enter",he,n,J),ye.target=P,ye.relatedTarget=Ve,ee=ye),Ve=ee,K&&he)t:{for(ye=xy,z=K,R=he,P=0,ee=z;ee;ee=ye(ee))P++;ee=0;for(var be=R;be;be=ye(be))ee++;for(;0<P-ee;)z=ye(z),P--;for(;0<ee-P;)R=ye(R),ee--;for(;P--;){if(z===R||R!==null&&z===R.alternate){ye=z;break t}z=ye(z),R=ye(R)}ye=null}else ye=null;K!==null&&yh(te,V,K,ye,!1),he!==null&&Ve!==null&&yh(te,Ve,he,ye,!0)}}e:{if(V=$?ql($):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var Re=D0;else if(O0(V))if(B0)Re=Eb;else{Re=Sb;var pe=Nb}else K=V.nodeName,!K||K.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?$&&ec($.elementType)&&(Re=D0):Re=Cb;if(Re&&(Re=Re(e,$))){R0(te,Re,n,J);break e}pe&&pe(e,V,$),e==="focusout"&&$&&V.type==="number"&&$.memoizedProps.value!=null&&Wo(V,"number",V.value)}switch(pe=$?ql($):window,e){case"focusin":(O0(pe)||pe.contentEditable==="true")&&(Gn=pe,hc=$,Fl=null);break;case"focusout":Fl=hc=Gn=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,V0(te,n,J);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":V0(te,n,J)}var Ee;if(dc)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Yn?M0(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(A0&&n.locale!=="ko"&&(Yn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Yn&&(Ee=k0()):(Ns=J,lc="value"in Ns?Ns.value:Ns.textContent,Yn=!0)),pe=Xi($,_e),0<pe.length&&(_e=new C0(_e,e,null,n,J),te.push({event:_e,listeners:pe}),Ee?_e.data=Ee:(Ee=_0(n),Ee!==null&&(_e.data=Ee)))),(Ee=yb?vb(e,n):wb(e,n))&&(_e=Xi($,"onBeforeInput"),0<_e.length&&(pe=new C0("onBeforeInput","beforeinput",null,n,J),te.push({event:pe,listeners:_e}),pe.data=Ee)),fy(te,e,$,n,J)}gh(te,t)})}function vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Pl(e,n),c!=null&&r.unshift(vr(e,c,u)),c=Pl(e,t),c!=null&&r.push(vr(e,c,u))),e.tag===3)return r;e=e.return}return[]}function xy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yh(e,t,n,r,c){for(var u=t._reactName,p=[];n!==null&&n!==r;){var w=n,_=w.alternate,$=w.stateNode;if(w=w.tag,_!==null&&_===r)break;w!==5&&w!==26&&w!==27||$===null||(_=$,c?($=Pl(n,u),$!=null&&p.unshift(vr(n,$,_))):c||($=Pl(n,u),$!=null&&p.push(vr(n,$,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var gy=/\r\n?/g,by=/\u0000|\uFFFD/g;function vh(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(by,"")}function wh(e,t){return t=vh(t),vh(e)===t}function Ie(e,t,n,r,c,u){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||$n(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&$n(e,""+r);break;case"className":Zr(e,"class",r);break;case"tabIndex":Zr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(e,n,r);break;case"style":v0(e,r,u);break;case"data":if(t!=="object"){Zr(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Wr(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ie(e,t,"name",c.name,c,null),Ie(e,t,"formEncType",c.formEncType,c,null),Ie(e,t,"formMethod",c.formMethod,c,null),Ie(e,t,"formTarget",c.formTarget,c,null)):(Ie(e,t,"encType",c.encType,c,null),Ie(e,t,"method",c.method,c,null),Ie(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Wr(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=es);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Wr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Qr(e,"popover",r);break;case"xlinkActuate":Wa(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Wa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Wa(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Wa(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Wa(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Wa(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Wa(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Wa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Wa(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Qr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Gg.get(n)||n,Qr(e,n,r))}}function qd(e,t,n,r,c,u){switch(n){case"style":v0(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof r=="string"?$n(e,r):(typeof r=="number"||typeof r=="bigint")&&$n(e,""+r);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"onClick":r!=null&&(e.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[It]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,c);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Qr(e,n,r)}}}function At(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var r=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var p=n[u];if(p!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ie(e,t,u,p,n,null)}}c&&Ie(e,t,"srcSet",n.srcSet,n,null),r&&Ie(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var w=u=p=c=null,_=null,$=null;for(r in n)if(n.hasOwnProperty(r)){var J=n[r];if(J!=null)switch(r){case"name":c=J;break;case"type":p=J;break;case"checked":_=J;break;case"defaultChecked":$=J;break;case"value":u=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:Ie(e,t,r,J,n,null)}}x0(e,u,w,_,$,p,c,!1);return;case"select":Te("invalid",e),r=p=u=null;for(c in n)if(n.hasOwnProperty(c)&&(w=n[c],w!=null))switch(c){case"value":u=w;break;case"defaultValue":p=w;break;case"multiple":r=w;default:Ie(e,t,c,w,n,null)}t=u,n=p,e.multiple=!!r,t!=null?Pn(e,!!r,t,!1):n!=null&&Pn(e,!!r,n,!0);return;case"textarea":Te("invalid",e),u=c=r=null;for(p in n)if(n.hasOwnProperty(p)&&(w=n[p],w!=null))switch(p){case"value":r=w;break;case"defaultValue":c=w;break;case"children":u=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:Ie(e,t,p,w,n,null)}b0(e,r,c,u);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(r=n[_],r!=null)&&(_==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ie(e,t,_,r,n,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(r=0;r<yr.length;r++)Te(yr[r],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in n)if(n.hasOwnProperty($)&&(r=n[$],r!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ie(e,t,$,r,n,null)}return;default:if(ec(t)){for(J in n)n.hasOwnProperty(J)&&(r=n[J],r!==void 0&&qd(e,t,J,r,n,void 0));return}}for(w in n)n.hasOwnProperty(w)&&(r=n[w],r!=null&&Ie(e,t,w,r,n,null))}function yy(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,p=null,w=null,_=null,$=null,J=null;for(K in n){var te=n[K];if(n.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":_=te;default:r.hasOwnProperty(K)||Ie(e,t,K,null,r,te)}}for(var V in r){var K=r[V];if(te=n[V],r.hasOwnProperty(V)&&(K!=null||te!=null))switch(V){case"type":u=K;break;case"name":c=K;break;case"checked":$=K;break;case"defaultChecked":J=K;break;case"value":p=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:K!==te&&Ie(e,t,V,K,r,te)}}Jo(e,p,w,_,$,J,u,c);return;case"select":K=p=w=V=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":K=_;default:r.hasOwnProperty(u)||Ie(e,t,u,null,r,_)}for(c in r)if(u=r[c],_=n[c],r.hasOwnProperty(c)&&(u!=null||_!=null))switch(c){case"value":V=u;break;case"defaultValue":w=u;break;case"multiple":p=u;default:u!==_&&Ie(e,t,c,u,r,_)}t=w,n=p,r=K,V!=null?Pn(e,!!n,V,!1):!!r!=!!n&&(t!=null?Pn(e,!!n,t,!0):Pn(e,!!n,n?[]:"",!1));return;case"textarea":K=V=null;for(w in n)if(c=n[w],n.hasOwnProperty(w)&&c!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ie(e,t,w,null,r,c)}for(p in r)if(c=r[p],u=n[p],r.hasOwnProperty(p)&&(c!=null||u!=null))switch(p){case"value":V=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&Ie(e,t,p,c,r,u)}g0(e,V,K);return;case"option":for(var he in n)V=n[he],n.hasOwnProperty(he)&&V!=null&&!r.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:Ie(e,t,he,null,r,V));for(_ in r)V=r[_],K=n[_],r.hasOwnProperty(_)&&V!==K&&(V!=null||K!=null)&&(_==="selected"?e.selected=V&&typeof V!="function"&&typeof V!="symbol":Ie(e,t,_,V,r,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in n)V=n[ye],n.hasOwnProperty(ye)&&V!=null&&!r.hasOwnProperty(ye)&&Ie(e,t,ye,null,r,V);for($ in r)if(V=r[$],K=n[$],r.hasOwnProperty($)&&V!==K&&(V!=null||K!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,t));break;default:Ie(e,t,$,V,r,K)}return;default:if(ec(t)){for(var Ve in n)V=n[Ve],n.hasOwnProperty(Ve)&&V!==void 0&&!r.hasOwnProperty(Ve)&&qd(e,t,Ve,void 0,r,V);for(J in r)V=r[J],K=n[J],!r.hasOwnProperty(J)||V===K||V===void 0&&K===void 0||qd(e,t,J,V,r,K);return}}for(var z in n)V=n[z],n.hasOwnProperty(z)&&V!=null&&!r.hasOwnProperty(z)&&Ie(e,t,z,null,r,V);for(te in r)V=r[te],K=n[te],!r.hasOwnProperty(te)||V===K||V==null&&K==null||Ie(e,t,te,V,r,K)}function jh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var c=n[r],u=c.transferSize,p=c.initiatorType,w=c.duration;if(u&&w&&jh(p)){for(p=0,w=c.responseEnd,r+=1;r<n.length;r++){var _=n[r],$=_.startTime;if($>w)break;var J=_.transferSize,te=_.initiatorType;J&&jh(te)&&(_=_.responseEnd,p+=J*(_<w?1:(w-$)/(_-$)))}if(--r,t+=8*(u+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pd=null,$d=null;function Ki(e){return e.nodeType===9?e:e.ownerDocument}function kh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vd=null;function wy(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var Sh=typeof setTimeout=="function"?setTimeout:void 0,jy=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(Ny)}:Sh;function Ny(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function Eh(e,t){var n=t,r=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(c),yl(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")wr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,wr(n);for(var u=n.firstChild;u;){var p=u.nextSibling,w=u.nodeName;u[Hl]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=p}}else n==="body"&&wr(e.ownerDocument.body);n=c}while(n);yl(t)}function Ah(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Yd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yd(n),Qo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Sy(e,t,n,r){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Hl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Na(e.nextSibling),e===null)break}return null}function Cy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Na(e.nextSibling),e===null))return null;return e}function Th(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Na(e.nextSibling),e===null))return null;return e}function Gd(e){return e.data==="$?"||e.data==="$~"}function Xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ey(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Kd=null;function Lh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Na(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function _h(e,t,n){switch(t=Ki(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function wr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qo(e)}var Sa=new Map,Oh=new Set;function Fi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xs=U.d;U.d={f:Ay,r:Ty,D:Ly,C:My,L:_y,m:Oy,X:Dy,S:Ry,M:By};function Ay(){var e=xs.f(),t=qi();return e||t}function Ty(e){var t=Un(e);t!==null&&t.tag===5&&t.type==="form"?Qf(t):xs.r(e)}var xl=typeof document>"u"?null:document;function Rh(e,t,n){var r=xl;if(r&&typeof t=="string"&&t){var c=ga(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Oh.has(c)||(Oh.add(c),e={rel:e,crossOrigin:n,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),At(t,"link",e),bt(t),r.head.appendChild(t)))}}function Ly(e){xs.D(e),Rh("dns-prefetch",e,null)}function My(e,t){xs.C(e,t),Rh("preconnect",e,t)}function _y(e,t,n){xs.L(e,t,n);var r=xl;if(r&&e&&t){var c='link[rel="preload"][as="'+ga(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+ga(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+ga(n.imageSizes)+'"]')):c+='[href="'+ga(e)+'"]';var u=c;switch(t){case"style":u=gl(e);break;case"script":u=bl(e)}Sa.has(u)||(e=h({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Sa.set(u,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(jr(u))||t==="script"&&r.querySelector(kr(u))||(t=r.createElement("link"),At(t,"link",e),bt(t),r.head.appendChild(t)))}}function Oy(e,t){xs.m(e,t);var n=xl;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+ga(r)+'"][href="'+ga(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=bl(e)}if(!Sa.has(u)&&(e=h({rel:"modulepreload",href:e},t),Sa.set(u,e),n.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(kr(u)))return}r=n.createElement("link"),At(r,"link",e),bt(r),n.head.appendChild(r)}}}function Ry(e,t,n){xs.S(e,t,n);var r=xl;if(r&&e){var c=Hn(r).hoistableStyles,u=gl(e);t=t||"default";var p=c.get(u);if(!p){var w={loading:0,preload:null};if(p=r.querySelector(jr(u)))w.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sa.get(u))&&Fd(e,n);var _=p=r.createElement("link");bt(_),At(_,"link",e),_._p=new Promise(function($,J){_.onload=$,_.onerror=J}),_.addEventListener("load",function(){w.loading|=1}),_.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Qi(p,t,r)}p={type:"stylesheet",instance:p,count:1,state:w},c.set(u,p)}}}function Dy(e,t){xs.X(e,t);var n=xl;if(n&&e){var r=Hn(n).hoistableScripts,c=bl(e),u=r.get(c);u||(u=n.querySelector(kr(c)),u||(e=h({src:e,async:!0},t),(t=Sa.get(c))&&Qd(e,t),u=n.createElement("script"),bt(u),At(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function By(e,t){xs.M(e,t);var n=xl;if(n&&e){var r=Hn(n).hoistableScripts,c=bl(e),u=r.get(c);u||(u=n.querySelector(kr(c)),u||(e=h({src:e,async:!0,type:"module"},t),(t=Sa.get(c))&&Qd(e,t),u=n.createElement("script"),bt(u),At(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function Dh(e,t,n,r){var c=(c=ge.current)?Fi(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=gl(n.href),n=Hn(c).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=gl(n.href);var u=Hn(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(jr(e)))&&!u._p&&(p.instance=u,p.state.loading=5),Sa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sa.set(e,n),u||zy(c,e,n,p.state))),t&&r===null)throw Error(o(528,""));return p}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bl(n),n=Hn(c).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function gl(e){return'href="'+ga(e)+'"'}function jr(e){return'link[rel="stylesheet"]['+e+"]"}function Bh(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function zy(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),At(t,"link",n),bt(t),e.head.appendChild(t))}function bl(e){return'[src="'+ga(e)+'"]'}function kr(e){return"script[async]"+e}function zh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ga(n.href)+'"]');if(r)return t.instance=r,bt(r),r;var c=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),bt(r),At(r,"style",c),Qi(r,n.precedence,e),t.instance=r;case"stylesheet":c=gl(n.href);var u=e.querySelector(jr(c));if(u)return t.state.loading|=4,t.instance=u,bt(u),u;r=Bh(n),(c=Sa.get(c))&&Fd(r,c),u=(e.ownerDocument||e).createElement("link"),bt(u);var p=u;return p._p=new Promise(function(w,_){p.onload=w,p.onerror=_}),At(u,"link",r),t.state.loading|=4,Qi(u,n.precedence,e),t.instance=u;case"script":return u=bl(n.src),(c=e.querySelector(kr(u)))?(t.instance=c,bt(c),c):(r=n,(c=Sa.get(u))&&(r=h({},n),Qd(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),bt(c),At(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Qi(r,n.precedence,e));return t.instance}function Qi(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,p=0;p<r.length;p++){var w=r[p];if(w.dataset.precedence===t)u=w;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zi=null;function Uh(e,t,n){if(Zi===null){var r=new Map,c=Zi=new Map;c.set(n,r)}else c=Zi,r=c.get(n),r||(r=new Map,c.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[Hl]||u[Nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var w=r.get(p);w?w.push(u):r.set(p,[u])}}return r}function Hh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Uy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hy(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=gl(r.href),u=t.querySelector(jr(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ji.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,bt(u);return}u=t.ownerDocument||t,r=Bh(r),(c=Sa.get(c))&&Fd(r,c),u=u.createElement("link"),bt(u);var p=u;p._p=new Promise(function(w,_){p.onload=w,p.onerror=_}),At(u,"link",r),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ji.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zd=0;function qy(e,t){return e.stylesheets&&e.count===0&&eo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&eo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Zd===0&&(Zd=62500*vy());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&eo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Zd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wi=null;function eo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wi=new Map,t.forEach(Py,e),Wi=null,Ji.call(e))}function Py(e,t){if(!(t.state.loading&4)){var n=Wi.get(e);if(n)var r=n.get(null);else{n=new Map,Wi.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var p=c[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),r=p)}r&&n.set(null,r)}c=t.instance,p=c.getAttribute("data-precedence"),u=n.get(p)||r,u===r&&n.set(null,c),n.set(p,c),this.count++,r=Ji.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Nr={$$typeof:M,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function $y(e,t,n,r,c,u,p,w,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ph(e,t,n,r,c,u,p,w,_,$,J,te){return e=new $y(e,t,n,p,_,$,J,te,w),t=1,u===!0&&(t|=24),u=sa(3,null,null,t),e.current=u,u.stateNode=e,t=Lc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:n,cache:t},Rc(u),e}function $h(e){return e?(e=Fn,e):Fn}function Ih(e,t,n,r,c,u){c=$h(c),r.context===null?r.context=c:r.pendingContext=c,r=Ls(t),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Ms(e,r,t),n!==null&&(Ft(n,e,t),ar(n,e,t))}function Vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jd(e,t){Vh(e,t),(e=e.alternate)&&Vh(e,t)}function Yh(e){if(e.tag===13||e.tag===31){var t=cn(e,67108864);t!==null&&Ft(t,e,67108864),Jd(e,67108864)}}function Gh(e){if(e.tag===13||e.tag===31){var t=oa();t=Dn(t);var n=cn(e,t);n!==null&&Ft(n,e,t),Jd(e,t)}}var to=!0;function Iy(e,t,n,r){var c=O.T;O.T=null;var u=U.p;try{U.p=2,Wd(e,t,n,r)}finally{U.p=u,O.T=c}}function Vy(e,t,n,r){var c=O.T;O.T=null;var u=U.p;try{U.p=8,Wd(e,t,n,r)}finally{U.p=u,O.T=c}}function Wd(e,t,n,r){if(to){var c=eu(r);if(c===null)Hd(e,t,r,ao,n),Kh(e,r);else if(Gy(c,e,t,n,r))r.stopPropagation();else if(Kh(e,r),t&4&&-1<Yy.indexOf(e)){for(;c!==null;){var u=Un(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=qa(u.pendingLanes);if(p!==0){var w=u;for(w.pendingLanes|=2,w.entangledLanes|=2;p;){var _=1<<31-Lt(p);w.entanglements[1]|=_,p&=~_}Va(u),(Be&6)===0&&(Ui=kt()+500,br(0))}}break;case 31:case 13:w=cn(u,2),w!==null&&Ft(w,u,2),qi(),Jd(u,2)}if(u=eu(r),u===null&&Hd(e,t,r,ao,n),u===c)break;c=u}c!==null&&r.stopPropagation()}else Hd(e,t,r,null,n)}}function eu(e){return e=ac(e),tu(e)}var ao=null;function tu(e){if(ao=null,e=zn(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ao=e,null}function Xh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case vs:return 2;case Kr:return 8;case en:case zl:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var au=!1,$s=null,Is=null,Vs=null,Sr=new Map,Cr=new Map,Ys=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kh(e,t){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function Er(e,t,n,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Un(t),t!==null&&Yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Gy(e,t,n,r,c){switch(t){case"focusin":return $s=Er($s,e,t,n,r,c),!0;case"dragenter":return Is=Er(Is,e,t,n,r,c),!0;case"mouseover":return Vs=Er(Vs,e,t,n,r,c),!0;case"pointerover":var u=c.pointerId;return Sr.set(u,Er(Sr.get(u)||null,e,t,n,r,c)),!0;case"gotpointercapture":return u=c.pointerId,Cr.set(u,Er(Cr.get(u)||null,e,t,n,r,c)),!0}return!1}function Fh(e){var t=zn(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,o0(e.priority,function(){Gh(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,o0(e.priority,function(){Gh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eu(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tc=r,n.target.dispatchEvent(r),tc=null}else return t=Un(n),t!==null&&Yh(t),e.blockedOn=n,!1;t.shift()}return!0}function Qh(e,t,n){so(e)&&n.delete(t)}function Xy(){au=!1,$s!==null&&so($s)&&($s=null),Is!==null&&so(Is)&&(Is=null),Vs!==null&&so(Vs)&&(Vs=null),Sr.forEach(Qh),Cr.forEach(Qh)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Xy)))}var lo=null;function Zh(e){lo!==e&&(lo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(tu(r||n)===null)continue;break}var u=Un(n);u!==null&&(e.splice(t,3),t-=3,ed(u,{pending:!0,data:c,method:n.method,action:r},r,c))}}))}function yl(e){function t(_){return no(_,e)}$s!==null&&no($s,e),Is!==null&&no(Is,e),Vs!==null&&no(Vs,e),Sr.forEach(t),Cr.forEach(t);for(var n=0;n<Ys.length;n++){var r=Ys[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)Fh(n),n.blockedOn===null&&Ys.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var c=n[r],u=n[r+1],p=c[It]||null;if(typeof u=="function")p||Zh(n);else if(p){var w=null;if(u&&u.hasAttribute("formAction")){if(c=u,p=u[It]||null)w=p.formAction;else if(tu(c)!==null)continue}else w=p.action;typeof w=="function"?n[r+1]=w:(n.splice(r,3),r-=3),Zh(n)}}}function Jh(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function su(e){this._internalRoot=e}ro.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,r=oa();Ih(n,r,e,t,null,null)},ro.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ih(e.current,2,null,e,null,null),qi(),t[Bn]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ko();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ys.length&&t!==0&&t<Ys[n].priority;n++);Ys.splice(n,0,e),n===0&&Fh(e)}};var Wh=l.version;if(Wh!=="19.2.3")throw Error(o(527,Wh,"19.2.3"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Ky={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{tn=io.inject(Ky),Dt=io}catch{}}return Tr.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,r="",c=rm,u=im,p=om;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Ph(e,1,!1,null,null,n,r,null,c,u,p,Jh),e[Bn]=t.current,Ud(e),new su(t)},Tr.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var r=!1,c="",u=rm,p=im,w=om,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Ph(e,1,!0,t,n??null,r,c,_,u,p,w,Jh),t.context=$h(null),n=t.current,r=oa(),r=Dn(r),c=Ls(r),c.callback=null,Ms(n,c,r),n=r,t.current.lanes=n,et(t,n),Va(t),e[Bn]=t.current,Ud(e),new ro(t)},Tr.version="19.2.3",Tr}var cp;function s2(){if(cp)return ru.exports;cp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),ru.exports=a2(),ru.exports}var n2=s2();const l2=_u(n2);var dp="popstate";function r2(s={}){function l(o,d){let{pathname:f,search:m,hash:g}=o.location;return ju("",{pathname:f,search:m,hash:g},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(o,d){return typeof d=="string"?d:_r(d)}return o2(l,i,null,s)}function We(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function Ra(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function i2(){return Math.random().toString(36).substring(2,10)}function up(s,l){return{usr:s.state,key:s.key,idx:l}}function ju(s,l,i=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Al(l):l,state:i,key:l&&l.key||o||i2()}}function _r({pathname:s="/",search:l="",hash:i=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Al(s){let l={};if(s){let i=s.indexOf("#");i>=0&&(l.hash=s.substring(i),s=s.substring(0,i));let o=s.indexOf("?");o>=0&&(l.search=s.substring(o),s=s.substring(0,o)),s&&(l.pathname=s)}return l}function o2(s,l,i,o={}){let{window:d=document.defaultView,v5Compat:f=!1}=o,m=d.history,g="POP",b=null,x=v();x==null&&(x=0,m.replaceState({...m.state,idx:x},""));function v(){return(m.state||{idx:null}).idx}function h(){g="POP";let k=v(),C=k==null?null:k-x;x=k,b&&b({action:g,location:N.location,delta:C})}function S(k,C){g="PUSH";let L=ju(N.location,k,C);x=v()+1;let M=up(L,x),B=N.createHref(L);try{m.pushState(M,"",B)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;d.location.assign(B)}f&&b&&b({action:g,location:N.location,delta:1})}function A(k,C){g="REPLACE";let L=ju(N.location,k,C);x=v();let M=up(L,x),B=N.createHref(L);m.replaceState(M,"",B),f&&b&&b({action:g,location:N.location,delta:0})}function j(k){return c2(k)}let N={get action(){return g},get location(){return s(d,m)},listen(k){if(b)throw new Error("A history only accepts one active listener");return d.addEventListener(dp,h),b=k,()=>{d.removeEventListener(dp,h),b=null}},createHref(k){return l(d,k)},createURL:j,encodeLocation(k){let C=j(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:S,replace:A,go(k){return m.go(k)}};return N}function c2(s,l=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),We(i,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:_r(s);return o=o.replace(/ $/,"%20"),!l&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function Jp(s,l,i="/"){return d2(s,l,i,!1)}function d2(s,l,i,o){let d=typeof l=="string"?Al(l):l,f=ys(d.pathname||"/",i);if(f==null)return null;let m=Wp(s);u2(m);let g=null;for(let b=0;g==null&&b<m.length;++b){let x=j2(f);g=v2(m[b],x,o)}return g}function Wp(s,l=[],i=[],o="",d=!1){let f=(m,g,b=d,x)=>{let v={relativePath:x===void 0?m.path||"":x,caseSensitive:m.caseSensitive===!0,childrenIndex:g,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(o)&&b)return;We(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length)}let h=gs([o,v.relativePath]),S=i.concat(v);m.children&&m.children.length>0&&(We(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Wp(m.children,l,S,h,b)),!(m.path==null&&!m.index)&&l.push({path:h,score:b2(h,m.index),routesMeta:S})};return s.forEach((m,g)=>{if(m.path===""||!m.path?.includes("?"))f(m,g);else for(let b of ex(m.path))f(m,g,!0,b)}),l}function ex(s){let l=s.split("/");if(l.length===0)return[];let[i,...o]=l,d=i.endsWith("?"),f=i.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let m=ex(o.join("/")),g=[];return g.push(...m.map(b=>b===""?f:[f,b].join("/"))),d&&g.push(...m),g.map(b=>s.startsWith("/")&&b===""?"/":b)}function u2(s){s.sort((l,i)=>l.score!==i.score?i.score-l.score:y2(l.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var f2=/^:[\w-]+$/,m2=3,h2=2,p2=1,x2=10,g2=-2,fp=s=>s==="*";function b2(s,l){let i=s.split("/"),o=i.length;return i.some(fp)&&(o+=g2),l&&(o+=h2),i.filter(d=>!fp(d)).reduce((d,f)=>d+(f2.test(f)?m2:f===""?p2:x2),o)}function y2(s,l){return s.length===l.length&&s.slice(0,-1).every((o,d)=>o===l[d])?s[s.length-1]-l[l.length-1]:0}function v2(s,l,i=!1){let{routesMeta:o}=s,d={},f="/",m=[];for(let g=0;g<o.length;++g){let b=o[g],x=g===o.length-1,v=f==="/"?l:l.slice(f.length)||"/",h=jo({path:b.relativePath,caseSensitive:b.caseSensitive,end:x},v),S=b.route;if(!h&&x&&i&&!o[o.length-1].route.index&&(h=jo({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},v)),!h)return null;Object.assign(d,h.params),m.push({params:d,pathname:gs([f,h.pathname]),pathnameBase:C2(gs([f,h.pathnameBase])),route:S}),h.pathnameBase!=="/"&&(f=gs([f,h.pathnameBase]))}return m}function jo(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=w2(s.path,s.caseSensitive,s.end),d=l.match(i);if(!d)return null;let f=d[0],m=f.replace(/(.)\/+$/,"$1"),g=d.slice(1);return{params:o.reduce((x,{paramName:v,isOptional:h},S)=>{if(v==="*"){let j=g[S]||"";m=f.slice(0,f.length-j.length).replace(/(.)\/+$/,"$1")}const A=g[S];return h&&!A?x[v]=void 0:x[v]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:m,pattern:s}}function w2(s,l=!1,i=!0){Ra(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,b)=>(o.push({paramName:g,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(o.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,l?void 0:"i"),o]}function j2(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Ra(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function ys(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let i=l.endsWith("/")?l.length-1:l.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}var k2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function N2(s,l="/"){let{pathname:i,search:o="",hash:d=""}=typeof s=="string"?Al(s):s,f;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?f=mp(i.substring(1),"/"):f=mp(i,l)):f=l,{pathname:f,search:E2(o),hash:A2(d)}}function mp(s,l){let i=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function du(s,l,i,o){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S2(s){return s.filter((l,i)=>i===0||l.route.path&&l.route.path.length>0)}function Ru(s){let l=S2(s);return l.map((i,o)=>o===l.length-1?i.pathname:i.pathnameBase)}function Du(s,l,i,o=!1){let d;typeof s=="string"?d=Al(s):(d={...s},We(!d.pathname||!d.pathname.includes("?"),du("?","pathname","search",d)),We(!d.pathname||!d.pathname.includes("#"),du("#","pathname","hash",d)),We(!d.search||!d.search.includes("#"),du("#","search","hash",d)));let f=s===""||d.pathname==="",m=f?"/":d.pathname,g;if(m==null)g=i;else{let h=l.length-1;if(!o&&m.startsWith("..")){let S=m.split("/");for(;S[0]==="..";)S.shift(),h-=1;d.pathname=S.join("/")}g=h>=0?l[h]:"/"}let b=N2(d,g),x=m&&m!=="/"&&m.endsWith("/"),v=(f||m===".")&&i.endsWith("/");return!b.pathname.endsWith("/")&&(x||v)&&(b.pathname+="/"),b}var gs=s=>s.join("/").replace(/\/\/+/g,"/"),C2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),E2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,A2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,T2=class{constructor(s,l,i,o=!1){this.status=s,this.statusText=l||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function L2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function M2(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ax(s,l){let i=s;if(typeof i!="string"||!k2.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let o=i,d=!1;if(tx)try{let f=new URL(window.location.href),m=i.startsWith("//")?new URL(f.protocol+i):new URL(i),g=ys(m.pathname,l);m.origin===f.origin&&g!=null?i=g+m.search+m.hash:d=!0}catch{Ra(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:d,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sx=["POST","PUT","PATCH","DELETE"];new Set(sx);var _2=["GET",...sx];new Set(_2);var Tl=y.createContext(null);Tl.displayName="DataRouter";var Do=y.createContext(null);Do.displayName="DataRouterState";var O2=y.createContext(!1),nx=y.createContext({isTransitioning:!1});nx.displayName="ViewTransition";var R2=y.createContext(new Map);R2.displayName="Fetchers";var D2=y.createContext(null);D2.displayName="Await";var da=y.createContext(null);da.displayName="Navigation";var Dr=y.createContext(null);Dr.displayName="Location";var Da=y.createContext({outlet:null,matches:[],isDataRoute:!1});Da.displayName="Route";var Bu=y.createContext(null);Bu.displayName="RouteError";var lx="REACT_ROUTER_ERROR",B2="REDIRECT",z2="ROUTE_ERROR_RESPONSE";function U2(s){if(s.startsWith(`${lx}:${B2}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function H2(s){if(s.startsWith(`${lx}:${z2}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new T2(l.status,l.statusText,l.data)}catch{}}function q2(s,{relative:l}={}){We(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=y.useContext(da),{hash:d,pathname:f,search:m}=Br(s,{relative:l}),g=f;return i!=="/"&&(g=f==="/"?i:gs([i,f])),o.createHref({pathname:g,search:m,hash:d})}function Ll(){return y.useContext(Dr)!=null}function Fa(){return We(Ll(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Dr).location}var rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ix(s){y.useContext(da).static||y.useLayoutEffect(s)}function Ws(){let{isDataRoute:s}=y.useContext(Da);return s?ev():P2()}function P2(){We(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let s=y.useContext(Tl),{basename:l,navigator:i}=y.useContext(da),{matches:o}=y.useContext(Da),{pathname:d}=Fa(),f=JSON.stringify(Ru(o)),m=y.useRef(!1);return ix(()=>{m.current=!0}),y.useCallback((b,x={})=>{if(Ra(m.current,rx),!m.current)return;if(typeof b=="number"){i.go(b);return}let v=Du(b,JSON.parse(f),d,x.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:gs([l,v.pathname])),(x.replace?i.replace:i.push)(v,x.state,x)},[l,i,f,d,s])}y.createContext(null);function $2(){let{matches:s}=y.useContext(Da),l=s[s.length-1];return l?l.params:{}}function Br(s,{relative:l}={}){let{matches:i}=y.useContext(Da),{pathname:o}=Fa(),d=JSON.stringify(Ru(i));return y.useMemo(()=>Du(s,JSON.parse(d),o,l==="path"),[s,d,o,l])}function I2(s,l){return ox(s,l)}function ox(s,l,i,o,d){We(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=y.useContext(da),{matches:m}=y.useContext(Da),g=m[m.length-1],b=g?g.params:{},x=g?g.pathname:"/",v=g?g.pathnameBase:"/",h=g&&g.route;{let L=h&&h.path||"";dx(x,!h||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let S=Fa(),A;if(l){let L=typeof l=="string"?Al(l):l;We(v==="/"||L.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),A=L}else A=S;let j=A.pathname||"/",N=j;if(v!=="/"){let L=v.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=Jp(s,{pathname:N});Ra(h||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ra(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=K2(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},b,L.params),pathname:gs([v,f.encodeLocation?f.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:gs([v,f.encodeLocation?f.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),m,i,o,d);return l&&C?y.createElement(Dr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},C):C}function V2(){let s=W2(),l=L2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:f},"ErrorBoundary")," or"," ",y.createElement("code",{style:f},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},l),i?y.createElement("pre",{style:d},i):null,m)}var Y2=y.createElement(V2,null),cx=class extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=H2(s.digest);i&&(s=i)}let l=s!==void 0?y.createElement(Da.Provider,{value:this.props.routeContext},y.createElement(Bu.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?y.createElement(G2,{error:s},l):l}};cx.contextType=O2;var uu=new WeakMap;function G2({children:s,error:l}){let{basename:i}=y.useContext(da);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let o=U2(l.digest);if(o){let d=uu.get(l);if(d)throw d;let f=ax(o.location,i);if(tx&&!uu.get(l))if(f.isExternal||o.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:o.replace}));throw uu.set(l,m),m}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return s}function X2({routeContext:s,match:l,children:i}){let o=y.useContext(Tl);return o&&o.static&&o.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=l.route.id),y.createElement(Da.Provider,{value:s},i)}function K2(s,l=[],i=null,o=null,d=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(l.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let f=s,m=i?.errors;if(m!=null){let v=f.findIndex(h=>h.route.id&&m?.[h.route.id]!==void 0);We(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let g=!1,b=-1;if(i)for(let v=0;v<f.length;v++){let h=f[v];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(b=v),h.route.id){let{loaderData:S,errors:A}=i,j=h.route.loader&&!S.hasOwnProperty(h.route.id)&&(!A||A[h.route.id]===void 0);if(h.route.lazy||j){g=!0,b>=0?f=f.slice(0,b+1):f=[f[0]];break}}}let x=i&&o?(v,h)=>{o(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:M2(i.matches),errorInfo:h})}:void 0;return f.reduceRight((v,h,S)=>{let A,j=!1,N=null,k=null;i&&(A=m&&h.route.id?m[h.route.id]:void 0,N=h.route.errorElement||Y2,g&&(b<0&&S===0?(dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):b===S&&(j=!0,k=h.route.hydrateFallbackElement||null)));let C=l.concat(f.slice(0,S+1)),L=()=>{let M;return A?M=N:j?M=k:h.route.Component?M=y.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=v,y.createElement(X2,{match:h,routeContext:{outlet:v,matches:C,isDataRoute:i!=null},children:M})};return i&&(h.route.ErrorBoundary||h.route.errorElement||S===0)?y.createElement(cx,{location:i.location,revalidation:i.revalidation,component:N,error:A,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:x}):L()},null)}function zu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F2(s){let l=y.useContext(Tl);return We(l,zu(s)),l}function Q2(s){let l=y.useContext(Do);return We(l,zu(s)),l}function Z2(s){let l=y.useContext(Da);return We(l,zu(s)),l}function Uu(s){let l=Z2(s),i=l.matches[l.matches.length-1];return We(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function J2(){return Uu("useRouteId")}function W2(){let s=y.useContext(Bu),l=Q2("useRouteError"),i=Uu("useRouteError");return s!==void 0?s:l.errors?.[i]}function ev(){let{router:s}=F2("useNavigate"),l=Uu("useNavigate"),i=y.useRef(!1);return ix(()=>{i.current=!0}),y.useCallback(async(d,f={})=>{Ra(i.current,rx),i.current&&(typeof d=="number"?await s.navigate(d):await s.navigate(d,{fromRouteId:l,...f}))},[s,l])}var hp={};function dx(s,l,i){!l&&!hp[s]&&(hp[s]=!0,Ra(!1,i))}y.memo(tv);function tv({routes:s,future:l,state:i,onError:o}){return ox(s,void 0,i,o,l)}function fu({to:s,replace:l,state:i,relative:o}){We(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=y.useContext(da);Ra(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=y.useContext(Da),{pathname:m}=Fa(),g=Ws(),b=Du(s,Ru(f),m,o==="path"),x=JSON.stringify(b);return y.useEffect(()=>{g(JSON.parse(x),{replace:l,state:i,relative:o})},[g,x,o,l,i]),null}function ht(s){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function av({basename:s="/",children:l=null,location:i,navigationType:o="POP",navigator:d,static:f=!1,unstable_useTransitions:m}){We(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),b=y.useMemo(()=>({basename:g,navigator:d,static:f,unstable_useTransitions:m,future:{}}),[g,d,f,m]);typeof i=="string"&&(i=Al(i));let{pathname:x="/",search:v="",hash:h="",state:S=null,key:A="default"}=i,j=y.useMemo(()=>{let N=ys(x,g);return N==null?null:{location:{pathname:N,search:v,hash:h,state:S,key:A},navigationType:o}},[g,x,v,h,S,A,o]);return Ra(j!=null,`<Router basename="${g}"> is not able to match the URL "${x}${v}${h}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:y.createElement(da.Provider,{value:b},y.createElement(Dr.Provider,{children:l,value:j}))}function pp({children:s,location:l}){return I2(ku(s),l)}function ku(s,l=[]){let i=[];return y.Children.forEach(s,(o,d)=>{if(!y.isValidElement(o))return;let f=[...l,d];if(o.type===y.Fragment){i.push.apply(i,ku(o.props.children,f));return}We(o.type===ht,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=ku(o.props.children,f)),i.push(m)}),i}var ho="get",po="application/x-www-form-urlencoded";function Bo(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function sv(s){return Bo(s)&&s.tagName.toLowerCase()==="button"}function nv(s){return Bo(s)&&s.tagName.toLowerCase()==="form"}function lv(s){return Bo(s)&&s.tagName.toLowerCase()==="input"}function rv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function iv(s,l){return s.button===0&&(!l||l==="_self")&&!rv(s)}var oo=null;function ov(){if(oo===null)try{new FormData(document.createElement("form"),0),oo=!1}catch{oo=!0}return oo}var cv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mu(s){return s!=null&&!cv.has(s)?(Ra(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${po}"`),null):s}function dv(s,l){let i,o,d,f,m;if(nv(s)){let g=s.getAttribute("action");o=g?ys(g,l):null,i=s.getAttribute("method")||ho,d=mu(s.getAttribute("enctype"))||po,f=new FormData(s)}else if(sv(s)||lv(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=s.getAttribute("formaction")||g.getAttribute("action");if(o=b?ys(b,l):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||ho,d=mu(s.getAttribute("formenctype"))||mu(g.getAttribute("enctype"))||po,f=new FormData(g,s),!ov()){let{name:x,type:v,value:h}=s;if(v==="image"){let S=x?`${x}.`:"";f.append(`${S}x`,"0"),f.append(`${S}y`,"0")}else x&&f.append(x,h)}}else{if(Bo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ho,o=null,d=po,m=s}return f&&d==="text/plain"&&(m=f,f=void 0),{action:o,method:i.toLowerCase(),encType:d,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hu(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function uv(s,l,i,o){let d=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${o}`:d.pathname=`${d.pathname}.${o}`:d.pathname==="/"?d.pathname=`_root.${o}`:l&&ys(d.pathname,l)==="/"?d.pathname=`${l.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function fv(s,l){if(s.id in l)return l[s.id];try{let i=await import(s.module);return l[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function hv(s,l,i){let o=await Promise.all(s.map(async d=>{let f=l.routes[d.route.id];if(f){let m=await fv(f,i);return m.links?m.links():[]}return[]}));return bv(o.flat(1).filter(mv).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function xp(s,l,i,o,d,f){let m=(b,x)=>i[x]?b.route.id!==i[x].route.id:!0,g=(b,x)=>i[x].pathname!==b.pathname||i[x].route.path?.endsWith("*")&&i[x].params["*"]!==b.params["*"];return f==="assets"?l.filter((b,x)=>m(b,x)||g(b,x)):f==="data"?l.filter((b,x)=>{let v=o.routes[b.route.id];if(!v||!v.hasLoader)return!1;if(m(b,x)||g(b,x))return!0;if(b.route.shouldRevalidate){let h=b.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function pv(s,l,{includeHydrateFallback:i}={}){return xv(s.map(o=>{let d=l.routes[o.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),i&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function xv(s){return[...new Set(s)]}function gv(s){let l={},i=Object.keys(s).sort();for(let o of i)l[o]=s[o];return l}function bv(s,l){let i=new Set;return new Set(l),s.reduce((o,d)=>{let f=JSON.stringify(gv(d));return i.has(f)||(i.add(f),o.push({key:f,link:d})),o},[])}function ux(){let s=y.useContext(Tl);return Hu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function yv(){let s=y.useContext(Do);return Hu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var qu=y.createContext(void 0);qu.displayName="FrameworkContext";function fx(){let s=y.useContext(qu);return Hu(s,"You must render this element inside a <HydratedRouter> element"),s}function vv(s,l){let i=y.useContext(qu),[o,d]=y.useState(!1),[f,m]=y.useState(!1),{onFocus:g,onBlur:b,onMouseEnter:x,onMouseLeave:v,onTouchStart:h}=l,S=y.useRef(null);y.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let N=C=>{C.forEach(L=>{m(L.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[s]),y.useEffect(()=>{if(o){let N=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(N)}}},[o]);let A=()=>{d(!0)},j=()=>{d(!1),m(!1)};return i?s!=="intent"?[f,S,{}]:[f,S,{onFocus:Lr(g,A),onBlur:Lr(b,j),onMouseEnter:Lr(x,A),onMouseLeave:Lr(v,j),onTouchStart:Lr(h,A)}]:[!1,S,{}]}function Lr(s,l){return i=>{s&&s(i),i.defaultPrevented||l(i)}}function wv({page:s,...l}){let{router:i}=ux(),o=y.useMemo(()=>Jp(i.routes,s,i.basename),[i.routes,s,i.basename]);return o?y.createElement(kv,{page:s,matches:o,...l}):null}function jv(s){let{manifest:l,routeModules:i}=fx(),[o,d]=y.useState([]);return y.useEffect(()=>{let f=!1;return hv(s,l,i).then(m=>{f||d(m)}),()=>{f=!0}},[s,l,i]),o}function kv({page:s,matches:l,...i}){let o=Fa(),{future:d,manifest:f,routeModules:m}=fx(),{basename:g}=ux(),{loaderData:b,matches:x}=yv(),v=y.useMemo(()=>xp(s,l,x,f,o,"data"),[s,l,x,f,o]),h=y.useMemo(()=>xp(s,l,x,f,o,"assets"),[s,l,x,f,o]),S=y.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let N=new Set,k=!1;if(l.forEach(L=>{let M=f.routes[L.route.id];!M||!M.hasLoader||(!v.some(B=>B.route.id===L.route.id)&&L.route.id in b&&m[L.route.id]?.shouldRevalidate||M.hasClientLoader?k=!0:N.add(L.route.id))}),N.size===0)return[];let C=uv(s,g,d.unstable_trailingSlashAwareDataRequests,"data");return k&&N.size>0&&C.searchParams.set("_routes",l.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[C.pathname+C.search]},[g,d.unstable_trailingSlashAwareDataRequests,b,o,f,v,l,s,m]),A=y.useMemo(()=>pv(h,f),[h,f]),j=jv(h);return y.createElement(y.Fragment,null,S.map(N=>y.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),A.map(N=>y.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),j.map(({key:N,link:k})=>y.createElement("link",{key:N,nonce:i.nonce,...k,crossOrigin:k.crossOrigin??i.crossOrigin})))}function Nv(...s){return l=>{s.forEach(i=>{typeof i=="function"?i(l):i!=null&&(i.current=l)})}}var Sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sv&&(window.__reactRouterVersion="7.13.0")}catch{}function Cv({basename:s,children:l,unstable_useTransitions:i,window:o}){let d=y.useRef();d.current==null&&(d.current=r2({window:o,v5Compat:!0}));let f=d.current,[m,g]=y.useState({action:f.action,location:f.location}),b=y.useCallback(x=>{i===!1?g(x):y.startTransition(()=>g(x))},[i]);return y.useLayoutEffect(()=>f.listen(b),[f,b]),y.createElement(av,{basename:s,children:l,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i})}var mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hx=y.forwardRef(function({onClick:l,discover:i="render",prefetch:o="none",relative:d,reloadDocument:f,replace:m,state:g,target:b,to:x,preventScrollReset:v,viewTransition:h,unstable_defaultShouldRevalidate:S,...A},j){let{basename:N,unstable_useTransitions:k}=y.useContext(da),C=typeof x=="string"&&mx.test(x),L=ax(x,N);x=L.to;let M=q2(x,{relative:d}),[B,Y,I]=vv(o,A),W=Lv(x,{replace:m,state:g,target:b,preventScrollReset:v,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function de(ae){l&&l(ae),ae.defaultPrevented||W(ae)}let ne=y.createElement("a",{...A,...I,href:L.absoluteURL||M,onClick:L.isExternal||f?l:de,ref:Nv(j,Y),target:b,"data-discover":!C&&i==="render"?"true":void 0});return B&&!C?y.createElement(y.Fragment,null,ne,y.createElement(wv,{page:M})):ne});hx.displayName="Link";var Ev=y.forwardRef(function({"aria-current":l="page",caseSensitive:i=!1,className:o="",end:d=!1,style:f,to:m,viewTransition:g,children:b,...x},v){let h=Br(m,{relative:x.relative}),S=Fa(),A=y.useContext(Do),{navigator:j,basename:N}=y.useContext(da),k=A!=null&&Dv(h)&&g===!0,C=j.encodeLocation?j.encodeLocation(h).pathname:h.pathname,L=S.pathname,M=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(L=L.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&N&&(M=ys(M,N)||M);const B=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Y=L===C||!d&&L.startsWith(C)&&L.charAt(B)==="/",I=M!=null&&(M===C||!d&&M.startsWith(C)&&M.charAt(C.length)==="/"),W={isActive:Y,isPending:I,isTransitioning:k},de=Y?l:void 0,ne;typeof o=="function"?ne=o(W):ne=[o,Y?"active":null,I?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ae=typeof f=="function"?f(W):f;return y.createElement(hx,{...x,"aria-current":de,className:ne,ref:v,style:ae,to:m,viewTransition:g},typeof b=="function"?b(W):b)});Ev.displayName="NavLink";var Av=y.forwardRef(({discover:s="render",fetcherKey:l,navigate:i,reloadDocument:o,replace:d,state:f,method:m=ho,action:g,onSubmit:b,relative:x,preventScrollReset:v,viewTransition:h,unstable_defaultShouldRevalidate:S,...A},j)=>{let{unstable_useTransitions:N}=y.useContext(da),k=Ov(),C=Rv(g,{relative:x}),L=m.toLowerCase()==="get"?"get":"post",M=typeof g=="string"&&mx.test(g),B=Y=>{if(b&&b(Y),Y.defaultPrevented)return;Y.preventDefault();let I=Y.nativeEvent.submitter,W=I?.getAttribute("formmethod")||m,de=()=>k(I||Y.currentTarget,{fetcherKey:l,method:W,navigate:i,replace:d,state:f,relative:x,preventScrollReset:v,viewTransition:h,unstable_defaultShouldRevalidate:S});N&&i!==!1?y.startTransition(()=>de()):de()};return y.createElement("form",{ref:j,method:L,action:C,onSubmit:o?b:B,...A,"data-discover":!M&&s==="render"?"true":void 0})});Av.displayName="Form";function Tv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(s){let l=y.useContext(Tl);return We(l,Tv(s)),l}function Lv(s,{target:l,replace:i,state:o,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:b}={}){let x=Ws(),v=Fa(),h=Br(s,{relative:f});return y.useCallback(S=>{if(iv(S,l)){S.preventDefault();let A=i!==void 0?i:_r(v)===_r(h),j=()=>x(s,{replace:A,state:o,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:g});b?y.startTransition(()=>j()):j()}},[v,x,h,i,o,l,s,d,f,m,g,b])}var Mv=0,_v=()=>`__${String(++Mv)}__`;function Ov(){let{router:s}=px("useSubmit"),{basename:l}=y.useContext(da),i=J2(),o=s.fetch,d=s.navigate;return y.useCallback(async(f,m={})=>{let{action:g,method:b,encType:x,formData:v,body:h}=dv(f,l);if(m.navigate===!1){let S=m.fetcherKey||_v();await o(S,i,m.action||g,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:v,body:h,formMethod:m.method||b,formEncType:m.encType||x,flushSync:m.flushSync})}else await d(m.action||g,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:v,body:h,formMethod:m.method||b,formEncType:m.encType||x,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[o,d,l,i])}function Rv(s,{relative:l}={}){let{basename:i}=y.useContext(da),o=y.useContext(Da);We(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),f={...Br(s||".",{relative:l})},m=Fa();if(s==null){f.search=m.search;let g=new URLSearchParams(f.search),b=g.getAll("index");if(b.some(v=>v==="")){g.delete("index"),b.filter(h=>h).forEach(h=>g.append("index",h));let v=g.toString();f.search=v?`?${v}`:""}}return(!s||s===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:gs([i,f.pathname])),_r(f)}function Dv(s,{relative:l}={}){let i=y.useContext(nx);We(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=px("useViewTransitionState"),d=Br(s,{relative:l});if(!i.isTransitioning)return!1;let f=ys(i.currentLocation.pathname,o)||i.currentLocation.pathname,m=ys(i.nextLocation.pathname,o)||i.nextLocation.pathname;return jo(d.pathname,m)!=null||jo(d.pathname,f)!=null}var Bv=Zp();const zv=_u(Bv),Uv=()=>a.jsx("footer",{className:"mt-auto border-t border-gray-300 dark:border-slate-800/60 pt-12",children:a.jsx("div",{className:"flex w-full items-center justify-between gap-6 px-2",children:a.jsxs("div",{className:"flex flex-col w-full items-center justify-center space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-white rounded flex items-center justify-center text-[10px] font-black text-white",children:a.jsx("img",{src:"/EasyTech.svg",alt:"Logo",className:""})}),a.jsxs("span",{className:"text-sm font-black text-gray-900 dark:text-white tracking-tight",children:["Easy Tech ",a.jsx("span",{className:"text-gray-400 font-medium",children:"Cloud"})]})]}),a.jsxs("p",{className:"text-[10px] text-center text-gray-500 font-medium uppercase tracking-widest",children:[" ",new Date().getFullYear()," Enterprise ISP Management System. ",a.jsx("br",{className:"lg:hidden"})," All rights reserved."]})]})})}),Hv=({navItems:s,theme:l,toggleTheme:i,children:o,currentUser:d,onLogout:f})=>{const m=Ws(),g=Fa(),[b,x]=y.useState("dashboard"),[v,h]=y.useState(""),[S,A]=y.useState(!1);y.useEffect(()=>{const k=g.pathname.split("/").filter(Boolean);k[0]&&x(k[0]),k[1]?h(k[1]):h("")},[g.pathname]);const j=()=>{if(!v)return"";const C=s.find(L=>L.id===b)?.subItems?.find(L=>L.id===v);return C?` / ${C.label}`:""},N=k=>k==="management"||k==="crm"||k==="revenue"?!0:b===k;return a.jsxs("div",{className:"h-screen w-full flex bg-gray-50 dark:bg-slate-950 transition-all duration-300 overflow-hidden font-sans",children:[S&&a.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:()=>A(!1)}),a.jsxs("aside",{className:`
          bg-slate-900 text-white flex flex-col h-full fixed lg:relative z-40 shadow-2xl transition-all duration-300 ease-in-out
          ${S?"translate-x-0 w-72 lg:w-64":"-translate-x-full lg:translate-x-0 w-72 lg:w-20"}
        `,children:[a.jsxs("div",{className:"p-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center font-bold shadow-lg shadow-blue-500/20",children:a.jsx("img",{src:"/EasyTech.svg",alt:"Logo",className:""})}),(S||window.innerWidth<1024)&&a.jsx("span",{className:"font-bold text-lg tracking-tight",children:"EasyTech"})]}),a.jsx("button",{onClick:()=>A(!1),className:"lg:hidden p-2 hover:bg-slate-800 rounded-lg text-slate-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto px-4 space-y-1 py-2 scrollbar-hide",children:s.map(k=>a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{if(x(k.id),!k.subItems)m(`/${k.id}`);else{const L=k.subItems.some(M=>M.id===v)?v:k.subItems[0].id;m(`/${k.id}/${L}`)}!k.subItems&&window.innerWidth<1024&&A(!1)},className:`w-full flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${b===k.id?"bg-blue-600 text-white shadow-lg shadow-blue-500/10":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx("div",{className:"w-5 h-5 flex-shrink-0",children:k.icon}),(S||window.innerWidth<1024)&&a.jsx("span",{className:"text-sm font-medium",children:k.label})]}),(S||window.innerWidth<1024)&&k.subItems&&N(k.id)&&a.jsx("div",{className:"mt-1 ml-6 space-y-1 border-l border-slate-700/50 pl-4 animate-in slide-in-from-top-2",children:k.subItems.map(C=>a.jsx("button",{onClick:()=>{x(k.id),m(`/${k.id}/${C.id}`),window.innerWidth<1024&&A(!1)},className:`w-full text-left py-2 text-xs transition-colors rounded-r-lg pl-2 ${b===k.id&&v===C.id?"text-blue-400 font-bold bg-blue-500/5":"text-slate-500 hover:text-white hover:bg-slate-800/50"}`,children:C.label},C.id))})]},k.id))}),(S||window.innerWidth<1024)&&a.jsx("div",{className:"p-4 border-t border-slate-800",children:a.jsxs("button",{onClick:f,className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-slate-400 hover:bg-red-600/20 hover:text-red-400 transition-all group",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),a.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full overflow-hidden relative",children:[a.jsxs("header",{className:"flex-shrink-0 z-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-gray-200 dark:border-slate-800 px-4 lg:px-6 py-4 flex items-center justify-between transition-theme",children:[a.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[a.jsx("button",{onClick:()=>A(!S),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors flex items-center justify-center","aria-label":"Toggle Navigation",children:a.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("h1",{className:"text-lg lg:text-xl font-bold capitalize text-gray-800 dark:text-white tracking-tight truncate max-w-[150px] sm:max-w-none",children:[b.replace("-"," ")," ",a.jsx("span",{className:"text-gray-400 font-normal hidden sm:inline",children:j()})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[a.jsx("button",{onClick:i,className:"p-2 lg:p-2.5 rounded-xl bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 hover:scale-110 transition-transform",children:l==="dark"?"":""}),a.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 pl-2 lg:pl-4 border-l border-gray-100 dark:border-slate-800",children:[a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white leading-none",children:d?.name||"User"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase tracking-tighter",children:"Admin"})]}),a.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400 font-black shadow-sm flex-shrink-0",children:d?.name?.charAt(0)||"A"})]})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto scroll-smooth",children:a.jsxs("div",{className:"p-4 lg:p-10 max-w-7xl mx-auto w-full animate-in fade-in duration-500 pb-10 min-h-full flex flex-col",children:[a.jsx("div",{className:"flex-1",children:o}),a.jsx(Uv,{})]})})]})]})},Le=({title:s,children:l,className:i})=>a.jsxs("div",{className:`bg-white dark:bg-slate-900 rounded-xl shadow-md border border-gray-100 dark:border-slate-800 p-6 transition-all duration-300 ${i}`,children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:s}),l]}),vl=({label:s,value:l,subValue:i,icon:o,color:d})=>a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-slate-800 p-6 transition-all duration-300",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s}),a.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-opacity-10",style:{backgroundColor:`${d}20`,color:d},children:a.jsx("div",{className:"w-6 h-6",children:o})}),a.jsx("div",{children:a.jsxs("div",{className:"flex items-baseline space-x-2",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors",children:l}),i&&a.jsx("span",{className:"absolute top-4 right-4 text-xs text-green-500 font-medium",children:i})]})})]})]}),it=({variant:s,children:l})=>{const i={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",Active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",online:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",expired:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",offline:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",Inactive:"bg-gray-100 text-gray-700 dark:bg-slate-800 dark:text-slate-400",suspended:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i[s]||"bg-gray-100 text-gray-700 dark:bg-slate-800 dark:text-slate-400"}`,children:l})},Pu=({checked:s,onChange:l,label:i,disabled:o})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{disabled:o,type:"button",onClick:d=>{d.stopPropagation(),l()},className:`relative inline-flex h-5 w-10 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${s?"bg-blue-600":"bg-gray-200 dark:bg-slate-700"}`,children:a.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${s?"translate-x-5":"translate-x-0"}`})}),i&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:i})]}),Fe=({isOpen:s,onClose:l,title:i,children:o,maxWidth:d="max-w-md"})=>s?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:`bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full ${d} overflow-hidden transform animate-in slide-in-from-bottom-4 duration-300`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-800 flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i}),a.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-full text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:o})]})}):null,qv=({data:s})=>{const l=Math.max(...s.map(m=>m.value))*1.2,i=150,o=400,d=s.map((m,g)=>{const b=g/(s.length-1)*o,x=i-m.value/l*i;return`${b},${x}`}).join(" "),f=`0,${i} ${d} ${o},${i}`;return a.jsxs("div",{className:"w-full h-48 relative mt-4",children:[a.jsxs("svg",{viewBox:`0 0 ${o} ${i}`,preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"chartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.3"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]})}),a.jsx("line",{x1:"0",y1:i*.25,x2:o,y2:i*.25,className:"stroke-gray-100 dark:stroke-slate-800",strokeWidth:"1"}),a.jsx("line",{x1:"0",y1:i*.5,x2:o,y2:i*.5,className:"stroke-gray-100 dark:stroke-slate-800",strokeWidth:"1"}),a.jsx("line",{x1:"0",y1:i*.75,x2:o,y2:i*.75,className:"stroke-gray-100 dark:stroke-slate-800",strokeWidth:"1"}),a.jsx("polyline",{points:f,fill:"url(#chartGradient)"}),a.jsx("polyline",{points:d,fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-lg"}),s.map((m,g)=>{const b=g/(s.length-1)*o,x=i-m.value/l*i;return a.jsxs("g",{className:"group cursor-pointer",children:[a.jsx("circle",{cx:b,cy:x,r:"4",fill:"white",className:"stroke-blue-500 stroke-2"}),g===s.length-1&&a.jsx("circle",{cx:b,cy:x,r:"8",fill:"#3b82f6",fillOpacity:"0.2",className:"animate-ping"})]},g)})]}),a.jsx("div",{className:"flex justify-between mt-4",children:s.map((m,g)=>a.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:m.label},g))})]})},wl={primary:"#2563eb",success:"#22c55e",danger:"#ef4444",warning:"#f59e0b"},Oa={Dashboard:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),Management:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),CRM:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),Revenue:s=>a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Settings:s=>a.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...s,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})};function xx(s,l){return function(){return s.apply(l,arguments)}}const{toString:Pv}=Object.prototype,{getPrototypeOf:$u}=Object,{iterator:zo,toStringTag:gx}=Symbol,Uo=(s=>l=>{const i=Pv.call(l);return s[i]||(s[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=s=>(s=s.toLowerCase(),l=>Uo(l)===s),Ho=s=>l=>typeof l===s,{isArray:Ml}=Array,Nl=Ho("undefined");function zr(s){return s!==null&&!Nl(s)&&s.constructor!==null&&!Nl(s.constructor)&&Zt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const bx=Ba("ArrayBuffer");function $v(s){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(s):l=s&&s.buffer&&bx(s.buffer),l}const Iv=Ho("string"),Zt=Ho("function"),yx=Ho("number"),Ur=s=>s!==null&&typeof s=="object",Vv=s=>s===!0||s===!1,xo=s=>{if(Uo(s)!=="object")return!1;const l=$u(s);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(gx in s)&&!(zo in s)},Yv=s=>{if(!Ur(s)||zr(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Gv=Ba("Date"),Xv=Ba("File"),Kv=Ba("Blob"),Fv=Ba("FileList"),Qv=s=>Ur(s)&&Zt(s.pipe),Zv=s=>{let l;return s&&(typeof FormData=="function"&&s instanceof FormData||Zt(s.append)&&((l=Uo(s))==="formdata"||l==="object"&&Zt(s.toString)&&s.toString()==="[object FormData]"))},Jv=Ba("URLSearchParams"),[Wv,ew,tw,aw]=["ReadableStream","Request","Response","Headers"].map(Ba),sw=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hr(s,l,{allOwnKeys:i=!1}={}){if(s===null||typeof s>"u")return;let o,d;if(typeof s!="object"&&(s=[s]),Ml(s))for(o=0,d=s.length;o<d;o++)l.call(null,s[o],o,s);else{if(zr(s))return;const f=i?Object.getOwnPropertyNames(s):Object.keys(s),m=f.length;let g;for(o=0;o<m;o++)g=f[o],l.call(null,s[g],g,s)}}function vx(s,l){if(zr(s))return null;l=l.toLowerCase();const i=Object.keys(s);let o=i.length,d;for(;o-- >0;)if(d=i[o],l===d.toLowerCase())return d;return null}const Nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wx=s=>!Nl(s)&&s!==Nn;function Nu(){const{caseless:s,skipUndefined:l}=wx(this)&&this||{},i={},o=(d,f)=>{const m=s&&vx(i,f)||f;xo(i[m])&&xo(d)?i[m]=Nu(i[m],d):xo(d)?i[m]=Nu({},d):Ml(d)?i[m]=d.slice():(!l||!Nl(d))&&(i[m]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&Hr(arguments[d],o);return i}const nw=(s,l,i,{allOwnKeys:o}={})=>(Hr(l,(d,f)=>{i&&Zt(d)?s[f]=xx(d,i):s[f]=d},{allOwnKeys:o}),s),lw=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),rw=(s,l,i,o)=>{s.prototype=Object.create(l.prototype,o),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:l.prototype}),i&&Object.assign(s.prototype,i)},iw=(s,l,i,o)=>{let d,f,m;const g={};if(l=l||{},s==null)return l;do{for(d=Object.getOwnPropertyNames(s),f=d.length;f-- >0;)m=d[f],(!o||o(m,s,l))&&!g[m]&&(l[m]=s[m],g[m]=!0);s=i!==!1&&$u(s)}while(s&&(!i||i(s,l))&&s!==Object.prototype);return l},ow=(s,l,i)=>{s=String(s),(i===void 0||i>s.length)&&(i=s.length),i-=l.length;const o=s.indexOf(l,i);return o!==-1&&o===i},cw=s=>{if(!s)return null;if(Ml(s))return s;let l=s.length;if(!yx(l))return null;const i=new Array(l);for(;l-- >0;)i[l]=s[l];return i},dw=(s=>l=>s&&l instanceof s)(typeof Uint8Array<"u"&&$u(Uint8Array)),uw=(s,l)=>{const o=(s&&s[zo]).call(s);let d;for(;(d=o.next())&&!d.done;){const f=d.value;l.call(s,f[0],f[1])}},fw=(s,l)=>{let i;const o=[];for(;(i=s.exec(l))!==null;)o.push(i);return o},mw=Ba("HTMLFormElement"),hw=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,d){return o.toUpperCase()+d}),gp=(({hasOwnProperty:s})=>(l,i)=>s.call(l,i))(Object.prototype),pw=Ba("RegExp"),jx=(s,l)=>{const i=Object.getOwnPropertyDescriptors(s),o={};Hr(i,(d,f)=>{let m;(m=l(d,f,s))!==!1&&(o[f]=m||d)}),Object.defineProperties(s,o)},xw=s=>{jx(s,(l,i)=>{if(Zt(s)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=s[i];if(Zt(o)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},gw=(s,l)=>{const i={},o=d=>{d.forEach(f=>{i[f]=!0})};return Ml(s)?o(s):o(String(s).split(l)),i},bw=()=>{},yw=(s,l)=>s!=null&&Number.isFinite(s=+s)?s:l;function vw(s){return!!(s&&Zt(s.append)&&s[gx]==="FormData"&&s[zo])}const ww=s=>{const l=new Array(10),i=(o,d)=>{if(Ur(o)){if(l.indexOf(o)>=0)return;if(zr(o))return o;if(!("toJSON"in o)){l[d]=o;const f=Ml(o)?[]:{};return Hr(o,(m,g)=>{const b=i(m,d+1);!Nl(b)&&(f[g]=b)}),l[d]=void 0,f}}return o};return i(s,0)},jw=Ba("AsyncFunction"),kw=s=>s&&(Ur(s)||Zt(s))&&Zt(s.then)&&Zt(s.catch),kx=((s,l)=>s?setImmediate:l?((i,o)=>(Nn.addEventListener("message",({source:d,data:f})=>{d===Nn&&f===i&&o.length&&o.shift()()},!1),d=>{o.push(d),Nn.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Zt(Nn.postMessage)),Nw=typeof queueMicrotask<"u"?queueMicrotask.bind(Nn):typeof process<"u"&&process.nextTick||kx,Sw=s=>s!=null&&Zt(s[zo]),X={isArray:Ml,isArrayBuffer:bx,isBuffer:zr,isFormData:Zv,isArrayBufferView:$v,isString:Iv,isNumber:yx,isBoolean:Vv,isObject:Ur,isPlainObject:xo,isEmptyObject:Yv,isReadableStream:Wv,isRequest:ew,isResponse:tw,isHeaders:aw,isUndefined:Nl,isDate:Gv,isFile:Xv,isBlob:Kv,isRegExp:pw,isFunction:Zt,isStream:Qv,isURLSearchParams:Jv,isTypedArray:dw,isFileList:Fv,forEach:Hr,merge:Nu,extend:nw,trim:sw,stripBOM:lw,inherits:rw,toFlatObject:iw,kindOf:Uo,kindOfTest:Ba,endsWith:ow,toArray:cw,forEachEntry:uw,matchAll:fw,isHTMLForm:mw,hasOwnProperty:gp,hasOwnProp:gp,reduceDescriptors:jx,freezeMethods:xw,toObjectSet:gw,toCamelCase:hw,noop:bw,toFiniteNumber:yw,findKey:vx,global:Nn,isContextDefined:wx,isSpecCompliantForm:vw,toJSONObject:ww,isAsyncFn:jw,isThenable:kw,setImmediate:kx,asap:Nw,isIterable:Sw};function Ce(s,l,i,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",l&&(this.code=l),i&&(this.config=i),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}X.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Nx=Ce.prototype,Sx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Sx[s]={value:s}});Object.defineProperties(Ce,Sx);Object.defineProperty(Nx,"isAxiosError",{value:!0});Ce.from=(s,l,i,o,d,f)=>{const m=Object.create(Nx);X.toFlatObject(s,m,function(v){return v!==Error.prototype},x=>x!=="isAxiosError");const g=s&&s.message?s.message:"Error",b=l==null&&s?s.code:l;return Ce.call(m,g,b,i,o,d),s&&m.cause==null&&Object.defineProperty(m,"cause",{value:s,configurable:!0}),m.name=s&&s.name||"Error",f&&Object.assign(m,f),m};const Cw=null;function Su(s){return X.isPlainObject(s)||X.isArray(s)}function Cx(s){return X.endsWith(s,"[]")?s.slice(0,-2):s}function bp(s,l,i){return s?s.concat(l).map(function(d,f){return d=Cx(d),!i&&f?"["+d+"]":d}).join(i?".":""):l}function Ew(s){return X.isArray(s)&&!s.some(Su)}const Aw=X.toFlatObject(X,{},null,function(l){return/^is[A-Z]/.test(l)});function qo(s,l,i){if(!X.isObject(s))throw new TypeError("target must be an object");l=l||new FormData,i=X.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,k){return!X.isUndefined(k[N])});const o=i.metaTokens,d=i.visitor||v,f=i.dots,m=i.indexes,b=(i.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(l);if(!X.isFunction(d))throw new TypeError("visitor must be a function");function x(j){if(j===null)return"";if(X.isDate(j))return j.toISOString();if(X.isBoolean(j))return j.toString();if(!b&&X.isBlob(j))throw new Ce("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(j)||X.isTypedArray(j)?b&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function v(j,N,k){let C=j;if(j&&!k&&typeof j=="object"){if(X.endsWith(N,"{}"))N=o?N:N.slice(0,-2),j=JSON.stringify(j);else if(X.isArray(j)&&Ew(j)||(X.isFileList(j)||X.endsWith(N,"[]"))&&(C=X.toArray(j)))return N=Cx(N),C.forEach(function(M,B){!(X.isUndefined(M)||M===null)&&l.append(m===!0?bp([N],B,f):m===null?N:N+"[]",x(M))}),!1}return Su(j)?!0:(l.append(bp(k,N,f),x(j)),!1)}const h=[],S=Object.assign(Aw,{defaultVisitor:v,convertValue:x,isVisitable:Su});function A(j,N){if(!X.isUndefined(j)){if(h.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));h.push(j),X.forEach(j,function(C,L){(!(X.isUndefined(C)||C===null)&&d.call(l,C,X.isString(L)?L.trim():L,N,S))===!0&&A(C,N?N.concat(L):[L])}),h.pop()}}if(!X.isObject(s))throw new TypeError("data must be an object");return A(s),l}function yp(s){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(o){return l[o]})}function Iu(s,l){this._pairs=[],s&&qo(s,this,l)}const Ex=Iu.prototype;Ex.append=function(l,i){this._pairs.push([l,i])};Ex.toString=function(l){const i=l?function(o){return l.call(this,o,yp)}:yp;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function Tw(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ax(s,l,i){if(!l)return s;const o=i&&i.encode||Tw;X.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let f;if(d?f=d(l,i):f=X.isURLSearchParams(l)?l.toString():new Iu(l,i).toString(o),f){const m=s.indexOf("#");m!==-1&&(s=s.slice(0,m)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class vp{constructor(){this.handlers=[]}use(l,i,o){return this.handlers.push({fulfilled:l,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){X.forEach(this.handlers,function(o){o!==null&&l(o)})}}const Tx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lw=typeof URLSearchParams<"u"?URLSearchParams:Iu,Mw=typeof FormData<"u"?FormData:null,_w=typeof Blob<"u"?Blob:null,Ow={isBrowser:!0,classes:{URLSearchParams:Lw,FormData:Mw,Blob:_w},protocols:["http","https","file","blob","url","data"]},Vu=typeof window<"u"&&typeof document<"u",Cu=typeof navigator=="object"&&navigator||void 0,Rw=Vu&&(!Cu||["ReactNative","NativeScript","NS"].indexOf(Cu.product)<0),Dw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bw=Vu&&window.location.href||"http://localhost",zw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vu,hasStandardBrowserEnv:Rw,hasStandardBrowserWebWorkerEnv:Dw,navigator:Cu,origin:Bw},Symbol.toStringTag,{value:"Module"})),Ot={...zw,...Ow};function Uw(s,l){return qo(s,new Ot.classes.URLSearchParams,{visitor:function(i,o,d,f){return Ot.isNode&&X.isBuffer(i)?(this.append(o,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...l})}function Hw(s){return X.matchAll(/\w+|\[(\w*)]/g,s).map(l=>l[0]==="[]"?"":l[1]||l[0])}function qw(s){const l={},i=Object.keys(s);let o;const d=i.length;let f;for(o=0;o<d;o++)f=i[o],l[f]=s[f];return l}function Lx(s){function l(i,o,d,f){let m=i[f++];if(m==="__proto__")return!0;const g=Number.isFinite(+m),b=f>=i.length;return m=!m&&X.isArray(d)?d.length:m,b?(X.hasOwnProp(d,m)?d[m]=[d[m],o]:d[m]=o,!g):((!d[m]||!X.isObject(d[m]))&&(d[m]=[]),l(i,o,d[m],f)&&X.isArray(d[m])&&(d[m]=qw(d[m])),!g)}if(X.isFormData(s)&&X.isFunction(s.entries)){const i={};return X.forEachEntry(s,(o,d)=>{l(Hw(o),d,i,0)}),i}return null}function Pw(s,l,i){if(X.isString(s))try{return(l||JSON.parse)(s),X.trim(s)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(s)}const qr={transitional:Tx,adapter:["xhr","http","fetch"],transformRequest:[function(l,i){const o=i.getContentType()||"",d=o.indexOf("application/json")>-1,f=X.isObject(l);if(f&&X.isHTMLForm(l)&&(l=new FormData(l)),X.isFormData(l))return d?JSON.stringify(Lx(l)):l;if(X.isArrayBuffer(l)||X.isBuffer(l)||X.isStream(l)||X.isFile(l)||X.isBlob(l)||X.isReadableStream(l))return l;if(X.isArrayBufferView(l))return l.buffer;if(X.isURLSearchParams(l))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let g;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Uw(l,this.formSerializer).toString();if((g=X.isFileList(l))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return qo(g?{"files[]":l}:l,b&&new b,this.formSerializer)}}return f||d?(i.setContentType("application/json",!1),Pw(l)):l}],transformResponse:[function(l){const i=this.transitional||qr.transitional,o=i&&i.forcedJSONParsing,d=this.responseType==="json";if(X.isResponse(l)||X.isReadableStream(l))return l;if(l&&X.isString(l)&&(o&&!this.responseType||d)){const m=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(l,this.parseReviver)}catch(g){if(m)throw g.name==="SyntaxError"?Ce.from(g,Ce.ERR_BAD_RESPONSE,this,null,this.response):g}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],s=>{qr.headers[s]={}});const $w=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Iw=s=>{const l={};let i,o,d;return s&&s.split(`
`).forEach(function(m){d=m.indexOf(":"),i=m.substring(0,d).trim().toLowerCase(),o=m.substring(d+1).trim(),!(!i||l[i]&&$w[i])&&(i==="set-cookie"?l[i]?l[i].push(o):l[i]=[o]:l[i]=l[i]?l[i]+", "+o:o)}),l},wp=Symbol("internals");function Mr(s){return s&&String(s).trim().toLowerCase()}function go(s){return s===!1||s==null?s:X.isArray(s)?s.map(go):String(s)}function Vw(s){const l=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(s);)l[o[1]]=o[2];return l}const Yw=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function hu(s,l,i,o,d){if(X.isFunction(o))return o.call(this,l,i);if(d&&(l=i),!!X.isString(l)){if(X.isString(o))return l.indexOf(o)!==-1;if(X.isRegExp(o))return o.test(l)}}function Gw(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,i,o)=>i.toUpperCase()+o)}function Xw(s,l){const i=X.toCamelCase(" "+l);["get","set","has"].forEach(o=>{Object.defineProperty(s,o+i,{value:function(d,f,m){return this[o].call(this,l,d,f,m)},configurable:!0})})}let Jt=class{constructor(l){l&&this.set(l)}set(l,i,o){const d=this;function f(g,b,x){const v=Mr(b);if(!v)throw new Error("header name must be a non-empty string");const h=X.findKey(d,v);(!h||d[h]===void 0||x===!0||x===void 0&&d[h]!==!1)&&(d[h||b]=go(g))}const m=(g,b)=>X.forEach(g,(x,v)=>f(x,v,b));if(X.isPlainObject(l)||l instanceof this.constructor)m(l,i);else if(X.isString(l)&&(l=l.trim())&&!Yw(l))m(Iw(l),i);else if(X.isObject(l)&&X.isIterable(l)){let g={},b,x;for(const v of l){if(!X.isArray(v))throw TypeError("Object iterator must return a key-value pair");g[x=v[0]]=(b=g[x])?X.isArray(b)?[...b,v[1]]:[b,v[1]]:v[1]}m(g,i)}else l!=null&&f(i,l,o);return this}get(l,i){if(l=Mr(l),l){const o=X.findKey(this,l);if(o){const d=this[o];if(!i)return d;if(i===!0)return Vw(d);if(X.isFunction(i))return i.call(this,d,o);if(X.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,i){if(l=Mr(l),l){const o=X.findKey(this,l);return!!(o&&this[o]!==void 0&&(!i||hu(this,this[o],o,i)))}return!1}delete(l,i){const o=this;let d=!1;function f(m){if(m=Mr(m),m){const g=X.findKey(o,m);g&&(!i||hu(o,o[g],g,i))&&(delete o[g],d=!0)}}return X.isArray(l)?l.forEach(f):f(l),d}clear(l){const i=Object.keys(this);let o=i.length,d=!1;for(;o--;){const f=i[o];(!l||hu(this,this[f],f,l,!0))&&(delete this[f],d=!0)}return d}normalize(l){const i=this,o={};return X.forEach(this,(d,f)=>{const m=X.findKey(o,f);if(m){i[m]=go(d),delete i[f];return}const g=l?Gw(f):String(f).trim();g!==f&&delete i[f],i[g]=go(d),o[g]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const i=Object.create(null);return X.forEach(this,(o,d)=>{o!=null&&o!==!1&&(i[d]=l&&X.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,i])=>l+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...i){const o=new this(l);return i.forEach(d=>o.set(d)),o}static accessor(l){const o=(this[wp]=this[wp]={accessors:{}}).accessors,d=this.prototype;function f(m){const g=Mr(m);o[g]||(Xw(d,m),o[g]=!0)}return X.isArray(l)?l.forEach(f):f(l),this}};Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Jt.prototype,({value:s},l)=>{let i=l[0].toUpperCase()+l.slice(1);return{get:()=>s,set(o){this[i]=o}}});X.freezeMethods(Jt);function pu(s,l){const i=this||qr,o=l||i,d=Jt.from(o.headers);let f=o.data;return X.forEach(s,function(g){f=g.call(i,f,d.normalize(),l?l.status:void 0)}),d.normalize(),f}function Mx(s){return!!(s&&s.__CANCEL__)}function _l(s,l,i){Ce.call(this,s??"canceled",Ce.ERR_CANCELED,l,i),this.name="CanceledError"}X.inherits(_l,Ce,{__CANCEL__:!0});function _x(s,l,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?s(i):l(new Ce("Request failed with status code "+i.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Kw(s){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return l&&l[1]||""}function Fw(s,l){s=s||10;const i=new Array(s),o=new Array(s);let d=0,f=0,m;return l=l!==void 0?l:1e3,function(b){const x=Date.now(),v=o[f];m||(m=x),i[d]=b,o[d]=x;let h=f,S=0;for(;h!==d;)S+=i[h++],h=h%s;if(d=(d+1)%s,d===f&&(f=(f+1)%s),x-m<l)return;const A=v&&x-v;return A?Math.round(S*1e3/A):void 0}}function Qw(s,l){let i=0,o=1e3/l,d,f;const m=(x,v=Date.now())=>{i=v,d=null,f&&(clearTimeout(f),f=null),s(...x)};return[(...x)=>{const v=Date.now(),h=v-i;h>=o?m(x,v):(d=x,f||(f=setTimeout(()=>{f=null,m(d)},o-h)))},()=>d&&m(d)]}const ko=(s,l,i=3)=>{let o=0;const d=Fw(50,250);return Qw(f=>{const m=f.loaded,g=f.lengthComputable?f.total:void 0,b=m-o,x=d(b),v=m<=g;o=m;const h={loaded:m,total:g,progress:g?m/g:void 0,bytes:b,rate:x||void 0,estimated:x&&g&&v?(g-m)/x:void 0,event:f,lengthComputable:g!=null,[l?"download":"upload"]:!0};s(h)},i)},jp=(s,l)=>{const i=s!=null;return[o=>l[0]({lengthComputable:i,total:s,loaded:o}),l[1]]},kp=s=>(...l)=>X.asap(()=>s(...l)),Zw=Ot.hasStandardBrowserEnv?((s,l)=>i=>(i=new URL(i,Ot.origin),s.protocol===i.protocol&&s.host===i.host&&(l||s.port===i.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,Jw=Ot.hasStandardBrowserEnv?{write(s,l,i,o,d,f,m){if(typeof document>"u")return;const g=[`${s}=${encodeURIComponent(l)}`];X.isNumber(i)&&g.push(`expires=${new Date(i).toUTCString()}`),X.isString(o)&&g.push(`path=${o}`),X.isString(d)&&g.push(`domain=${d}`),f===!0&&g.push("secure"),X.isString(m)&&g.push(`SameSite=${m}`),document.cookie=g.join("; ")},read(s){if(typeof document>"u")return null;const l=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return l?decodeURIComponent(l[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ww(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function e1(s,l){return l?s.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):s}function Ox(s,l,i){let o=!Ww(l);return s&&(o||i==!1)?e1(s,l):l}const Np=s=>s instanceof Jt?{...s}:s;function En(s,l){l=l||{};const i={};function o(x,v,h,S){return X.isPlainObject(x)&&X.isPlainObject(v)?X.merge.call({caseless:S},x,v):X.isPlainObject(v)?X.merge({},v):X.isArray(v)?v.slice():v}function d(x,v,h,S){if(X.isUndefined(v)){if(!X.isUndefined(x))return o(void 0,x,h,S)}else return o(x,v,h,S)}function f(x,v){if(!X.isUndefined(v))return o(void 0,v)}function m(x,v){if(X.isUndefined(v)){if(!X.isUndefined(x))return o(void 0,x)}else return o(void 0,v)}function g(x,v,h){if(h in l)return o(x,v);if(h in s)return o(void 0,x)}const b={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:g,headers:(x,v,h)=>d(Np(x),Np(v),h,!0)};return X.forEach(Object.keys({...s,...l}),function(v){const h=b[v]||d,S=h(s[v],l[v],v);X.isUndefined(S)&&h!==g||(i[v]=S)}),i}const Rx=s=>{const l=En({},s);let{data:i,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:f,headers:m,auth:g}=l;if(l.headers=m=Jt.from(m),l.url=Ax(Ox(l.baseURL,l.url,l.allowAbsoluteUrls),s.params,s.paramsSerializer),g&&m.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),X.isFormData(i)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(X.isFunction(i.getHeaders)){const b=i.getHeaders(),x=["content-type","content-length"];Object.entries(b).forEach(([v,h])=>{x.includes(v.toLowerCase())&&m.set(v,h)})}}if(Ot.hasStandardBrowserEnv&&(o&&X.isFunction(o)&&(o=o(l)),o||o!==!1&&Zw(l.url))){const b=d&&f&&Jw.read(f);b&&m.set(d,b)}return l},t1=typeof XMLHttpRequest<"u",a1=t1&&function(s){return new Promise(function(i,o){const d=Rx(s);let f=d.data;const m=Jt.from(d.headers).normalize();let{responseType:g,onUploadProgress:b,onDownloadProgress:x}=d,v,h,S,A,j;function N(){A&&A(),j&&j(),d.cancelToken&&d.cancelToken.unsubscribe(v),d.signal&&d.signal.removeEventListener("abort",v)}let k=new XMLHttpRequest;k.open(d.method.toUpperCase(),d.url,!0),k.timeout=d.timeout;function C(){if(!k)return;const M=Jt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),Y={data:!g||g==="text"||g==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:M,config:s,request:k};_x(function(W){i(W),N()},function(W){o(W),N()},Y),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(o(new Ce("Request aborted",Ce.ECONNABORTED,s,k)),k=null)},k.onerror=function(B){const Y=B&&B.message?B.message:"Network Error",I=new Ce(Y,Ce.ERR_NETWORK,s,k);I.event=B||null,o(I),k=null},k.ontimeout=function(){let B=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const Y=d.transitional||Tx;d.timeoutErrorMessage&&(B=d.timeoutErrorMessage),o(new Ce(B,Y.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,s,k)),k=null},f===void 0&&m.setContentType(null),"setRequestHeader"in k&&X.forEach(m.toJSON(),function(B,Y){k.setRequestHeader(Y,B)}),X.isUndefined(d.withCredentials)||(k.withCredentials=!!d.withCredentials),g&&g!=="json"&&(k.responseType=d.responseType),x&&([S,j]=ko(x,!0),k.addEventListener("progress",S)),b&&k.upload&&([h,A]=ko(b),k.upload.addEventListener("progress",h),k.upload.addEventListener("loadend",A)),(d.cancelToken||d.signal)&&(v=M=>{k&&(o(!M||M.type?new _l(null,s,k):M),k.abort(),k=null)},d.cancelToken&&d.cancelToken.subscribe(v),d.signal&&(d.signal.aborted?v():d.signal.addEventListener("abort",v)));const L=Kw(d.url);if(L&&Ot.protocols.indexOf(L)===-1){o(new Ce("Unsupported protocol "+L+":",Ce.ERR_BAD_REQUEST,s));return}k.send(f||null)})},s1=(s,l)=>{const{length:i}=s=s?s.filter(Boolean):[];if(l||i){let o=new AbortController,d;const f=function(x){if(!d){d=!0,g();const v=x instanceof Error?x:this.reason;o.abort(v instanceof Ce?v:new _l(v instanceof Error?v.message:v))}};let m=l&&setTimeout(()=>{m=null,f(new Ce(`timeout ${l} of ms exceeded`,Ce.ETIMEDOUT))},l);const g=()=>{s&&(m&&clearTimeout(m),m=null,s.forEach(x=>{x.unsubscribe?x.unsubscribe(f):x.removeEventListener("abort",f)}),s=null)};s.forEach(x=>x.addEventListener("abort",f));const{signal:b}=o;return b.unsubscribe=()=>X.asap(g),b}},n1=function*(s,l){let i=s.byteLength;if(i<l){yield s;return}let o=0,d;for(;o<i;)d=o+l,yield s.slice(o,d),o=d},l1=async function*(s,l){for await(const i of r1(s))yield*n1(i,l)},r1=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const l=s.getReader();try{for(;;){const{done:i,value:o}=await l.read();if(i)break;yield o}}finally{await l.cancel()}},Sp=(s,l,i,o)=>{const d=l1(s,l);let f=0,m,g=b=>{m||(m=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:x,value:v}=await d.next();if(x){g(),b.close();return}let h=v.byteLength;if(i){let S=f+=h;i(S)}b.enqueue(new Uint8Array(v))}catch(x){throw g(x),x}},cancel(b){return g(b),d.return()}},{highWaterMark:2})},Cp=64*1024,{isFunction:co}=X,i1=(({Request:s,Response:l})=>({Request:s,Response:l}))(X.global),{ReadableStream:Ep,TextEncoder:Ap}=X.global,Tp=(s,...l)=>{try{return!!s(...l)}catch{return!1}},o1=s=>{s=X.merge.call({skipUndefined:!0},i1,s);const{fetch:l,Request:i,Response:o}=s,d=l?co(l):typeof fetch=="function",f=co(i),m=co(o);if(!d)return!1;const g=d&&co(Ep),b=d&&(typeof Ap=="function"?(j=>N=>j.encode(N))(new Ap):async j=>new Uint8Array(await new i(j).arrayBuffer())),x=f&&g&&Tp(()=>{let j=!1;const N=new i(Ot.origin,{body:new Ep,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!N}),v=m&&g&&Tp(()=>X.isReadableStream(new o("").body)),h={stream:v&&(j=>j.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!h[j]&&(h[j]=(N,k)=>{let C=N&&N[j];if(C)return C.call(N);throw new Ce(`Response type '${j}' is not supported`,Ce.ERR_NOT_SUPPORT,k)})});const S=async j=>{if(j==null)return 0;if(X.isBlob(j))return j.size;if(X.isSpecCompliantForm(j))return(await new i(Ot.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(X.isArrayBufferView(j)||X.isArrayBuffer(j))return j.byteLength;if(X.isURLSearchParams(j)&&(j=j+""),X.isString(j))return(await b(j)).byteLength},A=async(j,N)=>{const k=X.toFiniteNumber(j.getContentLength());return k??S(N)};return async j=>{let{url:N,method:k,data:C,signal:L,cancelToken:M,timeout:B,onDownloadProgress:Y,onUploadProgress:I,responseType:W,headers:de,withCredentials:ne="same-origin",fetchOptions:ae}=Rx(j),Z=l||fetch;W=W?(W+"").toLowerCase():"text";let fe=s1([L,M&&M.toAbortSignal()],B),G=null;const ue=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let me;try{if(I&&x&&k!=="get"&&k!=="head"&&(me=await A(de,C))!==0){let E=new i(N,{method:"POST",body:C,duplex:"half"}),T;if(X.isFormData(C)&&(T=E.headers.get("content-type"))&&de.setContentType(T),E.body){const[H,Q]=jp(me,ko(kp(I)));C=Sp(E.body,Cp,H,Q)}}X.isString(ne)||(ne=ne?"include":"omit");const O=f&&"credentials"in i.prototype,U={...ae,signal:fe,method:k.toUpperCase(),headers:de.normalize().toJSON(),body:C,duplex:"half",credentials:O?ne:void 0};G=f&&new i(N,U);let le=await(f?Z(G,ae):Z(N,U));const D=v&&(W==="stream"||W==="response");if(v&&(Y||D&&ue)){const E={};["status","statusText","headers"].forEach(re=>{E[re]=le[re]});const T=X.toFiniteNumber(le.headers.get("content-length")),[H,Q]=Y&&jp(T,ko(kp(Y),!0))||[];le=new o(Sp(le.body,Cp,H,()=>{Q&&Q(),ue&&ue()}),E)}W=W||"text";let q=await h[X.findKey(h,W)||"text"](le,j);return!D&&ue&&ue(),await new Promise((E,T)=>{_x(E,T,{data:q,headers:Jt.from(le.headers),status:le.status,statusText:le.statusText,config:j,request:G})})}catch(O){throw ue&&ue(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,j,G),{cause:O.cause||O}):Ce.from(O,O&&O.code,j,G)}}},c1=new Map,Dx=s=>{let l=s&&s.env||{};const{fetch:i,Request:o,Response:d}=l,f=[o,d,i];let m=f.length,g=m,b,x,v=c1;for(;g--;)b=f[g],x=v.get(b),x===void 0&&v.set(b,x=g?new Map:o1(l)),v=x;return x};Dx();const Yu={http:Cw,xhr:a1,fetch:{get:Dx}};X.forEach(Yu,(s,l)=>{if(s){try{Object.defineProperty(s,"name",{value:l})}catch{}Object.defineProperty(s,"adapterName",{value:l})}});const Lp=s=>`- ${s}`,d1=s=>X.isFunction(s)||s===null||s===!1;function u1(s,l){s=X.isArray(s)?s:[s];const{length:i}=s;let o,d;const f={};for(let m=0;m<i;m++){o=s[m];let g;if(d=o,!d1(o)&&(d=Yu[(g=String(o)).toLowerCase()],d===void 0))throw new Ce(`Unknown adapter '${g}'`);if(d&&(X.isFunction(d)||(d=d.get(l))))break;f[g||"#"+m]=d}if(!d){const m=Object.entries(f).map(([b,x])=>`adapter ${b} `+(x===!1?"is not supported by the environment":"is not available in the build"));let g=i?m.length>1?`since :
`+m.map(Lp).join(`
`):" "+Lp(m[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return d}const Bx={getAdapter:u1,adapters:Yu};function xu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new _l(null,s)}function Mp(s){return xu(s),s.headers=Jt.from(s.headers),s.data=pu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Bx.getAdapter(s.adapter||qr.adapter,s)(s).then(function(o){return xu(s),o.data=pu.call(s,s.transformResponse,o),o.headers=Jt.from(o.headers),o},function(o){return Mx(o)||(xu(s),o&&o.response&&(o.response.data=pu.call(s,s.transformResponse,o.response),o.response.headers=Jt.from(o.response.headers))),Promise.reject(o)})}const zx="1.13.2",Po={};["object","boolean","number","function","string","symbol"].forEach((s,l)=>{Po[s]=function(o){return typeof o===s||"a"+(l<1?"n ":" ")+s}});const _p={};Po.transitional=function(l,i,o){function d(f,m){return"[Axios v"+zx+"] Transitional option '"+f+"'"+m+(o?". "+o:"")}return(f,m,g)=>{if(l===!1)throw new Ce(d(m," has been removed"+(i?" in "+i:"")),Ce.ERR_DEPRECATED);return i&&!_p[m]&&(_p[m]=!0,console.warn(d(m," has been deprecated since v"+i+" and will be removed in the near future"))),l?l(f,m,g):!0}};Po.spelling=function(l){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${l}`),!0)};function f1(s,l,i){if(typeof s!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const o=Object.keys(s);let d=o.length;for(;d-- >0;){const f=o[d],m=l[f];if(m){const g=s[f],b=g===void 0||m(g,f,s);if(b!==!0)throw new Ce("option "+f+" must be "+b,Ce.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ce("Unknown option "+f,Ce.ERR_BAD_OPTION)}}const bo={assertOptions:f1,validators:Po},Ya=bo.validators;let Sn=class{constructor(l){this.defaults=l||{},this.interceptors={request:new vp,response:new vp}}async request(l,i){try{return await this._request(l,i)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(l,i){typeof l=="string"?(i=i||{},i.url=l):i=l||{},i=En(this.defaults,i);const{transitional:o,paramsSerializer:d,headers:f}=i;o!==void 0&&bo.assertOptions(o,{silentJSONParsing:Ya.transitional(Ya.boolean),forcedJSONParsing:Ya.transitional(Ya.boolean),clarifyTimeoutError:Ya.transitional(Ya.boolean)},!1),d!=null&&(X.isFunction(d)?i.paramsSerializer={serialize:d}:bo.assertOptions(d,{encode:Ya.function,serialize:Ya.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),bo.assertOptions(i,{baseUrl:Ya.spelling("baseURL"),withXsrfToken:Ya.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let m=f&&X.merge(f.common,f[i.method]);f&&X.forEach(["delete","get","head","post","put","patch","common"],j=>{delete f[j]}),i.headers=Jt.concat(m,f);const g=[];let b=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(i)===!1||(b=b&&N.synchronous,g.unshift(N.fulfilled,N.rejected))});const x=[];this.interceptors.response.forEach(function(N){x.push(N.fulfilled,N.rejected)});let v,h=0,S;if(!b){const j=[Mp.bind(this),void 0];for(j.unshift(...g),j.push(...x),S=j.length,v=Promise.resolve(i);h<S;)v=v.then(j[h++],j[h++]);return v}S=g.length;let A=i;for(;h<S;){const j=g[h++],N=g[h++];try{A=j(A)}catch(k){N.call(this,k);break}}try{v=Mp.call(this,A)}catch(j){return Promise.reject(j)}for(h=0,S=x.length;h<S;)v=v.then(x[h++],x[h++]);return v}getUri(l){l=En(this.defaults,l);const i=Ox(l.baseURL,l.url,l.allowAbsoluteUrls);return Ax(i,l.params,l.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(l){Sn.prototype[l]=function(i,o){return this.request(En(o||{},{method:l,url:i,data:(o||{}).data}))}});X.forEach(["post","put","patch"],function(l){function i(o){return function(f,m,g){return this.request(En(g||{},{method:l,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:m}))}}Sn.prototype[l]=i(),Sn.prototype[l+"Form"]=i(!0)});let m1=class Ux{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const o=this;this.promise.then(d=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](d);o._listeners=null}),this.promise.then=d=>{let f;const m=new Promise(g=>{o.subscribe(g),f=g}).then(d);return m.cancel=function(){o.unsubscribe(f)},m},l(function(f,m,g){o.reason||(o.reason=new _l(f,m,g),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const i=this._listeners.indexOf(l);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const l=new AbortController,i=o=>{l.abort(o)};return this.subscribe(i),l.signal.unsubscribe=()=>this.unsubscribe(i),l.signal}static source(){let l;return{token:new Ux(function(d){l=d}),cancel:l}}};function h1(s){return function(i){return s.apply(null,i)}}function p1(s){return X.isObject(s)&&s.isAxiosError===!0}const Eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Eu).forEach(([s,l])=>{Eu[l]=s});function Hx(s){const l=new Sn(s),i=xx(Sn.prototype.request,l);return X.extend(i,Sn.prototype,l,{allOwnKeys:!0}),X.extend(i,l,null,{allOwnKeys:!0}),i.create=function(d){return Hx(En(s,d))},i}const ot=Hx(qr);ot.Axios=Sn;ot.CanceledError=_l;ot.CancelToken=m1;ot.isCancel=Mx;ot.VERSION=zx;ot.toFormData=qo;ot.AxiosError=Ce;ot.Cancel=ot.CanceledError;ot.all=function(l){return Promise.all(l)};ot.spread=h1;ot.isAxiosError=p1;ot.mergeConfig=En;ot.AxiosHeaders=Jt;ot.formToJSON=s=>Lx(X.isHTMLForm(s)?new FormData(s):s);ot.getAdapter=Bx.getAdapter;ot.HttpStatusCode=Eu;ot.default=ot;const{Axios:k4,AxiosError:N4,CanceledError:S4,isCancel:C4,CancelToken:E4,VERSION:A4,all:T4,Cancel:L4,isAxiosError:M4,spread:_4,toFormData:O4,AxiosHeaders:R4,HttpStatusCode:D4,formToJSON:B4,getAdapter:z4,mergeConfig:U4}=ot,x1="https://isp.easytech.africa/api";class qx extends Error{constructor(l,i,o){super(i),this.status=l,this.errors=o,this.name="ApiError"}}let yo=null;const vo=s=>{yo=s,s?(localStorage.setItem("auth_token",s),ce.defaults.headers.common.Authorization=`Bearer ${s}`):(localStorage.removeItem("auth_token"),delete ce.defaults.headers.common.Authorization)},Px=()=>(yo||(yo=localStorage.getItem("auth_token")),yo),ce=ot.create({baseURL:x1,headers:{"Content-Type":"application/json"}});ce.interceptors.request.use(s=>{const l=Px();return l&&(s.headers.Authorization=`Bearer ${l}`),s});ce.interceptors.response.use(s=>s,s=>{const l=s.response?.status||0,i=s.response?.data,o=i?.message||i?.error||s.message||`HTTP ${l}`;throw new qx(l,o,i?.errors)});const No={register:async(s,l,i,o)=>{const f=(await ce.post("/auth/register",{organization_name:s,name:l,email:i,password:o,password_confirmation:o})).data;return f.token&&vo(f.token),f},login:async(s,l)=>{const o=(await ce.post("/auth/login",{email:s,password:l})).data;return o.token&&vo(o.token),o},logout:async()=>{try{console.log("ApiService: Logging out..."),await ce.post("/auth/logout"),console.log("ApiService: Logged out...")}finally{vo(null)}},me:async()=>(await ce.get("/auth/me")).data},Or={getAll:async(s=1)=>(await ce.get(`/users?page=${s}`)).data,create:async s=>(await ce.post("/users",s)).data,update:async(s,l)=>(await ce.put(`/users/${s}`,l)).data,delete:async s=>(await ce.delete(`/users/${s}`)).data},wo={getAll:async(s=1)=>(await ce.get(`/roles?page=${s}`)).data,create:async s=>(await ce.post("/roles",s)).data,update:async(s,l)=>(await ce.put(`/roles/${s}`,l)).data,delete:async s=>(await ce.delete(`/roles/${s}`)).data,getPermissions:async()=>(await ce.get("/permissions")).data},zt={getAll:async(s=1)=>(await ce.get(`/customers?page=${s}`)).data,getById:async s=>(await ce.get(`/customers/${s}`)).data,create:async s=>(await ce.post("/customers",s)).data,update:async(s,l)=>(await ce.put(`/customers/${s}`,l)).data,delete:async s=>(await ce.delete(`/customers/${s}`)).data,getRadiusStatus:async s=>(await ce.get(`/customers/${s}/radius-status`)).data,getWithRelations:async s=>(await ce.get(`/customers/${s}/with-relations`)).data,syncToRadius:async s=>(await ce.post(`/customers/${s}/sync-radius`)).data,syncAllToRadius:async()=>(await ce.post("/customers/sync-all-radius")).data,getTechnicalSpecs:async s=>(await ce.get(`/customers/${s}/technical-specs`)).data,resetMacBinding:async s=>(await ce.post(`/customers/${s}/reset-mac-binding`)).data,pauseSubscription:async s=>(await ce.post(`/customers/${s}/pause-subscription`)).data,resumeSubscription:async s=>(await ce.post(`/customers/${s}/resume-subscription`)).data},Xs={getAll:async(s=1)=>(await ce.get(`/packages?page=${s}`)).data,getById:async s=>(await ce.get(`/packages/${s}`)).data,create:async s=>(await ce.post("/packages",s)).data,update:async(s,l)=>(await ce.put(`/packages/${s}`,l)).data,delete:async s=>(await ce.delete(`/packages/${s}`)).data},Sl={getAll:async(s=1)=>(await ce.get(`/sites?page=${s}`)).data,getById:async s=>(await ce.get(`/sites/${s}`)).data,getIpam:async s=>(await ce.get(`/sites/${s}/ipam`)).data,create:async s=>(await ce.post("/sites",s)).data,update:async(s,l)=>(await ce.put(`/sites/${s}`,l)).data,delete:async s=>(await ce.delete(`/sites/${s}`)).data},Js={getAll:async(s=1)=>(await ce.get(`/payments?page=${s}`)).data,getByCustomer:async(s,l=1)=>(await ce.get(`/payments/customer/${s}?page=${l}`)).data,getPending:async(s=1)=>(await ce.get(`/payments/pending?page=${s}`)).data,create:async s=>(await ce.post("/payments",s)).data,update:async(s,l)=>(await ce.put(`/payments/${s}`,l)).data,resolvePending:async(s,l)=>(await ce.post(`/payments/${s}/resolve`,{customer_id:l})).data,delete:async s=>(await ce.delete(`/payments/${s}`)).data,registerC2BUrls:async s=>{try{return(await ce.post("/payments/c2b/register-urls",s)).data}catch(l){const i=l?.response?.data,o=i?.message||i?.error||(i?.errors?JSON.stringify(i.errors):null)||l?.message||"Failed to register C2B URLs";throw new Error(o)}},stkPushPayhero:async s=>{try{return(await ce.post("/payments/payhero/stkpush",s)).data}catch(l){const i=l?.response?.data,o=i?.message||i?.error||(i?.errors?JSON.stringify(i.errors):null)||l?.message||"Failed to initiate STK push";throw new Error(o)}}},$x={getAll:async(s=1)=>(await ce.get(`/transactions?page=${s}`)).data,getByCustomer:async(s,l=1)=>(await ce.get(`/transactions/customer/${s}?page=${l}`)).data,getById:async s=>(await ce.get(`/transactions/${s}`)).data,create:async s=>(await ce.post("/transactions",s)).data},jl={getAll:async(s=1)=>(await ce.get(`/tickets?page=${s}`)).data,getById:async s=>(await ce.get(`/tickets/${s}`)).data,getByCustomer:async(s,l=1)=>(await ce.get(`/tickets/customer/${s}?page=${l}`)).data,create:async s=>(await ce.post("/tickets",s)).data,update:async(s,l)=>(await ce.put(`/tickets/${s}`,l)).data,delete:async s=>(await ce.delete(`/tickets/${s}`)).data},Zs={get:async()=>(await ce.get("/organization")).data,update:async s=>(await ce.put("/organization",s)).data},Gu={send:async(s,l,i)=>(await ce.post("/sms/send",{phone:s,message:l,customer_id:i})).data,sendBulk:async s=>(await ce.post("/sms/send-bulk",{recipients:s})).data,getLogs:async(s,l=5)=>(await ce.get(`/sms/logs?customer_id=${s}&per_page=${l}`)).data},Op={getStats:async()=>(await ce.get("/dashboard/stats")).data,getRevenueChart:async()=>(await ce.get("/dashboard/revenue-chart")).data},kn={getAll:async(s=1,l=10,i,o)=>{let d=`/leads?page=${s}&per_page=${l}`;return i&&i!=="all"&&(d+=`&status=${i}`),o&&(d+=`&search=${encodeURIComponent(o)}`),(await ce.get(d)).data},getById:async s=>(await ce.get(`/leads/${s}`)).data,create:async s=>(await ce.post("/leads",s)).data,update:async(s,l)=>(await ce.put(`/leads/${s}`,l)).data,delete:async s=>(await ce.delete(`/leads/${s}`)).data,getStats:async()=>(await ce.get("/leads-stats")).data},uo={getAll:async(s=1,l=15,i,o,d,f)=>{let m=`/expenses?page=${s}&per_page=${l}`;return i&&i!=="All"&&(m+=`&category=${encodeURIComponent(i)}`),o&&(m+=`&search=${encodeURIComponent(o)}`),d&&(m+=`&start_date=${d}`),f&&(m+=`&end_date=${f}`),(await ce.get(m)).data},getById:async s=>(await ce.get(`/expenses/${s}`)).data,create:async s=>(await ce.post("/expenses",s)).data,update:async(s,l)=>(await ce.put(`/expenses/${s}`,l)).data,delete:async s=>(await ce.delete(`/expenses/${s}`)).data,getStats:async(s,l)=>{let i="/expenses/stats";const o=[];return s&&o.push(`start_date=${s}`),l&&o.push(`end_date=${l}`),o.length>0&&(i+=`?${o.join("&")}`),(await ce.get(i)).data}},So={getAll:async(s=1,l=50,i,o,d)=>{let f=`/invoices?page=${s}&per_page=${l}`;return i&&(f+=`&search=${encodeURIComponent(i)}`),o&&o!=="all"&&(f+=`&status=${encodeURIComponent(o)}`),d&&(f+=`&customer_id=${encodeURIComponent(d)}`),(await ce.get(f)).data},getById:async s=>(await ce.get(`/invoices/${s}`)).data,create:async s=>(await ce.post("/invoices",s)).data,update:async(s,l)=>(await ce.put(`/invoices/${s}`,l)).data,delete:async s=>(await ce.delete(`/invoices/${s}`)).data},g1=()=>{const[s,l]=y.useState([]),[i,o]=y.useState({active_users:0,online_users:0,daily_revenue:0,offline_routers:0,clients_gained:0,clients_lost:0}),[d,f]=y.useState({data:[],total:0,growth:0}),[m,g]=y.useState("Initializing AI heuristics engine..."),[b,x]=y.useState(!0);y.useEffect(()=>{(async()=>{x(!0);try{const[j,N,k]=await Promise.all([Sl.getAll(),Op.getStats(),Op.getRevenueChart()]);console.log("Dashboard data fetched:",{sitesRes:j,statsRes:N,chartRes:k}),j.data&&l(j.data),o(N),f(k)}catch(j){console.error("Dashboard sync error:",j)}finally{x(!1)}})()},[]);const v=y.useMemo(()=>A=>A.toLocaleString("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}),[]),h=v(d.total),S=v(i.daily_revenue);return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx("div",{className:"col-span-2 sm:col-span-1",children:a.jsx(vl,{label:"Daily Revenue",value:S,icon:a.jsx(Oa.Revenue,{}),color:wl.warning})}),a.jsx(vl,{label:"Active Users",value:i.active_users,icon:a.jsx(Oa.CRM,{}),color:wl.primary}),a.jsx(vl,{label:"Online Now",value:i.online_users,icon:a.jsx(Oa.Management,{}),color:wl.success}),a.jsx(vl,{label:"System Alerts",value:i.offline_routers,icon:a.jsx(Oa.Settings,{}),color:wl.danger}),a.jsx(vl,{label:"Gained (30d)",value:`+${i.clients_gained}`,icon:a.jsx(Oa.CRM,{}),color:wl.success}),a.jsx(vl,{label:"Lost (30d)",value:`-${i.clients_lost}`,icon:a.jsx(Oa.CRM,{}),color:wl.danger})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Le,{title:"Revenue Trend (12M)",className:"lg:col-span-2 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-white",children:h}),a.jsxs("p",{className:`text-xs font-bold flex items-center gap-1 mt-1 ${d.growth>=0?"text-emerald-500":"text-red-500"}`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.growth>=0?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})}),Math.abs(d.growth),"% ",d.growth>=0?"growth":"decline"," (last 6 months vs previous)"]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("span",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-lg text-[10px] font-black uppercase",children:"Last 12 Months"})})]}),a.jsx(qv,{data:d.data})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Le,{title:"MikroTik Router Status",children:a.jsx("div",{className:"space-y-4",children:s.map(A=>a.jsxs("div",{className:"flex items-center justify-between border-b dark:border-slate-800 pb-2 last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:A.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[A.routers_count," Routers"]})]}),a.jsx(it,{variant:A.status,children:A.status})]},A.id))})}),a.jsx(Le,{title:"System Insights (AI)",className:"lg:col-span-2",children:a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300 italic leading-relaxed",children:['"',m,'"']})})})]})]})]})},ve={SITES:"easy-tech-sites",ADMINS:"easy-tech-admins",ROLES:"easy-tech-roles",PACKAGES:"easy-tech-packages",CUSTOMERS:"easy-tech-customers",PAYMENTS:"easy-tech-payments",TRANSACTIONS:"easy-tech-transactions",INVOICES:"easy-tech-invoices",EXPENSES:"easy-tech-expenses",CATEGORIES:"easy-tech-expense-categories",LEADS:"easy-tech-leads",TICKETS:"easy-tech-tickets",AUTH:"easy-tech-auth"};function b1(s){if(typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",l.appendChild(i),i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}const y1=s=>{switch(s){case"success":return j1;case"info":return N1;case"warning":return k1;case"error":return S1;default:return null}},v1=Array(12).fill(0),w1=({visible:s,className:l})=>se.createElement("div",{className:["sonner-loading-wrapper",l].filter(Boolean).join(" "),"data-visible":s},se.createElement("div",{className:"sonner-spinner"},v1.map((i,o)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),j1=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k1=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N1=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),S1=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C1=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),E1=()=>{const[s,l]=se.useState(document.hidden);return se.useEffect(()=>{const i=()=>{l(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),s};let Au=1;class A1{constructor(){this.subscribe=l=>(this.subscribers.push(l),()=>{const i=this.subscribers.indexOf(l);this.subscribers.splice(i,1)}),this.publish=l=>{this.subscribers.forEach(i=>i(l))},this.addToast=l=>{this.publish(l),this.toasts=[...this.toasts,l]},this.create=l=>{var i;const{message:o,...d}=l,f=typeof l?.id=="number"||((i=l.id)==null?void 0:i.length)>0?l.id:Au++,m=this.toasts.find(b=>b.id===f),g=l.dismissible===void 0?!0:l.dismissible;return this.dismissedToasts.has(f)&&this.dismissedToasts.delete(f),m?this.toasts=this.toasts.map(b=>b.id===f?(this.publish({...b,...l,id:f,title:o}),{...b,...l,id:f,dismissible:g,title:o}):b):this.addToast({title:o,...d,dismissible:g,id:f}),f},this.dismiss=l=>(l?(this.dismissedToasts.add(l),requestAnimationFrame(()=>this.subscribers.forEach(i=>i({id:l,dismiss:!0})))):this.toasts.forEach(i=>{this.subscribers.forEach(o=>o({id:i.id,dismiss:!0}))}),l),this.message=(l,i)=>this.create({...i,message:l}),this.error=(l,i)=>this.create({...i,message:l,type:"error"}),this.success=(l,i)=>this.create({...i,type:"success",message:l}),this.info=(l,i)=>this.create({...i,type:"info",message:l}),this.warning=(l,i)=>this.create({...i,type:"warning",message:l}),this.loading=(l,i)=>this.create({...i,type:"loading",message:l}),this.promise=(l,i)=>{if(!i)return;let o;i.loading!==void 0&&(o=this.create({...i,promise:l,type:"loading",message:i.loading,description:typeof i.description!="function"?i.description:void 0}));const d=Promise.resolve(l instanceof Function?l():l);let f=o!==void 0,m;const g=d.then(async x=>{if(m=["resolve",x],se.isValidElement(x))f=!1,this.create({id:o,type:"default",message:x});else if(L1(x)&&!x.ok){f=!1;const h=typeof i.error=="function"?await i.error(`HTTP error! status: ${x.status}`):i.error,S=typeof i.description=="function"?await i.description(`HTTP error! status: ${x.status}`):i.description,j=typeof h=="object"&&!se.isValidElement(h)?h:{message:h};this.create({id:o,type:"error",description:S,...j})}else if(x instanceof Error){f=!1;const h=typeof i.error=="function"?await i.error(x):i.error,S=typeof i.description=="function"?await i.description(x):i.description,j=typeof h=="object"&&!se.isValidElement(h)?h:{message:h};this.create({id:o,type:"error",description:S,...j})}else if(i.success!==void 0){f=!1;const h=typeof i.success=="function"?await i.success(x):i.success,S=typeof i.description=="function"?await i.description(x):i.description,j=typeof h=="object"&&!se.isValidElement(h)?h:{message:h};this.create({id:o,type:"success",description:S,...j})}}).catch(async x=>{if(m=["reject",x],i.error!==void 0){f=!1;const v=typeof i.error=="function"?await i.error(x):i.error,h=typeof i.description=="function"?await i.description(x):i.description,A=typeof v=="object"&&!se.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:h,...A})}}).finally(()=>{f&&(this.dismiss(o),o=void 0),i.finally==null||i.finally.call(i)}),b=()=>new Promise((x,v)=>g.then(()=>m[0]==="reject"?v(m[1]):x(m[1])).catch(v));return typeof o!="string"&&typeof o!="number"?{unwrap:b}:Object.assign(o,{unwrap:b})},this.custom=(l,i)=>{const o=i?.id||Au++;return this.create({jsx:l(o),id:o,...i}),o},this.getActiveToasts=()=>this.toasts.filter(l=>!this.dismissedToasts.has(l.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Qt=new A1,T1=(s,l)=>{const i=l?.id||Au++;return Qt.addToast({title:s,...l,id:i}),i},L1=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",M1=T1,_1=()=>Qt.toasts,O1=()=>Qt.getActiveToasts(),oe=Object.assign(M1,{success:Qt.success,info:Qt.info,warning:Qt.warning,error:Qt.error,custom:Qt.custom,message:Qt.message,promise:Qt.promise,dismiss:Qt.dismiss,loading:Qt.loading},{getHistory:_1,getToasts:O1});b1("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function fo(s){return s.label!==void 0}const R1=3,D1="24px",B1="16px",Rp=4e3,z1=356,U1=14,H1=45,q1=200;function Ga(...s){return s.filter(Boolean).join(" ")}function P1(s){const[l,i]=s.split("-"),o=[];return l&&o.push(l),i&&o.push(i),o}const $1=s=>{var l,i,o,d,f,m,g,b,x;const{invert:v,toast:h,unstyled:S,interacting:A,setHeights:j,visibleToasts:N,heights:k,index:C,toasts:L,expanded:M,removeToast:B,defaultRichColors:Y,closeButton:I,style:W,cancelButtonStyle:de,actionButtonStyle:ne,className:ae="",descriptionClassName:Z="",duration:fe,position:G,gap:ue,expandByDefault:me,classNames:O,icons:U,closeButtonAriaLabel:le="Close toast"}=s,[D,q]=se.useState(null),[E,T]=se.useState(null),[H,Q]=se.useState(!1),[re,ge]=se.useState(!1),[we,ke]=se.useState(!1),[He,ma]=se.useState(!1),[ea,ha]=se.useState(!1),[Mn,ta]=se.useState(0),[ie,jt]=se.useState(0),Ua=se.useRef(h.duration||fe||Rp),Qa=se.useRef(null),tt=se.useRef(null),Za=C===0,Qe=C+1<=N,pt=h.type,pa=h.dismissible!==!1,kt=h.className||"",_n=h.descriptionClassName||"",vs=se.useMemo(()=>k.findIndex(je=>je.toastId===h.id)||0,[k,h.id]),Kr=se.useMemo(()=>{var je;return(je=h.closeButton)!=null?je:I},[h.closeButton,I]),en=se.useMemo(()=>h.duration||fe||Rp,[h.duration,fe]),zl=se.useRef(0),Ja=se.useRef(0),Fr=se.useRef(0),ws=se.useRef(null),[tn,Dt]=G.split("-"),Aa=se.useMemo(()=>k.reduce((je,Ze,gt)=>gt>=vs?je:je+Ze.height,0),[k,vs]),Lt=E1(),Xo=h.invert||v,Ul=pt==="loading";Ja.current=se.useMemo(()=>vs*ue+Aa,[vs,Aa]),se.useEffect(()=>{Ua.current=en},[en]),se.useEffect(()=>{Q(!0)},[]),se.useEffect(()=>{const je=tt.current;if(je){const Ze=je.getBoundingClientRect().height;return jt(Ze),j(gt=>[{toastId:h.id,height:Ze,position:h.position},...gt]),()=>j(gt=>gt.filter(Mt=>Mt.toastId!==h.id))}},[j,h.id]),se.useLayoutEffect(()=>{if(!H)return;const je=tt.current,Ze=je.style.height;je.style.height="auto";const gt=je.getBoundingClientRect().height;je.style.height=Ze,jt(gt),j(Mt=>Mt.find(et=>et.toastId===h.id)?Mt.map(et=>et.toastId===h.id?{...et,height:gt}:et):[{toastId:h.id,height:gt,position:h.position},...Mt])},[H,h.title,h.description,j,h.id,h.jsx,h.action,h.cancel]);const Ha=se.useCallback(()=>{ge(!0),ta(Ja.current),j(je=>je.filter(Ze=>Ze.toastId!==h.id)),setTimeout(()=>{B(h)},q1)},[h,B,j,Ja]);se.useEffect(()=>{if(h.promise&&pt==="loading"||h.duration===1/0||h.type==="loading")return;let je;return M||A||Lt?(()=>{if(Fr.current<zl.current){const Mt=new Date().getTime()-zl.current;Ua.current=Ua.current-Mt}Fr.current=new Date().getTime()})():Ua.current!==1/0&&(zl.current=new Date().getTime(),je=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Ha()},Ua.current)),()=>clearTimeout(je)},[M,A,h,pt,Lt,Ha]),se.useEffect(()=>{h.delete&&(Ha(),h.onDismiss==null||h.onDismiss.call(h,h))},[Ha,h.delete]);function On(){var je;if(U?.loading){var Ze;return se.createElement("div",{className:Ga(O?.loader,h==null||(Ze=h.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":pt==="loading"},U.loading)}return se.createElement(w1,{className:Ga(O?.loader,h==null||(je=h.classNames)==null?void 0:je.loader),visible:pt==="loading"})}const Rn=h.icon||U?.[pt]||y1(pt);var an,qa;return se.createElement("li",{tabIndex:0,ref:tt,className:Ga(ae,kt,O?.toast,h==null||(l=h.classNames)==null?void 0:l.toast,O?.default,O?.[pt],h==null||(i=h.classNames)==null?void 0:i[pt]),"data-sonner-toast":"","data-rich-colors":(an=h.richColors)!=null?an:Y,"data-styled":!(h.jsx||h.unstyled||S),"data-mounted":H,"data-promise":!!h.promise,"data-swiped":ea,"data-removed":re,"data-visible":Qe,"data-y-position":tn,"data-x-position":Dt,"data-index":C,"data-front":Za,"data-swiping":we,"data-dismissible":pa,"data-type":pt,"data-invert":Xo,"data-swipe-out":He,"data-swipe-direction":E,"data-expanded":!!(M||me&&H),"data-testid":h.testId,style:{"--index":C,"--toasts-before":C,"--z-index":L.length-C,"--offset":`${re?Mn:Ja.current}px`,"--initial-height":me?"auto":`${ie}px`,...W,...h.style},onDragEnd:()=>{ke(!1),q(null),ws.current=null},onPointerDown:je=>{je.button!==2&&(Ul||!pa||(Qa.current=new Date,ta(Ja.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(ke(!0),ws.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,Ze,gt;if(He||!pa)return;ws.current=null;const Mt=Number(((je=tt.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),js=Number(((Ze=tt.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),et=new Date().getTime()-((gt=Qa.current)==null?void 0:gt.getTime()),qt=D==="x"?Mt:js,sn=Math.abs(qt)/et;if(Math.abs(qt)>=H1||sn>.11){ta(Ja.current),h.onDismiss==null||h.onDismiss.call(h,h),T(D==="x"?Mt>0?"right":"left":js>0?"down":"up"),Ha(),ma(!0);return}else{var Pt,$t;(Pt=tt.current)==null||Pt.style.setProperty("--swipe-amount-x","0px"),($t=tt.current)==null||$t.style.setProperty("--swipe-amount-y","0px")}ha(!1),ke(!1),q(null)},onPointerMove:je=>{var Ze,gt,Mt;if(!ws.current||!pa||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;const et=je.clientY-ws.current.y,qt=je.clientX-ws.current.x;var sn;const Pt=(sn=s.swipeDirections)!=null?sn:P1(G);!D&&(Math.abs(qt)>1||Math.abs(et)>1)&&q(Math.abs(qt)>Math.abs(et)?"x":"y");let $t={x:0,y:0};const Dn=Ta=>1/(1.5+Math.abs(Ta)/20);if(D==="y"){if(Pt.includes("top")||Pt.includes("bottom"))if(Pt.includes("top")&&et<0||Pt.includes("bottom")&&et>0)$t.y=et;else{const Ta=et*Dn(et);$t.y=Math.abs(Ta)<Math.abs(et)?Ta:et}}else if(D==="x"&&(Pt.includes("left")||Pt.includes("right")))if(Pt.includes("left")&&qt<0||Pt.includes("right")&&qt>0)$t.x=qt;else{const Ta=qt*Dn(qt);$t.x=Math.abs(Ta)<Math.abs(qt)?Ta:qt}(Math.abs($t.x)>0||Math.abs($t.y)>0)&&ha(!0),(gt=tt.current)==null||gt.style.setProperty("--swipe-amount-x",`${$t.x}px`),(Mt=tt.current)==null||Mt.style.setProperty("--swipe-amount-y",`${$t.y}px`)}},Kr&&!h.jsx&&pt!=="loading"?se.createElement("button",{"aria-label":le,"data-disabled":Ul,"data-close-button":!0,onClick:Ul||!pa?()=>{}:()=>{Ha(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Ga(O?.closeButton,h==null||(o=h.classNames)==null?void 0:o.closeButton)},(qa=U?.close)!=null?qa:C1):null,(pt||h.icon||h.promise)&&h.icon!==null&&(U?.[pt]!==null||h.icon)?se.createElement("div",{"data-icon":"",className:Ga(O?.icon,h==null||(d=h.classNames)==null?void 0:d.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||On():null,h.type!=="loading"?Rn:null):null,se.createElement("div",{"data-content":"",className:Ga(O?.content,h==null||(f=h.classNames)==null?void 0:f.content)},se.createElement("div",{"data-title":"",className:Ga(O?.title,h==null||(m=h.classNames)==null?void 0:m.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?se.createElement("div",{"data-description":"",className:Ga(Z,_n,O?.description,h==null||(g=h.classNames)==null?void 0:g.description)},typeof h.description=="function"?h.description():h.description):null),se.isValidElement(h.cancel)?h.cancel:h.cancel&&fo(h.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||de,onClick:je=>{fo(h.cancel)&&pa&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,je),Ha())},className:Ga(O?.cancelButton,h==null||(b=h.classNames)==null?void 0:b.cancelButton)},h.cancel.label):null,se.isValidElement(h.action)?h.action:h.action&&fo(h.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||ne,onClick:je=>{fo(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,je),!je.defaultPrevented&&Ha())},className:Ga(O?.actionButton,h==null||(x=h.classNames)==null?void 0:x.actionButton)},h.action.label):null)};function Dp(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function I1(s,l){const i={};return[s,l].forEach((o,d)=>{const f=d===1,m=f?"--mobile-offset":"--offset",g=f?B1:D1;function b(x){["top","right","bottom","left"].forEach(v=>{i[`${m}-${v}`]=typeof x=="number"?`${x}px`:x})}typeof o=="number"||typeof o=="string"?b(o):typeof o=="object"?["top","right","bottom","left"].forEach(x=>{o[x]===void 0?i[`${m}-${x}`]=g:i[`${m}-${x}`]=typeof o[x]=="number"?`${o[x]}px`:o[x]}):b(g)}),i}const V1=se.forwardRef(function(l,i){const{id:o,invert:d,position:f="bottom-right",hotkey:m=["altKey","KeyT"],expand:g,closeButton:b,className:x,offset:v,mobileOffset:h,theme:S="light",richColors:A,duration:j,style:N,visibleToasts:k=R1,toastOptions:C,dir:L=Dp(),gap:M=U1,icons:B,containerAriaLabel:Y="Notifications"}=l,[I,W]=se.useState([]),de=se.useMemo(()=>o?I.filter(H=>H.toasterId===o):I.filter(H=>!H.toasterId),[I,o]),ne=se.useMemo(()=>Array.from(new Set([f].concat(de.filter(H=>H.position).map(H=>H.position)))),[de,f]),[ae,Z]=se.useState([]),[fe,G]=se.useState(!1),[ue,me]=se.useState(!1),[O,U]=se.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=se.useRef(null),D=m.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=se.useRef(null),E=se.useRef(!1),T=se.useCallback(H=>{W(Q=>{var re;return(re=Q.find(ge=>ge.id===H.id))!=null&&re.delete||Qt.dismiss(H.id),Q.filter(({id:ge})=>ge!==H.id)})},[]);return se.useEffect(()=>Qt.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{W(Q=>Q.map(re=>re.id===H.id?{...re,delete:!0}:re))});return}setTimeout(()=>{zv.flushSync(()=>{W(Q=>{const re=Q.findIndex(ge=>ge.id===H.id);return re!==-1?[...Q.slice(0,re),{...Q[re],...H},...Q.slice(re+1)]:[H,...Q]})})})}),[I]),se.useEffect(()=>{if(S!=="system"){U(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:Q})=>{U(Q?"dark":"light")})}catch{H.addListener(({matches:re})=>{try{U(re?"dark":"light")}catch(ge){console.error(ge)}})}},[S]),se.useEffect(()=>{I.length<=1&&G(!1)},[I]),se.useEffect(()=>{const H=Q=>{var re;if(m.every(ke=>Q[ke]||Q.code===ke)){var we;G(!0),(we=le.current)==null||we.focus()}Q.code==="Escape"&&(document.activeElement===le.current||(re=le.current)!=null&&re.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[m]),se.useEffect(()=>{if(le.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,E.current=!1)}},[le.current]),se.createElement("section",{ref:i,"aria-label":`${Y} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ne.map((H,Q)=>{var re;const[ge,we]=H.split("-");return de.length?se.createElement("ol",{key:H,dir:L==="auto"?Dp():L,tabIndex:-1,ref:le,className:x,"data-sonner-toaster":!0,"data-sonner-theme":O,"data-y-position":ge,"data-x-position":we,style:{"--front-toast-height":`${((re=ae[0])==null?void 0:re.height)||0}px`,"--width":`${z1}px`,"--gap":`${M}px`,...N,...I1(v,h)},onBlur:ke=>{E.current&&!ke.currentTarget.contains(ke.relatedTarget)&&(E.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||E.current||(E.current=!0,q.current=ke.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{ue||G(!1)},onDragEnd:()=>G(!1),onPointerDown:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},de.filter(ke=>!ke.position&&Q===0||ke.position===H).map((ke,He)=>{var ma,ea;return se.createElement($1,{key:ke.id,icons:B,index:He,toast:ke,defaultRichColors:A,duration:(ma=C?.duration)!=null?ma:j,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:d,visibleToasts:k,closeButton:(ea=C?.closeButton)!=null?ea:b,interacting:ue,position:H,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:T,toasts:de.filter(ha=>ha.position==ke.position),heights:ae.filter(ha=>ha.position==ke.position),setHeights:Z,expandByDefault:g,gap:M,expanded:fe,swipeDirections:l.swipeDirections})})):null}))}),Y1=({isOpen:s,onClose:l,onSuccess:i})=>{const[o,d]=y.useState(""),[f,m]=y.useState(""),[g,b]=y.useState(""),[x,v]=y.useState(!1),[h,S]=y.useState(null),A=async()=>{if(!o.trim()){S("Site name is required");return}if(!f.trim()){S("Gateway IP address is required");return}if(!/^(\d{1,3}\.){3}\d{1,3}$/.test(f)){S("Invalid IP address format");return}try{v(!0),S(null),await Sl.create({name:o.trim(),ip_address:f.trim(),location:g.trim()||"Not specified",notify_on_down:!0}),oe.success("Site provisioned successfully"),d(""),m(""),b(""),l(),i()}catch(N){S(N.message||"Failed to create site"),oe.error("Failed to provision site")}finally{v(!1)}};return a.jsx(Fe,{isOpen:s,onClose:l,title:"Register Network Site",children:a.jsxs("div",{className:"space-y-4",children:[h&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:h})}),a.jsx("input",{type:"text",placeholder:"Friendly Name",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-gray-900 dark:text-white",value:o,onChange:j=>d(j.target.value),disabled:x}),a.jsx("input",{type:"text",placeholder:"Primary Gateway IP",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-gray-900 dark:text-white",value:f,onChange:j=>m(j.target.value),disabled:x}),a.jsx("input",{type:"text",placeholder:"Location (optional)",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-gray-900 dark:text-white",value:g,onChange:j=>b(j.target.value),disabled:x}),a.jsx("button",{onClick:A,disabled:x,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700",children:x?"Provisioning...":"Provision Site"})]})})},G1=({isOpen:s,onClose:l,selectedSite:i})=>{const[o,d]=y.useState(null),[f,m]=y.useState(!1),[g,b]=y.useState(null);y.useEffect(()=>{s&&i&&x()},[s,i]);const x=async()=>{if(i)try{m(!0);const h=await Sl.getIpam(i.id);console.log("Fetched IPAM data:",h),d(h)}catch(h){console.error("Error fetching IPAM data:",h)}finally{m(!1)}},v=h=>{switch(h){case"active":return"bg-green-500 border-green-600";case"expired":return"bg-red-500 border-red-600";case"suspended":return"bg-yellow-500 border-yellow-600";default:return"bg-gray-500 border-gray-600"}};return a.jsx(Fe,{isOpen:s,onClose:l,title:`IPAM Inventory: ${i?.name}`,maxWidth:"max-w-6xl",children:f?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Subnet"}),a.jsx("p",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:o.subnet})]}),a.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Allocated"}),a.jsxs("p",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:[o.total_allocated," IPs"]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Available"}),a.jsxs("p",{className:"text-sm font-bold text-gray-600 dark:text-gray-400",children:[o.total_available," IPs"]})]})]}),a.jsx("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[...Array(256)].map((h,S)=>{const A=o.allocations[S],j=!!A;return a.jsxs("div",{onClick:()=>j&&b(S),className:`h-8 rounded flex items-center justify-center text-[8px] font-mono border transition-all ${j?`${v(A.status)} text-white cursor-pointer hover:scale-105`:"bg-gray-100 dark:bg-slate-800 text-gray-400 border-gray-200 dark:border-slate-700"} ${g===S?"ring-2 ring-blue-400 scale-105":""}`,title:j?`${A.name} (${A.ip})`:`${o.base_network}.${S} - Available`,children:[".",S]},S)})}),g!==null&&o.allocations[g]&&a.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-500 mb-1",children:"Customer Details"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:o.allocations[g].name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono",children:o.allocations[g].username}),a.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 mt-1",children:o.allocations[g].ip})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase ${o.allocations[g].status==="active"?"bg-green-100 text-green-700":o.allocations[g].status==="expired"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:o.allocations[g].status})]})}),a.jsx("div",{className:"mt-4 pt-4 border-t dark:border-slate-800",children:a.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-green-500 border border-green-600"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Active"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-red-500 border border-red-600"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Expired"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500 border border-yellow-600"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Suspended"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Available"})]})]})})]}):null})},X1=({isOpen:s,onClose:l,selectedSite:i,onCopy:o})=>a.jsxs(Fe,{isOpen:s,onClose:l,title:"MikroTik CLI Environment",maxWidth:"max-w-3xl",children:[a.jsx("div",{className:"bg-slate-950 p-6 rounded-2xl border border-slate-800",children:a.jsx("pre",{className:"text-green-400 font-mono text-[11px] overflow-x-auto leading-relaxed",children:`# EasyTech Auto-Provision Script
# TARGET: ${i?.name}

# IP Address Configuration
/ip address add address=${i?.ip_address}/24 interface=ether1

# IP Pools
/ip pool
add name=expired ranges=${i?.ip_address.split(".").slice(0,3).join(".")}.50-${i?.ip_address.split(".").slice(0,3).join(".")}.99
add name=pppoe-pool ranges=${i?.ip_address.split(".").slice(0,3).join(".")}.100-${i?.ip_address.split(".").slice(0,3).join(".")}.250

# PPP Profiles
/ppp profile
add local-address=${i?.ip_address} name=expired remote-address=expired
add dns-server=8.8.8.8,1.1.1.1 local-address=${i?.ip_address} name=ppoe-profile \\
    remote-address=pppoe-pool

# DNS Configuration
/ip dns set servers=8.8.8.8,1.1.1.1 allow-remote-requests=yes

# PPPoE Server Configuration
/interface pppoe-server server
add default-profile=ppoe-profile disabled=no interface=ether3-pppoe \\
    one-session-per-host=yes service-name=pppoe-server

# RADIUS Configuration
/ppp aaa set use-radius=yes
/radius add address=102.212.246.245 service=ppp,login,hotspot secret=p5D031tEhfRNXBwm
/radius incoming set accept=yes

# WireGuard Configuration
/interface wireguard add name=wg-radius listen-port=13231
/interface wireguard peers add interface=wg-radius public-key="5jhaRrfQt+PFcWT69GosWDYmt7icp4DpOYzZXYLOclM="     endpoint-address=102.212.246.245:51820 allowed-address=10.0.0.0/24 persistent-keepalive=25s

/ip address add address=10.0.0.2/24 interface=wg-radius

# Firewall Rules
# Allow RADIUS and COA from the WireGuard Tunnel only
/ip firewall filter
add action=accept chain=input src-address=10.0.0.1 protocol=udp dst-port=1812,1813 comment="Allow RADIUS Auth/Acct"
add action=accept chain=input src-address=10.0.0.1 protocol=udp dst-port=3799 comment="Allow RADIUS COA (Disconnect)"

# System Clock
/system clock set time-zone-name=Africa/Nairobi`})}),a.jsx("button",{onClick:o,className:"w-full mt-4 py-2 border border-gray-200 dark:border-slate-700 text-xs font-bold rounded-xl dark:text-gray-300",children:"Copy Script to Clipboard"})]}),K1="easy-tech-auth";function za(){const s=y.useMemo(()=>{try{const d=localStorage.getItem(K1);return d?JSON.parse(d):null}catch{return null}},[]),l=y.useMemo(()=>s?s.isSuperAdmin?["*"]:(s.role?.permissions||[]).map(f=>typeof f=="string"?f:f?.name).filter(f=>!!f):[],[s]);return{currentUser:s,userPermissions:l,can:d=>s?s.isSuperAdmin?!0:l.includes(d):!1,canAny:d=>s?s.isSuperAdmin?!0:d.some(f=>l.includes(f)):!1}}const F1=()=>{const[s,l]=y.useState(()=>JSON.parse(localStorage.getItem(ve.SITES)||"[]")),[i,o]=y.useState(!1),[d,f]=y.useState(!1),[m,g]=y.useState(!1),[b,x]=y.useState(null),{can:v}=za();y.useEffect(()=>{h()},[]);const h=async()=>{try{const C=(await Sl.getAll()).data||[];l(C),localStorage.setItem(ve.SITES,JSON.stringify(C))}catch(k){console.error("Error fetching sites:",k)}},S=async k=>{const C=s.find(M=>M.id===k);if(!C)return;const L=!C.notify_on_down;try{const M=await Sl.update(k,{notify_on_down:L}),B=M?.site||M?.data||{...C,notify_on_down:L};l(Y=>{const I=Y.map(W=>W.id===k?{...W,...B}:W);return localStorage.setItem(ve.SITES,JSON.stringify(I)),I}),localStorage.setItem(ve.SITES,JSON.stringify(s.map(Y=>Y.id===k?{...Y,notify_on_down:L}:Y))),oe.success(`Downtime alert turned ${L?"ON":"OFF"}`)}catch(M){console.error("Error updating site notification setting:",M),oe.error("Failed to update downtime alert setting")}},A=()=>o(!0),j=k=>{x(k),f(!0)},N=k=>{x(k),g(!0)};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Network Sites"}),v("manage-sites")&&a.jsx("button",{type:"button",onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition",children:"Add Site"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(k=>a.jsxs(Le,{title:k.location,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"truncate pr-2",children:[a.jsx("h4",{className:"text-lg font-bold",children:k.name}),a.jsx("p",{className:"text-xs font-mono text-blue-600",children:k.ip_address}),k.last_seen&&a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:["Last seen: ",new Date(k.last_seen).toLocaleString()]})]}),a.jsx("div",{className:"flex flex-col items-end space-y-2",children:a.jsx(it,{variant:k.status,children:k.status})})]}),a.jsxs("div",{className:"mb-4 flex items-center justify-between p-2 bg-gray-50 dark:bg-slate-800 rounded-lg",children:[a.jsx("span",{className:"text-xs",children:"Downtime Alert"}),a.jsx(Pu,{disabled:!v("manage-sites"),checked:k.notify_on_down,onChange:()=>S(k.id),label:k.notify_on_down?"ON":"OFF"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>j(k),className:"flex-1 text-xs border border-gray-200 dark:border-slate-700 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-slate-800",children:"IPAM"}),a.jsx("button",{type:"button",onClick:()=>N(k),className:"flex-1 text-xs border border-gray-200 dark:border-slate-700 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-slate-800",children:"Config"})]})]},k.id))}),a.jsx(Y1,{isOpen:i,onClose:()=>o(!1),onSuccess:()=>h()}),a.jsx(G1,{isOpen:d,onClose:()=>f(!1),selectedSite:b}),a.jsx(X1,{isOpen:m,onClose:()=>g(!1),selectedSite:b,onCopy:()=>oe.message("Copied")})]})},Q1=({isOpen:s,onClose:l,editingAdmin:i,setEditingAdmin:o,roles:d,onSuccess:f})=>{const[m,g]=y.useState(!1);console.log(d);const b=async x=>{if(x.preventDefault(),!i?.name||!i?.email||!i?.phone){oe.error("Please fill in all required fields.");return}g(!0);try{const v=i.role_id||d[0]?.id;if(!v){oe.error("Please select a role.");return}if(i.id){const h={name:i.name,phone:i.phone,role_id:v,status:i.status||"Active"};i.password&&i.password.trim().length>0&&(h.password=i.password),await Or.update(String(i.id),h),oe.success("Administrator updated successfully."),f&&f()}else{if(!i.password||i.password.trim().length<6){oe.error("Password must be at least 6 characters.");return}await Or.create({name:i.name,email:i.email,phone:i.phone,password:i.password,role_id:v,status:i.status||"Active"}),oe.success("Administrator created successfully."),f&&f()}o(null),l()}catch(v){const h=v?.message||"Failed to save administrator.";oe.error(h)}finally{g(!1)}};return a.jsx(Fe,{isOpen:s,onClose:l,title:i?.id?"Update Administrator":"Provision New Administrator",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Full Name"}),a.jsx("input",{required:!0,type:"text",value:i?.name||"",onChange:x=>o({...i,name:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. Robert Smith"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"System Email"}),a.jsx("input",{required:!0,type:"email",value:i?.email||"",onChange:x=>o({...i,email:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. robert@easytech.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Phone Number"}),a.jsx("input",{required:!0,type:"tel",value:i?.phone||"",onChange:x=>o({...i,phone:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. +1 555-000-0000"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:i?.id?"New Password (Optional)":"Account Password"}),a.jsx("input",{required:!i?.id,type:"password",value:i?.password||"",onChange:x=>o({...i,password:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:i?.id?"Leave blank to keep current":"Minimum 8 characters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Access Role"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:i?.role_id||"r4",onChange:x=>o({...i,role_id:x.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white",children:d.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))}),a.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl mt-4 hover:bg-blue-700 shadow-lg shadow-blue-500/20 transition-all disabled:opacity-60",children:m?"Saving...":i?.id?"Update Credentials":"Provision Account"})]})})};function Ix(s,l,i){if(typeof s=="function"?s===l:s.has(l))return arguments.length<3?l:i;throw new TypeError("Private element is not present on this object")}function Z1(s,l){if(l.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bp(s,l){return s.get(Ix(s,l))}function J1(s,l,i){Z1(s,l),l.set(s,i)}function W1(s,l,i){return s.set(Ix(s,l),i),i}const ej=100,xe={},tj=()=>{xe.previousActiveElement instanceof HTMLElement?(xe.previousActiveElement.focus(),xe.previousActiveElement=null):document.body&&document.body.focus()},aj=s=>new Promise(l=>{if(!s)return l();const i=window.scrollX,o=window.scrollY;xe.restoreFocusTimeout=setTimeout(()=>{tj(),l()},ej),window.scrollTo(i,o)}),Vx="swal2-",sj=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],F=sj.reduce((s,l)=>(s[l]=Vx+l,s),{}),nj=["success","warning","info","question","error"],Co=nj.reduce((s,l)=>(s[l]=Vx+l,s),{}),Yx="SweetAlert2:",Xu=s=>s.charAt(0).toUpperCase()+s.slice(1),Ut=s=>{console.warn(`${Yx} ${typeof s=="object"?s.join(" "):s}`)},Tn=s=>{console.error(`${Yx} ${s}`)},zp=[],lj=s=>{zp.includes(s)||(zp.push(s),Ut(s))},Gx=(s,l=null)=>{lj(`"${s}" is deprecated and will be removed in the next major release.${l?` Use "${l}" instead.`:""}`)},$o=s=>typeof s=="function"?s():s,Ku=s=>s&&typeof s.toPromise=="function",Pr=s=>Ku(s)?s.toPromise():Promise.resolve(s),Fu=s=>s&&Promise.resolve(s)===s,Ht=()=>document.body.querySelector(`.${F.container}`),$r=s=>{const l=Ht();return l?l.querySelector(s):null},ua=s=>$r(`.${s}`),Ue=()=>ua(F.popup),Ol=()=>ua(F.icon),rj=()=>ua(F["icon-content"]),Xx=()=>ua(F.title),Qu=()=>ua(F["html-container"]),Kx=()=>ua(F.image),Zu=()=>ua(F["progress-steps"]),Io=()=>ua(F["validation-message"]),Ka=()=>$r(`.${F.actions} .${F.confirm}`),Rl=()=>$r(`.${F.actions} .${F.cancel}`),Ln=()=>$r(`.${F.actions} .${F.deny}`),ij=()=>ua(F["input-label"]),Dl=()=>$r(`.${F.loader}`),Ir=()=>ua(F.actions),Fx=()=>ua(F.footer),Vo=()=>ua(F["timer-progress-bar"]),Ju=()=>ua(F.close),oj=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Wu=()=>{const s=Ue();if(!s)return[];const l=s.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(l).sort((f,m)=>{const g=parseInt(f.getAttribute("tabindex")||"0"),b=parseInt(m.getAttribute("tabindex")||"0");return g>b?1:g<b?-1:0}),o=s.querySelectorAll(oj),d=Array.from(o).filter(f=>f.getAttribute("tabindex")!=="-1");return[...new Set(i.concat(d))].filter(f=>Wt(f))},e0=()=>bs(document.body,F.shown)&&!bs(document.body,F["toast-shown"])&&!bs(document.body,F["no-backdrop"]),Yo=()=>{const s=Ue();return s?bs(s,F.toast):!1},cj=()=>{const s=Ue();return s?s.hasAttribute("data-loading"):!1},fa=(s,l)=>{if(s.textContent="",l){const o=new DOMParser().parseFromString(l,"text/html"),d=o.querySelector("head");d&&Array.from(d.childNodes).forEach(m=>{s.appendChild(m)});const f=o.querySelector("body");f&&Array.from(f.childNodes).forEach(m=>{m instanceof HTMLVideoElement||m instanceof HTMLAudioElement?s.appendChild(m.cloneNode(!0)):s.appendChild(m)})}},bs=(s,l)=>{if(!l)return!1;const i=l.split(/\s+/);for(let o=0;o<i.length;o++)if(!s.classList.contains(i[o]))return!1;return!0},dj=(s,l)=>{Array.from(s.classList).forEach(i=>{!Object.values(F).includes(i)&&!Object.values(Co).includes(i)&&!Object.values(l.showClass||{}).includes(i)&&s.classList.remove(i)})},ca=(s,l,i)=>{if(dj(s,l),!l.customClass)return;const o=l.customClass[i];if(o){if(typeof o!="string"&&!o.forEach){Ut(`Invalid type of customClass.${i}! Expected string or iterable object, got "${typeof o}"`);return}ze(s,o)}},Go=(s,l)=>{if(!l)return null;switch(l){case"select":case"textarea":case"file":return s.querySelector(`.${F.popup} > .${F[l]}`);case"checkbox":return s.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return s.querySelector(`.${F.popup} > .${F.radio} input:checked`)||s.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return s.querySelector(`.${F.popup} > .${F.range} input`);default:return s.querySelector(`.${F.popup} > .${F.input}`)}},Qx=s=>{if(s.focus(),s.type!=="file"){const l=s.value;s.value="",s.value=l}},Zx=(s,l,i)=>{!s||!l||(typeof l=="string"&&(l=l.split(/\s+/).filter(Boolean)),l.forEach(o=>{Array.isArray(s)?s.forEach(d=>{i?d.classList.add(o):d.classList.remove(o)}):i?s.classList.add(o):s.classList.remove(o)}))},ze=(s,l)=>{Zx(s,l,!0)},Ea=(s,l)=>{Zx(s,l,!1)},Ks=(s,l)=>{const i=Array.from(s.children);for(let o=0;o<i.length;o++){const d=i[o];if(d instanceof HTMLElement&&bs(d,l))return d}},Cn=(s,l,i)=>{i===`${parseInt(`${i}`)}`&&(i=parseInt(i)),i||parseInt(`${i}`)===0?s.style.setProperty(l,typeof i=="number"?`${i}px`:i):s.style.removeProperty(l)},wt=(s,l="flex")=>{s&&(s.style.display=l)},Rt=s=>{s&&(s.style.display="none")},t0=(s,l="block")=>{s&&new MutationObserver(()=>{Vr(s,s.innerHTML,l)}).observe(s,{childList:!0,subtree:!0})},Up=(s,l,i,o)=>{const d=s.querySelector(l);d&&d.style.setProperty(i,o)},Vr=(s,l,i="flex")=>{l?wt(s,i):Rt(s)},Wt=s=>!!(s&&(s.offsetWidth||s.offsetHeight||s.getClientRects().length)),uj=()=>!Wt(Ka())&&!Wt(Ln())&&!Wt(Rl()),Tu=s=>s.scrollHeight>s.clientHeight,fj=(s,l)=>{let i=s;for(;i&&i!==l;){if(Tu(i))return!0;i=i.parentElement}return!1},Jx=s=>{const l=window.getComputedStyle(s),i=parseFloat(l.getPropertyValue("animation-duration")||"0"),o=parseFloat(l.getPropertyValue("transition-duration")||"0");return i>0||o>0},a0=(s,l=!1)=>{const i=Vo();i&&Wt(i)&&(l&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition=`width ${s/1e3}s linear`,i.style.width="0%"},10))},mj=()=>{const s=Vo();if(!s)return;const l=parseInt(window.getComputedStyle(s).width);s.style.removeProperty("transition"),s.style.width="100%";const i=parseInt(window.getComputedStyle(s).width),o=l/i*100;s.style.width=`${o}%`},hj=()=>typeof window>"u"||typeof document>"u",pj=`
 <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">
   <button type="button" class="${F.close}"></button>
   <ul class="${F["progress-steps"]}"></ul>
   <div class="${F.icon}"></div>
   <img class="${F.image}" />
   <h2 class="${F.title}" id="${F.title}"></h2>
   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>
   <input class="${F.input}" id="${F.input}" />
   <input type="file" class="${F.file}" />
   <div class="${F.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${F.select}" id="${F.select}"></select>
   <div class="${F.radio}"></div>
   <label class="${F.checkbox}">
     <input type="checkbox" id="${F.checkbox}" />
     <span class="${F.label}"></span>
   </label>
   <textarea class="${F.textarea}" id="${F.textarea}"></textarea>
   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>
   <div class="${F.actions}">
     <div class="${F.loader}"></div>
     <button type="button" class="${F.confirm}"></button>
     <button type="button" class="${F.deny}"></button>
     <button type="button" class="${F.cancel}"></button>
   </div>
   <div class="${F.footer}"></div>
   <div class="${F["timer-progress-bar-container"]}">
     <div class="${F["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),xj=()=>{const s=Ht();return s?(s.remove(),Ea([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0):!1},jn=()=>{xe.currentInstance&&xe.currentInstance.resetValidationMessage()},gj=()=>{const s=Ue();if(!s)return;const l=Ks(s,F.input),i=Ks(s,F.file),o=s.querySelector(`.${F.range} input`),d=s.querySelector(`.${F.range} output`),f=Ks(s,F.select),m=s.querySelector(`.${F.checkbox} input`),g=Ks(s,F.textarea);l&&(l.oninput=jn),i&&(i.onchange=jn),f&&(f.onchange=jn),m&&(m.onchange=jn),g&&(g.oninput=jn),o&&d&&(o.oninput=()=>{jn(),d.value=o.value},o.onchange=()=>{jn(),d.value=o.value})},bj=s=>{if(typeof s=="string"){const l=document.querySelector(s);if(!l)throw new Error(`Target element "${s}" not found`);return l}return s},yj=s=>{const l=Ue();l&&(l.setAttribute("role",s.toast?"alert":"dialog"),l.setAttribute("aria-live",s.toast?"polite":"assertive"),s.toast||l.setAttribute("aria-modal","true"))},vj=s=>{window.getComputedStyle(s).direction==="rtl"&&(ze(Ht(),F.rtl),xe.isRTL=!0)},wj=s=>{const l=xj();if(hj()){Tn("SweetAlert2 requires document to initialize");return}const i=document.createElement("div");i.className=F.container,l&&ze(i,F["no-transition"]),fa(i,pj),i.dataset.swal2Theme=s.theme;const o=bj(s.target||"body");o.appendChild(i),s.topLayer&&(i.setAttribute("popover",""),i.showPopover()),yj(s),vj(o),gj()},s0=(s,l)=>{s instanceof HTMLElement?l.appendChild(s):typeof s=="object"?jj(s,l):s&&fa(l,s)},jj=(s,l)=>{"jquery"in s?kj(l,s):fa(l,s.toString())},kj=(s,l)=>{if(s.textContent="",0 in l)for(let i=0;i in l;i++)s.appendChild(l[i].cloneNode(!0));else s.appendChild(l.cloneNode(!0))},Nj=(s,l)=>{const i=Ir(),o=Dl();!i||!o||(!l.showConfirmButton&&!l.showDenyButton&&!l.showCancelButton?Rt(i):wt(i),ca(i,l,"actions"),Sj(i,o,l),fa(o,l.loaderHtml||""),ca(o,l,"loader"))};function Sj(s,l,i){const o=Ka(),d=Ln(),f=Rl();!o||!d||!f||(bu(o,"confirm",i),bu(d,"deny",i),bu(f,"cancel",i),Cj(o,d,f,i),i.reverseButtons&&(i.toast?(s.insertBefore(f,o),s.insertBefore(d,o)):(s.insertBefore(f,l),s.insertBefore(d,l),s.insertBefore(o,l))))}function Cj(s,l,i,o){if(!o.buttonsStyling){Ea([s,l,i],F.styled);return}ze([s,l,i],F.styled),o.confirmButtonColor&&s.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor),o.denyButtonColor&&l.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor),o.cancelButtonColor&&i.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor),gu(s),gu(l),gu(i)}function gu(s){const l=window.getComputedStyle(s);if(l.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const i=l.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");s.style.setProperty("--swal2-action-button-focus-box-shadow",l.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${i}`))}function bu(s,l,i){const o=Xu(l);Vr(s,i[`show${o}Button`],"inline-block"),fa(s,i[`${l}ButtonText`]||""),s.setAttribute("aria-label",i[`${l}ButtonAriaLabel`]||""),s.className=F[l],ca(s,i,`${l}Button`)}const Ej=(s,l)=>{const i=Ju();i&&(fa(i,l.closeButtonHtml||""),ca(i,l,"closeButton"),Vr(i,l.showCloseButton),i.setAttribute("aria-label",l.closeButtonAriaLabel||""))},Aj=(s,l)=>{const i=Ht();i&&(Tj(i,l.backdrop),Lj(i,l.position),Mj(i,l.grow),ca(i,l,"container"))};function Tj(s,l){typeof l=="string"?s.style.background=l:l||ze([document.documentElement,document.body],F["no-backdrop"])}function Lj(s,l){l&&(l in F?ze(s,F[l]):(Ut('The "position" parameter is not valid, defaulting to "center"'),ze(s,F.center)))}function Mj(s,l){l&&ze(s,F[`grow-${l}`])}var Ge={innerParams:new WeakMap,domCache:new WeakMap};const _j=["input","file","range","select","radio","checkbox","textarea"],Oj=(s,l)=>{const i=Ue();if(!i)return;const o=Ge.innerParams.get(s),d=!o||l.input!==o.input;_j.forEach(f=>{const m=Ks(i,F[f]);m&&(Bj(f,l.inputAttributes),m.className=F[f],d&&Rt(m))}),l.input&&(d&&Rj(l),zj(l))},Rj=s=>{if(!s.input)return;if(!rt[s.input]){Tn(`Unexpected type of input! Expected ${Object.keys(rt).join(" | ")}, got "${s.input}"`);return}const l=Wx(s.input);if(!l)return;const i=rt[s.input](l,s);wt(l),s.inputAutoFocus&&setTimeout(()=>{Qx(i)})},Dj=s=>{for(let l=0;l<s.attributes.length;l++){const i=s.attributes[l].name;["id","type","value","style"].includes(i)||s.removeAttribute(i)}},Bj=(s,l)=>{const i=Ue();if(!i)return;const o=Go(i,s);if(o){Dj(o);for(const d in l)o.setAttribute(d,l[d])}},zj=s=>{if(!s.input)return;const l=Wx(s.input);l&&ca(l,s,"input")},n0=(s,l)=>{!s.placeholder&&l.inputPlaceholder&&(s.placeholder=l.inputPlaceholder)},Yr=(s,l,i)=>{if(i.inputLabel){const o=document.createElement("label"),d=F["input-label"];o.setAttribute("for",s.id),o.className=d,typeof i.customClass=="object"&&ze(o,i.customClass.inputLabel),o.innerText=i.inputLabel,l.insertAdjacentElement("beforebegin",o)}},Wx=s=>{const l=Ue();if(l)return Ks(l,F[s]||F.input)},Eo=(s,l)=>{["string","number"].includes(typeof l)?s.value=`${l}`:Fu(l)||Ut(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof l}"`)},rt={};rt.text=rt.email=rt.password=rt.number=rt.tel=rt.url=rt.search=rt.date=rt["datetime-local"]=rt.time=rt.week=rt.month=(s,l)=>{const i=s;return Eo(i,l.inputValue),Yr(i,i,l),n0(i,l),i.type=l.input,i};rt.file=(s,l)=>{const i=s;return Yr(i,i,l),n0(i,l),i};rt.range=(s,l)=>{const i=s,o=i.querySelector("input"),d=i.querySelector("output");return o&&(Eo(o,l.inputValue),o.type=l.input,Yr(o,s,l)),d&&Eo(d,l.inputValue),s};rt.select=(s,l)=>{const i=s;if(i.textContent="",l.inputPlaceholder){const o=document.createElement("option");fa(o,l.inputPlaceholder),o.value="",o.disabled=!0,o.selected=!0,i.appendChild(o)}return Yr(i,i,l),i};rt.radio=s=>{const l=s;return l.textContent="",s};rt.checkbox=(s,l)=>{const i=Ue();if(!i)throw new Error("Popup not found");const o=Go(i,"checkbox");if(!o)throw new Error("Checkbox input not found");o.value="1",o.checked=!!l.inputValue;const f=s.querySelector("span");if(f){const m=l.inputPlaceholder||l.inputLabel;m&&fa(f,m)}return o};rt.textarea=(s,l)=>{const i=s;Eo(i,l.inputValue),n0(i,l),Yr(i,i,l);const o=d=>parseInt(window.getComputedStyle(d).marginLeft)+parseInt(window.getComputedStyle(d).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const d=Ue();if(!d)return;const f=parseInt(window.getComputedStyle(d).width),m=()=>{if(!document.body.contains(i))return;const g=i.offsetWidth+o(i),b=Ue();b&&(g>f?b.style.width=`${g}px`:Cn(b,"width",l.width))};new MutationObserver(m).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const Uj=(s,l)=>{const i=Qu();i&&(t0(i),ca(i,l,"htmlContainer"),l.html?(s0(l.html,i),wt(i,"block")):l.text?(i.textContent=l.text,wt(i,"block")):Rt(i),Oj(s,l))},Hj=(s,l)=>{const i=Fx();i&&(t0(i),Vr(i,!!l.footer,"block"),l.footer&&s0(l.footer,i),ca(i,l,"footer"))},qj=(s,l)=>{const i=Ge.innerParams.get(s),o=Ol();if(!o)return;if(i&&l.icon===i.icon){qp(o,l),Hp(o,l);return}if(!l.icon&&!l.iconHtml){Rt(o);return}if(l.icon&&Object.keys(Co).indexOf(l.icon)===-1){Tn(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${l.icon}"`),Rt(o);return}wt(o),qp(o,l),Hp(o,l),ze(o,l.showClass&&l.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",eg)},Hp=(s,l)=>{for(const[i,o]of Object.entries(Co))l.icon!==i&&Ea(s,o);ze(s,l.icon&&Co[l.icon]),Ij(s,l),eg(),ca(s,l,"icon")},eg=()=>{const s=Ue();if(!s)return;const l=window.getComputedStyle(s).getPropertyValue("background-color"),i=s.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<i.length;o++)i[o].style.backgroundColor=l},Pj=s=>`
  ${s.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${s.animation?'<div class="swal2-success-fix"></div>':""}
  ${s.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,$j=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,qp=(s,l)=>{if(!l.icon&&!l.iconHtml)return;let i=s.innerHTML,o="";l.iconHtml?o=Pp(l.iconHtml):l.icon==="success"?(o=Pj(l),i=i.replace(/ style=".*?"/g,"")):l.icon==="error"?o=$j:l.icon&&(o=Pp({question:"?",warning:"!",info:"i"}[l.icon])),i.trim()!==o.trim()&&fa(s,o)},Ij=(s,l)=>{if(l.iconColor){s.style.color=l.iconColor,s.style.borderColor=l.iconColor;for(const i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Up(s,i,"background-color",l.iconColor);Up(s,".swal2-success-ring","border-color",l.iconColor)}},Pp=s=>`<div class="${F["icon-content"]}">${s}</div>`,Vj=(s,l)=>{const i=Kx();if(i){if(!l.imageUrl){Rt(i);return}wt(i,""),i.setAttribute("src",l.imageUrl),i.setAttribute("alt",l.imageAlt||""),Cn(i,"width",l.imageWidth),Cn(i,"height",l.imageHeight),i.className=F.image,ca(i,l,"image")}};let l0=!1,tg=0,ag=0,sg=0,ng=0;const Yj=s=>{s.addEventListener("mousedown",Ao),document.body.addEventListener("mousemove",To),s.addEventListener("mouseup",Lo),s.addEventListener("touchstart",Ao),document.body.addEventListener("touchmove",To),s.addEventListener("touchend",Lo)},Gj=s=>{s.removeEventListener("mousedown",Ao),document.body.removeEventListener("mousemove",To),s.removeEventListener("mouseup",Lo),s.removeEventListener("touchstart",Ao),document.body.removeEventListener("touchmove",To),s.removeEventListener("touchend",Lo)},Ao=s=>{const l=Ue();if(!l)return;const i=Ol();if(s.target===l||i&&i.contains(s.target)){l0=!0;const o=lg(s);tg=o.clientX,ag=o.clientY,sg=parseInt(l.style.insetInlineStart)||0,ng=parseInt(l.style.insetBlockStart)||0,ze(l,"swal2-dragging")}},To=s=>{const l=Ue();if(l&&l0){let{clientX:i,clientY:o}=lg(s);const d=i-tg;l.style.insetInlineStart=`${sg+(xe.isRTL?-d:d)}px`,l.style.insetBlockStart=`${ng+(o-ag)}px`}},Lo=()=>{const s=Ue();l0=!1,Ea(s,"swal2-dragging")},lg=s=>{let l=0,i=0;return s.type.startsWith("mouse")?(l=s.clientX,i=s.clientY):s.type.startsWith("touch")&&(l=s.touches[0].clientX,i=s.touches[0].clientY),{clientX:l,clientY:i}},Xj=(s,l)=>{const i=Ht(),o=Ue();if(!(!i||!o)){if(l.toast){Cn(i,"width",l.width),o.style.width="100%";const d=Dl();d&&o.insertBefore(d,Ol())}else Cn(o,"width",l.width);Cn(o,"padding",l.padding),l.color&&(o.style.color=l.color),l.background&&(o.style.background=l.background),Rt(Io()),Kj(o,l),l.draggable&&!l.toast?(ze(o,F.draggable),Yj(o)):(Ea(o,F.draggable),Gj(o))}},Kj=(s,l)=>{const i=l.showClass||{};s.className=`${F.popup} ${Wt(s)?i.popup:""}`,l.toast?(ze([document.documentElement,document.body],F["toast-shown"]),ze(s,F.toast)):ze(s,F.modal),ca(s,l,"popup"),typeof l.customClass=="string"&&ze(s,l.customClass),l.icon&&ze(s,F[`icon-${l.icon}`])},Fj=(s,l)=>{const i=Zu();if(!i)return;const{progressSteps:o,currentProgressStep:d}=l;if(!o||o.length===0||d===void 0){Rt(i);return}wt(i),i.textContent="",d>=o.length&&Ut("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((f,m)=>{const g=Qj(f);if(i.appendChild(g),m===d&&ze(g,F["active-progress-step"]),m!==o.length-1){const b=Zj(l);i.appendChild(b)}})},Qj=s=>{const l=document.createElement("li");return ze(l,F["progress-step"]),fa(l,s),l},Zj=s=>{const l=document.createElement("li");return ze(l,F["progress-step-line"]),s.progressStepsDistance&&Cn(l,"width",s.progressStepsDistance),l},Jj=(s,l)=>{const i=Xx();i&&(t0(i),Vr(i,!!(l.title||l.titleText),"block"),l.title&&s0(l.title,i),l.titleText&&(i.innerText=l.titleText),ca(i,l,"title"))},rg=(s,l)=>{var i;Xj(s,l),Aj(s,l),Fj(s,l),qj(s,l),Vj(s,l),Jj(s,l),Ej(s,l),Uj(s,l),Nj(s,l),Hj(s,l);const o=Ue();typeof l.didRender=="function"&&o&&l.didRender(o),(i=xe.eventEmitter)===null||i===void 0||i.emit("didRender",o)},Wj=()=>Wt(Ue()),ig=()=>{var s;return(s=Ka())===null||s===void 0?void 0:s.click()},ek=()=>{var s;return(s=Ln())===null||s===void 0?void 0:s.click()},tk=()=>{var s;return(s=Rl())===null||s===void 0?void 0:s.click()},Bl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),og=s=>{if(s.keydownTarget&&s.keydownHandlerAdded&&s.keydownHandler){const l=s.keydownHandler;s.keydownTarget.removeEventListener("keydown",l,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1}},ak=(s,l,i)=>{if(og(s),!l.toast){const o=f=>nk(l,f,i);s.keydownHandler=o;const d=l.keydownListenerCapture?window:Ue();if(d){s.keydownTarget=d,s.keydownListenerCapture=l.keydownListenerCapture;const f=o;s.keydownTarget.addEventListener("keydown",f,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0}}},Lu=(s,l)=>{var i;const o=Wu();if(o.length){s=s+l,s===-2&&(s=o.length-1),s===o.length?s=0:s===-1&&(s=o.length-1),o[s].focus();return}(i=Ue())===null||i===void 0||i.focus()},cg=["ArrowRight","ArrowDown"],sk=["ArrowLeft","ArrowUp"],nk=(s,l,i)=>{s&&(l.isComposing||l.keyCode===229||(s.stopKeydownPropagation&&l.stopPropagation(),l.key==="Enter"?lk(l,s):l.key==="Tab"?rk(l):[...cg,...sk].includes(l.key)?ik(l.key):l.key==="Escape"&&ok(l,s,i)))},lk=(s,l)=>{if(!$o(l.allowEnterKey))return;const i=Ue();if(!i||!l.input)return;const o=Go(i,l.input);if(s.target&&o&&s.target instanceof HTMLElement&&s.target.outerHTML===o.outerHTML){if(["textarea","file"].includes(l.input))return;ig(),s.preventDefault()}},rk=s=>{const l=s.target,i=Wu();let o=-1;for(let d=0;d<i.length;d++)if(l===i[d]){o=d;break}s.shiftKey?Lu(o,-1):Lu(o,1),s.stopPropagation(),s.preventDefault()},ik=s=>{const l=Ir(),i=Ka(),o=Ln(),d=Rl();if(!l||!i||!o||!d)return;const f=[i,o,d];if(document.activeElement instanceof HTMLElement&&!f.includes(document.activeElement))return;const m=cg.includes(s)?"nextElementSibling":"previousElementSibling";let g=document.activeElement;if(g){for(let b=0;b<l.children.length;b++){if(g=g[m],!g)return;if(g instanceof HTMLButtonElement&&Wt(g))break}g instanceof HTMLButtonElement&&g.focus()}},ok=(s,l,i)=>{s.preventDefault(),$o(l.allowEscapeKey)&&i(Bl.esc)};var Cl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ck=()=>{const s=Ht();Array.from(document.body.children).forEach(i=>{i.contains(s)||(i.hasAttribute("aria-hidden")&&i.setAttribute("data-previous-aria-hidden",i.getAttribute("aria-hidden")||""),i.setAttribute("aria-hidden","true"))})},dg=()=>{Array.from(document.body.children).forEach(l=>{l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")||""),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},ug=typeof window<"u"&&!!window.GestureEvent,dk=()=>{if(ug&&!bs(document.body,F.iosfix)){const s=document.body.scrollTop;document.body.style.top=`${s*-1}px`,ze(document.body,F.iosfix),uk()}},uk=()=>{const s=Ht();if(!s)return;let l;s.ontouchstart=i=>{l=fk(i)},s.ontouchmove=i=>{l&&(i.preventDefault(),i.stopPropagation())}},fk=s=>{const l=s.target,i=Ht(),o=Qu();return!i||!o||mk(s)||hk(s)?!1:l===i||!Tu(i)&&l instanceof HTMLElement&&!fj(l,o)&&l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!(Tu(o)&&o.contains(l))},mk=s=>!!(s.touches&&s.touches.length&&s.touches[0].touchType==="stylus"),hk=s=>s.touches&&s.touches.length>1,pk=()=>{if(bs(document.body,F.iosfix)){const s=parseInt(document.body.style.top,10);Ea(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=s*-1}},xk=()=>{const s=document.createElement("div");s.className=F["scrollbar-measure"],document.body.appendChild(s);const l=s.getBoundingClientRect().width-s.clientWidth;return document.body.removeChild(s),l};let kl=null;const gk=s=>{kl===null&&(document.body.scrollHeight>window.innerHeight||s==="scroll")&&(kl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${kl+xk()}px`)},bk=()=>{kl!==null&&(document.body.style.paddingRight=`${kl}px`,kl=null)};function fg(s,l,i,o){Yo()?$p(s,o):(aj(i).then(()=>$p(s,o)),og(xe)),ug?(l.setAttribute("style","display:none !important"),l.removeAttribute("class"),l.innerHTML=""):l.remove(),e0()&&(bk(),pk(),dg()),yk()}function yk(){Ea([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}function Fs(s){s=wk(s);const l=Cl.swalPromiseResolve.get(this),i=vk(this);this.isAwaitingPromise?s.isDismissed||(Gr(this),l(s)):i&&l(s)}const vk=s=>{const l=Ue();if(!l)return!1;const i=Ge.innerParams.get(s);if(!i||bs(l,i.hideClass.popup))return!1;Ea(l,i.showClass.popup),ze(l,i.hideClass.popup);const o=Ht();return Ea(o,i.showClass.backdrop),ze(o,i.hideClass.backdrop),jk(s,l,i),!0};function mg(s){const l=Cl.swalPromiseReject.get(this);Gr(this),l&&l(s)}const Gr=s=>{s.isAwaitingPromise&&(delete s.isAwaitingPromise,Ge.innerParams.get(s)||s._destroy())},wk=s=>typeof s>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},s),jk=(s,l,i)=>{var o;const d=Ht(),f=Jx(l);typeof i.willClose=="function"&&i.willClose(l),(o=xe.eventEmitter)===null||o===void 0||o.emit("willClose",l),f&&d?kk(s,l,d,!!i.returnFocus,i.didClose):d&&fg(s,d,!!i.returnFocus,i.didClose)},kk=(s,l,i,o,d)=>{xe.swalCloseEventFinishedCallback=fg.bind(null,s,i,o,d);const f=function(m){if(m.target===l){var g;(g=xe.swalCloseEventFinishedCallback)===null||g===void 0||g.call(xe),delete xe.swalCloseEventFinishedCallback,l.removeEventListener("animationend",f),l.removeEventListener("transitionend",f)}};l.addEventListener("animationend",f),l.addEventListener("transitionend",f)},$p=(s,l)=>{setTimeout(()=>{var i;typeof l=="function"&&l.bind(s.params)(),(i=xe.eventEmitter)===null||i===void 0||i.emit("didClose"),s._destroy&&s._destroy()})},El=s=>{let l=Ue();if(l||new Tt,l=Ue(),!l)return;const i=Dl();Yo()?Rt(Ol()):Nk(l,s),wt(i),l.setAttribute("data-loading","true"),l.setAttribute("aria-busy","true"),l.focus()},Nk=(s,l)=>{const i=Ir(),o=Dl();!i||!o||(!l&&Wt(Ka())&&(l=Ka()),wt(i),l&&(Rt(l),o.setAttribute("data-button-to-replace",l.className),i.insertBefore(o,l)),ze([s,i],F.loading))},Sk=(s,l)=>{l.input==="select"||l.input==="radio"?Lk(s,l):["text","email","number","tel","textarea"].some(i=>i===l.input)&&(Ku(l.inputValue)||Fu(l.inputValue))&&(El(Ka()),Mk(s,l))},Ck=(s,l)=>{const i=s.getInput();if(!i)return null;switch(l.input){case"checkbox":return Ek(i);case"radio":return Ak(i);case"file":return Tk(i);default:return l.inputAutoTrim?i.value.trim():i.value}},Ek=s=>s.checked?1:0,Ak=s=>s.checked?s.value:null,Tk=s=>s.files&&s.files.length?s.getAttribute("multiple")!==null?s.files:s.files[0]:null,Lk=(s,l)=>{const i=Ue();if(!i)return;const o=d=>{l.input==="select"?_k(i,Mo(d),l):l.input==="radio"&&Ok(i,Mo(d),l)};Ku(l.inputOptions)||Fu(l.inputOptions)?(El(Ka()),Pr(l.inputOptions).then(d=>{s.hideLoading(),o(d)})):typeof l.inputOptions=="object"?o(l.inputOptions):Tn(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof l.inputOptions}`)},Mk=(s,l)=>{const i=s.getInput();i&&(Rt(i),Pr(l.inputValue).then(o=>{i.value=l.input==="number"?`${parseFloat(o)||0}`:`${o}`,wt(i),i.focus(),s.hideLoading()}).catch(o=>{Tn(`Error in inputValue promise: ${o}`),i.value="",wt(i),i.focus(),s.hideLoading()}))};function _k(s,l,i){const o=Ks(s,F.select);if(!o)return;const d=(f,m,g)=>{const b=document.createElement("option");b.value=g,fa(b,m),b.selected=hg(g,i.inputValue),f.appendChild(b)};l.forEach(f=>{const m=f[0],g=f[1];if(Array.isArray(g)){const b=document.createElement("optgroup");b.label=m,b.disabled=!1,o.appendChild(b),g.forEach(x=>d(b,x[1],x[0]))}else d(o,g,m)}),o.focus()}function Ok(s,l,i){const o=Ks(s,F.radio);if(!o)return;l.forEach(f=>{const m=f[0],g=f[1],b=document.createElement("input"),x=document.createElement("label");b.type="radio",b.name=F.radio,b.value=m,hg(m,i.inputValue)&&(b.checked=!0);const v=document.createElement("span");fa(v,g),v.className=F.label,x.appendChild(b),x.appendChild(v),o.appendChild(x)});const d=o.querySelectorAll("input");d.length&&d[0].focus()}const Mo=s=>{const l=[];return s instanceof Map?s.forEach((i,o)=>{let d=i;typeof d=="object"&&(d=Mo(d)),l.push([o,d])}):Object.keys(s).forEach(i=>{let o=s[i];typeof o=="object"&&(o=Mo(o)),l.push([i,o])}),l},hg=(s,l)=>!!l&&l!==null&&l!==void 0&&l.toString()===s.toString(),Rk=s=>{const l=Ge.innerParams.get(s);s.disableButtons(),l.input?pg(s,"confirm"):i0(s,!0)},Dk=s=>{const l=Ge.innerParams.get(s);s.disableButtons(),l.returnInputValueOnDeny?pg(s,"deny"):r0(s,!1)},Bk=(s,l)=>{s.disableButtons(),l(Bl.cancel)},pg=(s,l)=>{const i=Ge.innerParams.get(s);if(!i.input){Tn(`The "input" parameter is needed to be set when using returnInputValueOn${Xu(l)}`);return}const o=s.getInput(),d=Ck(s,i);i.inputValidator?zk(s,d,l):o&&!o.checkValidity()?(s.enableButtons(),s.showValidationMessage(i.validationMessage||o.validationMessage)):l==="deny"?r0(s,d):i0(s,d)},zk=(s,l,i)=>{const o=Ge.innerParams.get(s);s.disableInput(),Promise.resolve().then(()=>Pr(o.inputValidator(l,o.validationMessage))).then(f=>{s.enableButtons(),s.enableInput(),f?s.showValidationMessage(f):i==="deny"?r0(s,l):i0(s,l)})},r0=(s,l)=>{const i=Ge.innerParams.get(s);i.showLoaderOnDeny&&El(Ln()),i.preDeny?(s.isAwaitingPromise=!0,Promise.resolve().then(()=>Pr(i.preDeny(l,i.validationMessage))).then(d=>{d===!1?(s.hideLoading(),Gr(s)):s.close({isDenied:!0,value:typeof d>"u"?l:d})}).catch(d=>xg(s,d))):s.close({isDenied:!0,value:l})},Ip=(s,l)=>{s.close({isConfirmed:!0,value:l})},xg=(s,l)=>{s.rejectPromise(l)},i0=(s,l)=>{const i=Ge.innerParams.get(s);i.showLoaderOnConfirm&&El(),i.preConfirm?(s.resetValidationMessage(),s.isAwaitingPromise=!0,Promise.resolve().then(()=>Pr(i.preConfirm(l,i.validationMessage))).then(d=>{Wt(Io())||d===!1?(s.hideLoading(),Gr(s)):Ip(s,typeof d>"u"?l:d)}).catch(d=>xg(s,d))):Ip(s,l)};function _o(){const s=Ge.innerParams.get(this);if(!s)return;const l=Ge.domCache.get(this);Rt(l.loader),Yo()?s.icon&&wt(Ol()):Uk(l),Ea([l.popup,l.actions],F.loading),l.popup.removeAttribute("aria-busy"),l.popup.removeAttribute("data-loading"),l.confirmButton.disabled=!1,l.denyButton.disabled=!1,l.cancelButton.disabled=!1}const Uk=s=>{const l=s.loader.getAttribute("data-button-to-replace"),i=l?s.popup.getElementsByClassName(l):[];i.length?wt(i[0],"inline-block"):uj()&&Rt(s.actions)};function gg(){const s=Ge.innerParams.get(this),l=Ge.domCache.get(this);return l?Go(l.popup,s.input):null}function bg(s,l,i){const o=Ge.domCache.get(s);l.forEach(d=>{o[d].disabled=i})}function yg(s,l){const i=Ue();if(!(!i||!s))if(s.type==="radio"){const o=i.querySelectorAll(`[name="${F.radio}"]`);for(let d=0;d<o.length;d++)o[d].disabled=l}else s.disabled=l}function vg(){bg(this,["confirmButton","denyButton","cancelButton"],!1)}function wg(){bg(this,["confirmButton","denyButton","cancelButton"],!0)}function jg(){yg(this.getInput(),!1)}function kg(){yg(this.getInput(),!0)}function Ng(s){const l=Ge.domCache.get(this),i=Ge.innerParams.get(this);fa(l.validationMessage,s),l.validationMessage.className=F["validation-message"],i.customClass&&i.customClass.validationMessage&&ze(l.validationMessage,i.customClass.validationMessage),wt(l.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",F["validation-message"]),Qx(o),ze(o,F.inputerror))}function Sg(){const s=Ge.domCache.get(this);s.validationMessage&&Rt(s.validationMessage);const l=this.getInput();l&&(l.removeAttribute("aria-invalid"),l.removeAttribute("aria-describedby"),Ea(l,F.inputerror))}const Qs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Hk=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],qk={allowEnterKey:void 0},Pk=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Cg=s=>Object.prototype.hasOwnProperty.call(Qs,s),Eg=s=>Hk.indexOf(s)!==-1,Ag=s=>qk[s],$k=s=>{Cg(s)||Ut(`Unknown parameter "${s}"`)},Ik=s=>{Pk.includes(s)&&Ut(`The parameter "${s}" is incompatible with toasts`)},Vk=s=>{const l=Ag(s);l&&Gx(s,l)},Tg=s=>{s.backdrop===!1&&s.allowOutsideClick&&Ut('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),s.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(s.theme)&&Ut(`Invalid theme "${s.theme}"`);for(const l in s)$k(l),s.toast&&Ik(l),Vk(l)};function Lg(s){const l=Ht(),i=Ue(),o=Ge.innerParams.get(this);if(!i||bs(i,o.hideClass.popup)){Ut("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const d=Yk(s),f=Object.assign({},o,d);Tg(f),l&&(l.dataset.swal2Theme=f.theme),rg(this,f),Ge.innerParams.set(this,f),Object.defineProperties(this,{params:{value:Object.assign({},this.params,s),writable:!1,enumerable:!0}})}const Yk=s=>{const l={};return Object.keys(s).forEach(i=>{if(Eg(i)){const o=s;l[i]=o[i]}else Ut(`Invalid parameter to update: ${i}`)}),l};function Mg(){var s;const l=Ge.domCache.get(this),i=Ge.innerParams.get(this);if(!i){_g(this);return}l.popup&&xe.swalCloseEventFinishedCallback&&(xe.swalCloseEventFinishedCallback(),delete xe.swalCloseEventFinishedCallback),typeof i.didDestroy=="function"&&i.didDestroy(),(s=xe.eventEmitter)===null||s===void 0||s.emit("didDestroy"),Gk(this)}const Gk=s=>{_g(s),delete s.params,delete xe.keydownHandler,delete xe.keydownTarget,delete xe.currentInstance},_g=s=>{s.isAwaitingPromise?(yu(Ge,s),s.isAwaitingPromise=!0):(yu(Cl,s),yu(Ge,s),delete s.isAwaitingPromise,delete s.disableButtons,delete s.enableButtons,delete s.getInput,delete s.disableInput,delete s.enableInput,delete s.hideLoading,delete s.disableLoading,delete s.showValidationMessage,delete s.resetValidationMessage,delete s.close,delete s.closePopup,delete s.closeModal,delete s.closeToast,delete s.rejectPromise,delete s.update,delete s._destroy)},yu=(s,l)=>{for(const i in s)s[i].delete(l)};var Xk=Object.freeze({__proto__:null,_destroy:Mg,close:Fs,closeModal:Fs,closePopup:Fs,closeToast:Fs,disableButtons:wg,disableInput:kg,disableLoading:_o,enableButtons:vg,enableInput:jg,getInput:gg,handleAwaitingPromise:Gr,hideLoading:_o,rejectPromise:mg,resetValidationMessage:Sg,showValidationMessage:Ng,update:Lg});const Kk=(s,l,i)=>{s.toast?Fk(s,l,i):(Zk(l),Jk(l),Wk(s,l,i))},Fk=(s,l,i)=>{l.popup.onclick=()=>{s&&(Qk(s)||s.timer||s.input)||i(Bl.close)}},Qk=s=>!!(s.showConfirmButton||s.showDenyButton||s.showCancelButton||s.showCloseButton);let Oo=!1;const Zk=s=>{s.popup.onmousedown=()=>{s.container.onmouseup=function(l){s.container.onmouseup=()=>{},l.target===s.container&&(Oo=!0)}}},Jk=s=>{s.container.onmousedown=l=>{l.target===s.container&&l.preventDefault(),s.popup.onmouseup=function(i){s.popup.onmouseup=()=>{},(i.target===s.popup||i.target instanceof HTMLElement&&s.popup.contains(i.target))&&(Oo=!0)}}},Wk=(s,l,i)=>{l.container.onclick=o=>{if(Oo){Oo=!1;return}o.target===l.container&&$o(s.allowOutsideClick)&&i(Bl.backdrop)}},eN=s=>typeof s=="object"&&s.jquery,Vp=s=>s instanceof Element||eN(s),tN=s=>{const l={};return typeof s[0]=="object"&&!Vp(s[0])?Object.assign(l,s[0]):["title","html","icon"].forEach((i,o)=>{const d=s[o];typeof d=="string"||Vp(d)?l[i]=d:d!==void 0&&Tn(`Unexpected type of ${i}! Expected "string" or "Element", got ${typeof d}`)}),l};function aN(...s){return new this(...s)}function sN(s){class l extends this{_main(o,d){return super._main(o,Object.assign({},s,d))}}return l}const nN=()=>xe.timeout&&xe.timeout.getTimerLeft(),Og=()=>{if(xe.timeout)return mj(),xe.timeout.stop()},Rg=()=>{if(xe.timeout){const s=xe.timeout.start();return a0(s),s}},lN=()=>{const s=xe.timeout;return s&&(s.running?Og():Rg())},rN=s=>{if(xe.timeout){const l=xe.timeout.increase(s);return a0(l,!0),l}},iN=()=>!!(xe.timeout&&xe.timeout.isRunning());let Yp=!1;const Mu={};function oN(s="data-swal-template"){Mu[s]=this,Yp||(document.body.addEventListener("click",cN),Yp=!0)}const cN=s=>{for(let l=s.target;l&&l!==document;l=l.parentNode)for(const i in Mu){const o=l.getAttribute&&l.getAttribute(i);if(o){Mu[i].fire({template:o});return}}};class dN{constructor(){this.events={}}_getHandlersByEventName(l){return typeof this.events[l]>"u"&&(this.events[l]=[]),this.events[l]}on(l,i){const o=this._getHandlersByEventName(l);o.includes(i)||o.push(i)}once(l,i){const o=(...d)=>{this.removeListener(l,o),i.apply(this,d)};this.on(l,o)}emit(l,...i){this._getHandlersByEventName(l).forEach(o=>{try{o.apply(this,i)}catch(d){console.error(d)}})}removeListener(l,i){const o=this._getHandlersByEventName(l),d=o.indexOf(i);d>-1&&o.splice(d,1)}removeAllListeners(l){this.events[l]!==void 0&&(this.events[l].length=0)}reset(){this.events={}}}xe.eventEmitter=new dN;const uN=(s,l)=>{xe.eventEmitter&&xe.eventEmitter.on(s,l)},fN=(s,l)=>{xe.eventEmitter&&xe.eventEmitter.once(s,l)},mN=(s,l)=>{if(xe.eventEmitter){if(!s){xe.eventEmitter.reset();return}l?xe.eventEmitter.removeListener(s,l):xe.eventEmitter.removeAllListeners(s)}};var hN=Object.freeze({__proto__:null,argsToParams:tN,bindClickHandler:oN,clickCancel:tk,clickConfirm:ig,clickDeny:ek,enableLoading:El,fire:aN,getActions:Ir,getCancelButton:Rl,getCloseButton:Ju,getConfirmButton:Ka,getContainer:Ht,getDenyButton:Ln,getFocusableElements:Wu,getFooter:Fx,getHtmlContainer:Qu,getIcon:Ol,getIconContent:rj,getImage:Kx,getInputLabel:ij,getLoader:Dl,getPopup:Ue,getProgressSteps:Zu,getTimerLeft:nN,getTimerProgressBar:Vo,getTitle:Xx,getValidationMessage:Io,increaseTimer:rN,isDeprecatedParameter:Ag,isLoading:cj,isTimerRunning:iN,isUpdatableParameter:Eg,isValidParameter:Cg,isVisible:Wj,mixin:sN,off:mN,on:uN,once:fN,resumeTimer:Rg,showLoading:El,stopTimer:Og,toggleTimer:lN});class pN{constructor(l,i){this.callback=l,this.remaining=i,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(l){const i=this.running;return i&&this.stop(),this.remaining+=l,i&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Dg=["swal-title","swal-html","swal-footer"],xN=s=>{const l=typeof s.template=="string"?document.querySelector(s.template):s.template;if(!l)return{};const i=l.content;return NN(i),Object.assign(gN(i),bN(i),yN(i),vN(i),wN(i),jN(i),kN(i,Dg))},gN=s=>{const l={};return Array.from(s.querySelectorAll("swal-param")).forEach(o=>{An(o,["name","value"]);const d=o.getAttribute("name"),f=o.getAttribute("value");!d||!f||(d in Qs&&typeof Qs[d]=="boolean"?l[d]=f!=="false":d in Qs&&typeof Qs[d]=="object"?l[d]=JSON.parse(f):l[d]=f)}),l},bN=s=>{const l={};return Array.from(s.querySelectorAll("swal-function-param")).forEach(o=>{const d=o.getAttribute("name"),f=o.getAttribute("value");!d||!f||(l[d]=new Function(`return ${f}`)())}),l},yN=s=>{const l={};return Array.from(s.querySelectorAll("swal-button")).forEach(o=>{An(o,["type","color","aria-label"]);const d=o.getAttribute("type");if(!(!d||!["confirm","cancel","deny"].includes(d))){if(l[`${d}ButtonText`]=o.innerHTML,l[`show${Xu(d)}Button`]=!0,o.hasAttribute("color")){const f=o.getAttribute("color");f!==null&&(l[`${d}ButtonColor`]=f)}if(o.hasAttribute("aria-label")){const f=o.getAttribute("aria-label");f!==null&&(l[`${d}ButtonAriaLabel`]=f)}}}),l},vN=s=>{const l={},i=s.querySelector("swal-image");return i&&(An(i,["src","width","height","alt"]),i.hasAttribute("src")&&(l.imageUrl=i.getAttribute("src")||void 0),i.hasAttribute("width")&&(l.imageWidth=i.getAttribute("width")||void 0),i.hasAttribute("height")&&(l.imageHeight=i.getAttribute("height")||void 0),i.hasAttribute("alt")&&(l.imageAlt=i.getAttribute("alt")||void 0)),l},wN=s=>{const l={},i=s.querySelector("swal-icon");return i&&(An(i,["type","color"]),i.hasAttribute("type")&&(l.icon=i.getAttribute("type")),i.hasAttribute("color")&&(l.iconColor=i.getAttribute("color")),l.iconHtml=i.innerHTML),l},jN=s=>{const l={},i=s.querySelector("swal-input");i&&(An(i,["type","label","placeholder","value"]),l.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(l.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(l.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(l.inputValue=i.getAttribute("value")));const o=Array.from(s.querySelectorAll("swal-input-option"));return o.length&&(l.inputOptions={},o.forEach(d=>{An(d,["value"]);const f=d.getAttribute("value");if(!f)return;const m=d.innerHTML;l.inputOptions[f]=m})),l},kN=(s,l)=>{const i={};for(const o in l){const d=l[o],f=s.querySelector(d);f&&(An(f,[]),i[d.replace(/^swal-/,"")]=f.innerHTML.trim())}return i},NN=s=>{const l=Dg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(s.children).forEach(i=>{const o=i.tagName.toLowerCase();l.includes(o)||Ut(`Unrecognized element <${o}>`)})},An=(s,l)=>{Array.from(s.attributes).forEach(i=>{l.indexOf(i.name)===-1&&Ut([`Unrecognized attribute "${i.name}" on <${s.tagName.toLowerCase()}>.`,`${l.length?`Allowed attributes are: ${l.join(", ")}`:"To set the value, use HTML within the element."}`])})},Bg=10,SN=s=>{var l,i;const o=Ht(),d=Ue();if(!o||!d)return;typeof s.willOpen=="function"&&s.willOpen(d),(l=xe.eventEmitter)===null||l===void 0||l.emit("willOpen",d);const m=window.getComputedStyle(document.body).overflowY;if(AN(o,d,s),setTimeout(()=>{CN(o,d)},Bg),e0()&&(EN(o,s.scrollbarPadding!==void 0?s.scrollbarPadding:!1,m),ck()),!Yo()&&!xe.previousActiveElement&&(xe.previousActiveElement=document.activeElement),typeof s.didOpen=="function"){const g=s.didOpen;setTimeout(()=>g(d))}(i=xe.eventEmitter)===null||i===void 0||i.emit("didOpen",d)},Ro=s=>{const l=Ue();if(!l||s.target!==l)return;const i=Ht();i&&(l.removeEventListener("animationend",Ro),l.removeEventListener("transitionend",Ro),i.style.overflowY="auto",Ea(i,F["no-transition"]))},CN=(s,l)=>{Jx(l)?(s.style.overflowY="hidden",l.addEventListener("animationend",Ro),l.addEventListener("transitionend",Ro)):s.style.overflowY="auto"},EN=(s,l,i)=>{dk(),l&&i!=="hidden"&&gk(i),setTimeout(()=>{s.scrollTop=0})},AN=(s,l,i)=>{var o;(o=i.showClass)!==null&&o!==void 0&&o.backdrop&&ze(s,i.showClass.backdrop),i.animation?(l.style.setProperty("opacity","0","important"),wt(l,"grid"),setTimeout(()=>{var d;(d=i.showClass)!==null&&d!==void 0&&d.popup&&ze(l,i.showClass.popup),l.style.removeProperty("opacity")},Bg)):wt(l,"grid"),ze([document.documentElement,document.body],F.shown),i.heightAuto&&i.backdrop&&!i.toast&&ze([document.documentElement,document.body],F["height-auto"])};var Gp={email:(s,l)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(s)?Promise.resolve():Promise.resolve(l||"Invalid email address"),url:(s,l)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(s)?Promise.resolve():Promise.resolve(l||"Invalid URL")};function TN(s){s.inputValidator||(s.input==="email"&&(s.inputValidator=Gp.email),s.input==="url"&&(s.inputValidator=Gp.url))}function LN(s){(!s.target||typeof s.target=="string"&&!document.querySelector(s.target)||typeof s.target!="string"&&!s.target.appendChild)&&(Ut('Target parameter is not valid, defaulting to "body"'),s.target="body")}function MN(s){TN(s),s.showLoaderOnConfirm&&!s.preConfirm&&Ut(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),LN(s),typeof s.title=="string"&&(s.title=s.title.split(`
`).join("<br />")),wj(s)}let Xa;var mo=new WeakMap;class ct{constructor(...l){if(J1(this,mo,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Xa=this;const i=Object.freeze(this.constructor.argsToParams(l));this.params=i,this.isAwaitingPromise=!1,W1(mo,this,this._main(Xa.params))}_main(l,i={}){if(Tg(Object.assign({},i,l)),xe.currentInstance){const f=Cl.swalPromiseResolve.get(xe.currentInstance),{isAwaitingPromise:m}=xe.currentInstance;xe.currentInstance._destroy(),m||f({isDismissed:!0}),e0()&&dg()}xe.currentInstance=Xa;const o=ON(l,i);MN(o),Object.freeze(o),xe.timeout&&(xe.timeout.stop(),delete xe.timeout),clearTimeout(xe.restoreFocusTimeout);const d=RN(Xa);return rg(Xa,o),Ge.innerParams.set(Xa,o),_N(Xa,d,o)}then(l){return Bp(mo,this).then(l)}finally(l){return Bp(mo,this).finally(l)}}const _N=(s,l,i)=>new Promise((o,d)=>{const f=m=>{s.close({isDismissed:!0,dismiss:m,isConfirmed:!1,isDenied:!1})};Cl.swalPromiseResolve.set(s,o),Cl.swalPromiseReject.set(s,d),l.confirmButton.onclick=()=>{Rk(s)},l.denyButton.onclick=()=>{Dk(s)},l.cancelButton.onclick=()=>{Bk(s,f)},l.closeButton.onclick=()=>{f(Bl.close)},Kk(i,l,f),ak(xe,i,f),Sk(s,i),SN(i),DN(xe,i,f),BN(l,i),setTimeout(()=>{l.container.scrollTop=0})}),ON=(s,l)=>{const i=xN(s),o=Object.assign({},Qs,l,i,s);return o.showClass=Object.assign({},Qs.showClass,o.showClass),o.hideClass=Object.assign({},Qs.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},RN=s=>{const l={popup:Ue(),container:Ht(),actions:Ir(),confirmButton:Ka(),denyButton:Ln(),cancelButton:Rl(),loader:Dl(),closeButton:Ju(),validationMessage:Io(),progressSteps:Zu()};return Ge.domCache.set(s,l),l},DN=(s,l,i)=>{const o=Vo();Rt(o),l.timer&&(s.timeout=new pN(()=>{i("timer"),delete s.timeout},l.timer),l.timerProgressBar&&o&&(wt(o),ca(o,l,"timerProgressBar"),setTimeout(()=>{s.timeout&&s.timeout.running&&a0(l.timer)})))},BN=(s,l)=>{if(!l.toast){if(!$o(l.allowEnterKey)){Gx("allowEnterKey"),HN();return}zN(s)||UN(s,l)||Lu(-1,1)}},zN=s=>{const l=Array.from(s.popup.querySelectorAll("[autofocus]"));for(const i of l)if(i instanceof HTMLElement&&Wt(i))return i.focus(),!0;return!1},UN=(s,l)=>l.focusDeny&&Wt(s.denyButton)?(s.denyButton.focus(),!0):l.focusCancel&&Wt(s.cancelButton)?(s.cancelButton.focus(),!0):l.focusConfirm&&Wt(s.confirmButton)?(s.confirmButton.focus(),!0):!1,HN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};ct.prototype.disableButtons=wg;ct.prototype.enableButtons=vg;ct.prototype.getInput=gg;ct.prototype.disableInput=kg;ct.prototype.enableInput=jg;ct.prototype.hideLoading=_o;ct.prototype.disableLoading=_o;ct.prototype.showValidationMessage=Ng;ct.prototype.resetValidationMessage=Sg;ct.prototype.close=Fs;ct.prototype.closePopup=Fs;ct.prototype.closeModal=Fs;ct.prototype.closeToast=Fs;ct.prototype.rejectPromise=mg;ct.prototype.update=Lg;ct.prototype._destroy=Mg;Object.assign(ct,hN);Object.keys(Xk).forEach(s=>{ct[s]=function(...l){if(Xa&&Xa[s])return Xa[s](...l)}});ct.DismissReason=Bl;ct.version="11.26.17";const Tt=ct;Tt.default=Tt;typeof document<"u"&&(function(s,l){var i=s.createElement("style");if(s.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=l);else try{i.innerHTML=l}catch{i.innerText=l}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Rr=(s,l,i={})=>{const o=document.documentElement.classList.contains("dark");return Tt.fire({title:s,text:l,icon:i.icon||"warning",showCancelButton:!0,confirmButtonColor:i.confirmButtonColor||"#dc2626",cancelButtonColor:i.cancelButtonColor||"#64748b",confirmButtonText:i.confirmButtonText||"Yes, proceed",cancelButtonText:i.cancelButtonText||"Cancel",background:o?"#0f172a":"#ffffff",color:o?"#e2e8f0":"#0f172a",allowOutsideClick:()=>!Tt.isLoading()})},qN=({isOpen:s,onClose:l,editingRole:i,permissions:o,onTogglePermission:d,onCommit:f})=>i?a.jsx(Fe,{isOpen:s,onClose:l,title:`Capabilities: ${i?.name}`,maxWidth:"max-w-2xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 dark:bg-slate-800 p-3 rounded-xl border border-gray-100 dark:border-slate-700",children:"Configure specific functional permissions. These mapping synchronize directly with the backend ACL."}),["network","billing","crm","system"].map(m=>a.jsxs("div",{children:[a.jsxs("h4",{className:"text-[10px] font-black uppercase text-gray-400 dark:text-slate-500 mb-3 tracking-widest pl-1",children:[m," Module"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.filter(g=>g.group===m).map(g=>a.jsxs("label",{className:`flex items-center justify-between p-3 rounded-xl border transition-all cursor-pointer ${i?.permissions.includes(g.name)?"bg-blue-50 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30":"bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-800"}`,children:[a.jsxs("div",{className:"pr-2",children:[a.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-gray-100",children:g.name}),a.jsx("p",{className:"text-[9px] text-gray-500 leading-tight mt-0.5",children:g.description})]}),a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-gray-300 text-blue-600 focus:ring-blue-500",checked:i?.permissions.includes(g.name)||!1,onChange:()=>d(i.id,g.name)})]},g.id))})]},m)),a.jsx("button",{onClick:f,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-bold py-3 rounded-xl mt-4",children:"Commit Matrix Updates"})]})}):null,PN=({isOpen:s,setRoles:l,setEditingRole:i,setIsPermMatrixOpen:o,setIsRoleModalOpen:d})=>{const[f,m]=se.useState(""),g=async b=>{b.preventDefault();const x=f.trim();if(!x)return;const v={name:x,permissions:[]};try{const h=await wo.create(v),S=h?.data??h,A={id:S?.id?.toString?.()??S?.id??`${Date.now()}`,name:S?.name??v.name,permissions:S?.permissions??[]};l(j=>{const N=[...j,A];return localStorage.setItem(ve.ROLES,JSON.stringify(N)),N}),d(!1),m(""),i(A),o(!0),oe(`Role "${A.name}" initialized. Please define its permissions.`)}catch(h){console.error("Error creating role:",h),oe.error("Error creating role. Please try again.")}};return a.jsx(Fe,{isOpen:s,onClose:()=>{m(""),d(!1)},title:"Define New System Role",children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-gray-500 bg-blue-50 dark:bg-blue-900/10 p-3 rounded-xl border border-blue-100 dark:border-blue-900/20",children:"Define a semantic role name. You can configure precise permissions in the next step."}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-tighter ml-1",children:"Role Identifier"}),a.jsx("input",{required:!0,autoFocus:!0,type:"text",value:f,onChange:b=>m(b.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"e.g. Billing Manager"})]}),a.jsx("button",{type:"submit",className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-bold py-3 rounded-xl mt-4 hover:opacity-90 transition-all",children:"Initialize Role Profile"})]})})},$N=({canManageAdmins:s,canManageRoles:l})=>{const[i,o]=y.useState(""),[d,f]=y.useState(!1),[m,g]=y.useState(null),[b,x]=y.useState(()=>JSON.parse(localStorage.getItem(ve.ADMINS)||"[]")),[v,h]=y.useState(()=>JSON.parse(localStorage.getItem(ve.ROLES)||"[]")),[S,A]=y.useState([]),[j,N]=y.useState("admins"),[k,C]=y.useState(!1),[L,M]=y.useState(null),[B,Y]=y.useState(!1);y.useEffect(()=>{j==="admins"&&!s&&l&&N("roles"),j==="roles"&&!l&&s&&N("admins")},[j,s,l,N]),y.useEffect(()=>{de(),ne(),W()},[]);const I=(U=[])=>{const le=U.map(D=>{if(typeof D=="string")return D;if(typeof D=="number")return S.find(E=>E.id===D.toString())?.name??"";if(D&&typeof D=="object"){if(typeof D.name=="string")return D.name;if(D.id!==void 0&&D.id!==null)return S.find(E=>E.id===D.id.toString())?.name??""}return""}).filter(D=>!!D);return Array.from(new Set(le))},W=async()=>{try{const le=(await wo.getPermissions()).data||{},q=(Array.isArray(le)?le:Object.values(le).flat()).map(E=>({id:E.id?.toString?.()??"",name:E.name,description:E.description,group:E.group}));A(q)}catch(U){console.error("Error fetching permissions:",U)}},de=async()=>{try{const D=((await Or.getAll()).data||[]).map(q=>({id:q.id.toString(),name:q.name,email:q.email,phone:q.phone||"",role_id:q.role_id.toString(),status:q.status,last_login:q.last_login||"",password:"",isSuperAdmin:q.is_super_admin||!1}));x(D),localStorage.setItem(ve.ADMINS,JSON.stringify(D))}catch(U){console.error("Error loading administrators:",U),oe.error("Error loading administrators. Please try again later.")}},ne=async()=>{try{const D=((await wo.getAll()).data||[]).map(q=>({id:q.id.toString(),name:q.name,permissions:I(q.permissions||[])}));h(D),localStorage.setItem(ve.ROLES,JSON.stringify(D))}catch(U){console.error("Error fetching roles:",U)}},ae=b.filter(U=>U.name.toLowerCase().includes(i.toLowerCase())||U.email.toLowerCase().includes(i.toLowerCase())||U.phone&&U.phone.includes(i)),Z=()=>{g({}),f(!0)},fe=U=>{g(U),f(!0)},G=U=>{M(U),C(!0)},ue=(U,le)=>{if(!L||L.id!==U)return;const q=L.permissions.includes(le)?L.permissions.filter(E=>E!==le):[...L.permissions,le];M({...L,permissions:q})},me=async()=>{if(L)try{console.log("Updating role with permissions:",L);const U=await wo.update(L.id,{name:L.name,permissions:L.permissions}),le=U?.role??U?.data??U;console.log("Updated role response:",le);const D={id:le?.id?.toString?.()??L.id,name:le?.name??L.name,permissions:I(le?.permissions??L.permissions)};h(q=>{const E=q.map(T=>T.id===D.id?D:T);return localStorage.setItem(ve.ROLES,JSON.stringify(E)),E}),M(D),C(!1),oe.success("Permissions updated successfully.")}catch(U){console.error("Error updating role permissions:",U),oe.error("Error updating permissions. Please try again.")}},O=async U=>{if((await Rr(`Delete administrator "${U.name}"?`,"This action cannot be undone.",{confirmButtonText:"Delete"})).isConfirmed)try{await Or.delete(U.id),oe.success("Administrator deleted successfully."),de()}catch(D){console.error("Error deleting administrator:",D),oe.error("Error deleting administrator. Please try again later.")}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-slate-800 rounded-xl w-fit",children:[s&&a.jsx("button",{type:"button",onClick:()=>N("admins"),className:`px-6 py-2 text-sm font-bold rounded-lg transition-all ${j==="admins"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Administrators"}),l&&a.jsx("button",{type:"button",onClick:()=>N("roles"),className:`px-6 py-2 text-sm font-bold rounded-lg transition-all ${j==="roles"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Roles & Permissions"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[j==="admins"&&s?a.jsxs("button",{type:"button",onClick:Z,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Administrator"]}):null,j==="roles"&&l?a.jsxs("button",{type:"button",onClick:()=>Y(!0),className:"bg-slate-800 dark:bg-slate-100 dark:text-slate-900 text-white px-5 py-2 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Define New Role"]}):null]})]}),!s&&!l?a.jsx(Le,{title:"Access Restricted",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none",children:a.jsx("p",{className:"text-sm text-gray-500",children:"You do not have permission to manage administrators or roles."})}):j==="admins"?a.jsxs(Le,{title:"Management Access",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by name, email or phone...",value:i,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsxs("p",{className:"text-xs text-gray-400 italic",children:["Total Administrators: ",b.length]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"pb-3 px-2",children:"Administrator"}),a.jsx("th",{className:"pb-3 px-2",children:"Contact"}),a.jsx("th",{className:"pb-3 px-2",children:"Access Role"}),a.jsx("th",{className:"pb-3 px-2",children:"Status"}),a.jsx("th",{className:"pb-3 px-2",children:"Last Activity"}),a.jsx("th",{className:"pb-3 px-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:ae.map(U=>{const le=v.find(D=>D.id===U.role_id);return a.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/20 transition-all",children:[a.jsx("td",{className:"py-4 px-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center font-bold text-base",children:U.name?.charAt(0)||"?"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:U.name}),a.jsx("p",{className:"text-xs text-gray-500",children:U.email})]})]})}),a.jsx("td",{className:"py-4 px-2",children:a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:U.phone||"N/A"})}),a.jsx("td",{className:"py-4 px-2",children:a.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] uppercase font-black tracking-tighter ${le?.name==="Super Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/40":"bg-blue-100 text-blue-700 dark:bg-blue-900/40"}`,children:le?.name})}),a.jsx("td",{className:"py-4 px-2",children:a.jsx(it,{variant:U.status,children:U.status})}),a.jsx("td",{className:"py-4 px-2 text-gray-500 text-xs",children:new Date(U.last_login).toLocaleString()}),a.jsx("td",{className:"py-4 px-2 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2 transition-opacity",children:[a.jsx("button",{type:"button",onClick:D=>{D.stopPropagation(),fe(U)},className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-blue-600 rounded-lg transition-all",title:"Edit Admin",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),!U.isSuperAdmin&&a.jsx("button",{type:"button",onClick:D=>{D.stopPropagation(),O(U)},className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 rounded-lg transition-all",title:"Delete Admin",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},U.id)})})]})})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:[v.map(U=>a.jsxs(Le,{title:U.name,className:"relative overflow-hidden group border-none shadow-lg hover:shadow-xl transition-all",children:[a.jsxs("div",{className:`absolute top-0 right-0 p-1.5 rounded-bl-xl text-[10px] font-bold text-white ${U.name==="Super Admin"?"bg-purple-600":"bg-blue-600"}`,children:[U.permissions.length," PERMS"]}),a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("div",{className:"flex flex-wrap gap-1.5 h-20 overflow-hidden relative",children:[U.permissions.map(le=>a.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-slate-800 text-gray-500 dark:text-gray-400 px-2 py-1 rounded-md font-medium",children:S.find(D=>D.name===le)?.name??le},le)),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-white dark:from-slate-900 to-transparent"})]}),a.jsx("button",{type:"button",onClick:()=>G(U),className:"w-full text-sm font-bold bg-gray-50 dark:bg-slate-800 hover:bg-blue-600 dark:hover:bg-blue-600 hover:text-white dark:text-gray-300 py-2.5 rounded-xl transition-all",children:"Configure Permissions"})]})]},U.id)),a.jsxs("button",{type:"button",onClick:()=>Y(!0),className:"border-2 border-dashed border-gray-200 dark:border-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center text-gray-400 hover:text-blue-500 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all min-h-[180px]",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-slate-800 flex items-center justify-center mb-3 group-hover:bg-white transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),a.jsx("span",{className:"font-bold",children:"New Role Definition"}),a.jsx("p",{className:"text-[10px] mt-1 text-center",children:"Define a new set of capabilities for team members"})]})]}),a.jsx(Q1,{isOpen:d,onClose:()=>f(!1),roles:v,editingAdmin:m,setEditingAdmin:g,onSuccess:()=>{de(),f(!1)}}),a.jsx(qN,{isOpen:k,onClose:()=>C(!1),editingRole:L,permissions:S,onTogglePermission:ue,onCommit:me}),a.jsx(PN,{isOpen:B,setRoles:h,setEditingRole:M,setIsPermMatrixOpen:C,setIsRoleModalOpen:Y})]})},IN=()=>{const[s,l]=y.useState({current:"",next:"",confirm:""}),[i,o]=y.useState(!1),[d,f]=y.useState(null),m=async()=>{if(f(null),!s.current.trim()||!s.next.trim()||!s.confirm.trim()){const x="All password fields are required.";f(x),oe.error(x);return}if(s.next!==s.confirm){const x="New password and confirmation do not match.";f(x),oe.error(x);return}if(s.next.length<6){const x="New password must be at least 6 characters.";f(x),oe.error(x);return}if(s.current===s.next){const x="New password must be different from the current password.";f(x),oe.error(x);return}const g=localStorage.getItem(ve.AUTH);if(!g){const x="No authenticated user found. Please log in again.";f(x),oe.error(x);return}const b=JSON.parse(g);if(!b?.id||!b?.email){const x="Missing user details. Please log in again.";f(x),oe.error(x);return}o(!0);try{await No.login(b.email,s.current),await Or.update(String(b.id),{password:s.next}),l({current:"",next:"",confirm:""}),oe.success("Password updated successfully. Logging you out...");try{await No.logout()}finally{localStorage.removeItem(ve.AUTH),setTimeout(()=>window.location.reload(),800)}}catch(x){const v=x?.message||"Failed to update password.";f(v),oe.error(v)}finally{o(!1)}};return a.jsx("div",{className:"max-w-md mx-auto py-10 space-y-6",children:a.jsx(Le,{title:"Update Access Key",children:a.jsxs("div",{className:"space-y-5",children:[d&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 text-xs py-3 px-4 rounded-xl text-center font-bold",children:d}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Existing Password"}),a.jsx("input",{type:"password",value:s.current,onChange:g=>l({...s,current:g.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"New Security Key"}),a.jsx("input",{type:"password",value:s.next,onChange:g=>l({...s,next:g.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Confirm Key"}),a.jsx("input",{type:"password",value:s.confirm,onChange:g=>l({...s,confirm:g.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:""})]}),a.jsx("button",{type:"button",onClick:m,disabled:i,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-black py-4 rounded-2xl shadow-xl transition-all active:scale-95 disabled:opacity-60",children:i?"Updating...":"Update Authorization Key"})]})})})},VN=({onSave:s})=>{const l=Fa(),i=y.useRef(null),[o,d]=y.useState(!1),[f,m]=y.useState(!1),[g,b]=y.useState(null),[x,v]=y.useState({isp_legal_name:"EasyTech Network Solutions",acronym:"",support_hotline:"+254 700 000 000",business_address:"EasyTech Plaza, 4th Floor, Wing B, Nairobi, Kenya",trial_duration:30,trial_unit:"minutes",business_logo:""}),[h,S]=y.useState({paybill:"174379",consumer_key:"",consumer_secret:"",passkey:"",environment:"Production",confirmation_url:"",validation_url:""}),[A,j]=y.useState({provider:"Africa's Talking",sender_id:"EASYTECH",api_key:"",api_username:"easytech_admin"}),[N,k]=y.useState({mail_server:"smtp.gmail.com",server_port:"587",auth_username:"billing@easytech.com",auth_password:"",encryption:"TLS (Recommended)",from_address:"no-reply@easytech.com"}),[C,L]=y.useState("Trial"),[M,B]=y.useState(null),[Y,I]=y.useState(!1),[W,de]=y.useState(null),[ne,ae]=y.useState("idle"),[Z,fe]=y.useState("2547"),[G,ue]=y.useState(""),me=[{id:"lite",name:"Lite",price:5e3,capacity:"Up to 100 Subs",features:["Basic Billing","Core CRM","Standard Reports"],color:"slate"},{id:"pro",name:"Professional",price:12e3,capacity:"Up to 500 Subs",features:["Advanced IPAM","Ticketing System","SMS Gateway Integration","API Access"],color:"blue"},{id:"ent",name:"Enterprise",price:25e3,capacity:"Unlimited Subs",features:["White Labeling","Priority Support","Custom Integrations","Multi-Admin Roles"],color:"indigo"}];y.useEffect(()=>{const T=l.pathname.split("/").filter(Boolean);T[1]?ue(T[1]):ue("")},[l.pathname]);const O=()=>{switch(G){case"general":return x;case"payment-gateway":return h;case"sms-gateway":return A;case"email-gateway":return N;default:return{}}};se.useEffect(()=>{(async()=>{try{const H=await Zs.get(),Q=H?.settings||{};G==="general"&&Q.general?v(re=>({...re,...Q.general,acronym:H?.acronym||re.acronym})):G==="payment-gateway"&&Q["payment-gateway"]?S(re=>({...re,...Q["payment-gateway"]})):G==="sms-gateway"&&Q["sms-gateway"]?j(re=>({...re,...Q["sms-gateway"]})):G==="email-gateway"&&Q["email-gateway"]&&k(re=>({...re,...Q["email-gateway"]})),Q.subscription_tier&&B(Q.subscription_tier.charAt(0).toUpperCase()+Q.subscription_tier.slice(1))}catch(H){console.error("Failed to fetch settings:",H)}})()},[G]);const U=async T=>{T.preventDefault(),b(null),d(!0);try{const H=O(),Q={settings:{[G]:H}};G==="general"&&"acronym"in H&&(Q.acronym=H.acronym),await Zs.update(Q),s(`Settings for ${G.replace("-"," ")} updated successfully`)}catch(H){const Q=H.message||"Failed to save settings";b(Q),s(`Error: ${Q}`)}finally{d(!1)}},le=async()=>{b(null),m(!0);try{if(!h.paybill?.trim()||!h.consumer_key?.trim()||!h.consumer_secret?.trim()){const T="Paybill, consumer key, and consumer secret are required.";b(T),s(`Error: ${T}`);return}await Js.registerC2BUrls({paybill:h.paybill,consumer_key:h.consumer_key,consumer_secret:h.consumer_secret,environment:h.environment,...h.confirmation_url&&{confirmation_url:h.confirmation_url},...h.validation_url&&{validation_url:h.validation_url}}),s("C2B confirmation and validation URLs registered successfully")}catch(T){const H=T.message||"Failed to register C2B URLs";b(H),s(`Error: ${H}`)}finally{m(!1)}},D=T=>{de(T),I(!0),ae("idle")},q=T=>{T.preventDefault(),ae("processing"),setTimeout(()=>{ae("success"),L("Active"),B(W?.name||null),s(`Licence for ${W?.name} activated successfully!`),setTimeout(()=>{I(!1),ae("idle")},2e3)},3e3)},E=()=>{switch(G){case"general":return a.jsx("div",{className:"space-y-6",children:a.jsx(Le,{title:"Business Identity",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Business Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 flex items-center justify-center overflow-hidden",children:x.business_logo?a.jsx("img",{src:x.business_logo,alt:"Business Logo",className:"w-full h-full object-contain"}):a.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h18M3 19h18M5 5v14M19 5v14"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:T=>{const H=T.target.files?.[0];if(!H)return;const Q=new FileReader;Q.onload=()=>{v({...x,business_logo:typeof Q.result=="string"?Q.result:""})},Q.readAsDataURL(H)},className:"block w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-bold file:bg-blue-50 file:text-blue-600 hover:file:bg-blue-100"}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"PNG/JPG recommended. Stored in settings."})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"ISP Legal Name"}),a.jsx("input",{type:"text",value:x.isp_legal_name,required:!0,onChange:T=>v({...x,isp_legal_name:T.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Company Acronym"}),a.jsx("input",{type:"text",value:x.acronym,required:!0,onChange:T=>v({...x,acronym:T.target.value.toUpperCase()}),placeholder:"e.g., ET, ISP, NET",maxLength:5,className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold uppercase"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"Unique prefix for RADIUS usernames (max 5 chars)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Support Hotline"}),a.jsx("input",{type:"tel",value:x.support_hotline,onChange:T=>v({...x,support_hotline:T.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Trial Period"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"0",value:x.trial_duration||"",onChange:T=>v({...x,trial_duration:Number(T.target.value)}),placeholder:"Duration",className:"w-2/3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"}),a.jsxs("select",{value:x.trial_unit||"days",onChange:T=>v({...x,trial_unit:T.target.value}),className:"w-1/3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold cursor-pointer",children:[a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"Default grace period for new connections"})]}),a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Business Office Address"}),a.jsx("textarea",{rows:2,value:x.business_address,onChange:T=>v({...x,business_address:T.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm"})]})]})})});case"licence":return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsx("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-xl ${C==="Active"?"bg-green-500":"bg-amber-500"} shadow-emerald-500/20`,children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h3",{className:"text-3xl font-black",children:C==="Trial"?"Free Trial":M||"Enterprise"}),a.jsx(it,{variant:C.toLowerCase(),children:C.toUpperCase()})]}),a.jsx("p",{className:"text-slate-400 font-medium font-mono text-sm uppercase",children:"ET-CLOUD-8821-X991-A122"})]})]}),a.jsxs("div",{className:"text-center md:text-right",children:[a.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"Next Renewal"}),a.jsx("p",{className:"text-2xl font-black text-white",children:"Dec 31, 2025"})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:me.map(T=>a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] p-8 border border-gray-100 dark:border-slate-800 shadow-sm flex flex-col group hover:shadow-xl transition-all relative overflow-hidden",children:[M===T.name&&a.jsx("div",{className:"absolute top-0 right-0 px-4 py-1 bg-blue-600 text-white text-[10px] font-black uppercase rounded-bl-xl tracking-widest z-10",children:"Current Plan"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:`text-[10px] font-black uppercase tracking-[0.2em] mb-2 text-${T.color}-500`,children:[T.name," System"]}),a.jsxs("h4",{className:"text-4xl font-black text-gray-900 dark:text-white",children:[a.jsx("span",{className:"text-sm font-medium mr-1 uppercase",children:"KSH"}),T.price.toLocaleString()]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 font-bold",children:T.capacity})]}),a.jsx("div",{className:"space-y-3 flex-1",children:T.features.map(H=>a.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-600 dark:text-gray-400",children:[a.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),H]},H))}),a.jsx("button",{type:"button",disabled:M===T.name,onClick:()=>D(T),className:`mt-8 w-full py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all ${M===T.name?"bg-gray-100 dark:bg-slate-800 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white shadow-lg hover:bg-blue-500"}`,children:M===T.name?"Active":"Upgrade Now"})]},T.id))})]});case"payment-gateway":return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Le,{title:"M-Pesa Integration (Daraja API)",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Paybill / Shortcode"}),a.jsx("input",{type:"text",value:h.paybill,onChange:T=>S({...h,paybill:T.target.value}),placeholder:"e.g. 174379",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Consumer Key"}),a.jsx("input",{type:"password",value:h.consumer_key,onChange:T=>S({...h,consumer_key:T.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Consumer Secret"}),a.jsx("input",{type:"password",value:h.consumer_secret,onChange:T=>S({...h,consumer_secret:T.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Passkey"}),a.jsx("input",{type:"password",value:h.passkey,onChange:T=>S({...h,passkey:T.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Environment"}),a.jsxs("select",{value:h.environment,onChange:T=>S({...h,environment:T.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"Production"}),a.jsx("option",{children:"Sandbox (Testing)"})]})]})]})}),a.jsx(Le,{title:"Custom C2B Callback URLs (Optional - For Testing)",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Confirmation URL"}),a.jsx("input",{type:"url",value:h.confirmation_url,onChange:T=>S({...h,confirmation_url:T.target.value}),placeholder:"https://your-ngrok-url.ngrok.io/api/payments/c2b/confirmation",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"}),a.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"Leave empty to use default server URL. Use ngrok/localtunnel for local testing."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Validation URL"}),a.jsx("input",{type:"url",value:h.validation_url,onChange:T=>S({...h,validation_url:T.target.value}),placeholder:"https://your-ngrok-url.ngrok.io/api/payments/c2b/validation",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"}),a.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"Leave empty to use default server URL. Use ngrok/localtunnel for local testing."})]})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-900/30 flex items-start gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium space-y-1",children:[a.jsx("p",{children:"Register your C2B confirmation and validation URLs with Daraja. M-Pesa requires publicly accessible HTTPS URLs."}),a.jsxs("p",{className:"text-[10px] mt-1",children:[a.jsx("strong",{children:"For local testing:"})," Use ngrok (ngrok http 8000) to expose your server with HTTPS."]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:le,disabled:f,className:"bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold px-6 py-3 rounded-xl shadow-lg shadow-emerald-500/20 transition-all flex items-center space-x-2 active:scale-95",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Registering..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7v14"})}),a.jsx("span",{children:"Register C2B URLs"})]})})})]});case"sms-gateway":return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Le,{title:"SMS Provider Configuration",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Provider Service"}),a.jsxs("select",{value:A.provider,onChange:T=>j({...A,provider:T.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"Africa's Talking"}),a.jsx("option",{children:"Twilio"}),a.jsx("option",{children:"Infobip"}),a.jsx("option",{children:"BulkSMS.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Sender ID / Alphanumeric"}),a.jsx("input",{type:"text",value:A.sender_id,onChange:T=>j({...A,sender_id:T.target.value}),placeholder:"e.g. EASYTECH",className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"API Key / Access Token"}),a.jsx("input",{type:"password",value:A.api_key,onChange:T=>j({...A,api_key:T.target.value}),placeholder:"",className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"}),a.jsxs("p",{className:"text-[9px] text-gray-400 italic mt-1",children:[a.jsx("span",{className:"font-bold",children:"Africa's Talking:"}),' Use format "username:api_key" or just the API key']})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"API Username (if applicable)"}),a.jsx("input",{type:"text",value:A.api_username,onChange:T=>j({...A,api_username:T.target.value}),placeholder:"e.g. easytech_admin",className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]})]})}),a.jsx(Le,{title:"Meta WhatsApp Cloud API",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Permanent Access Token"}),a.jsx("input",{type:"password",placeholder:"EAABw...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Phone Number ID"}),a.jsx("input",{type:"text",placeholder:"e.g. 1092...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Business Account ID"}),a.jsx("input",{type:"text",placeholder:"e.g. 1045...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"md:col-span-2 p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-600 tracking-widest",children:"Meta Webhook Configuration"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-tighter",children:"Callback URL"}),a.jsx("code",{className:"text-[10px] font-mono bg-white dark:bg-slate-900 px-2 py-1 rounded select-all block mt-1",children:"https://api.easytech.com/webhooks/whatsapp"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-tighter",children:"Webhook Verify Token"}),a.jsx("input",{type:"text",placeholder:"Set custom token for Meta verification",className:"w-full bg-white dark:bg-slate-900 border-none rounded-lg p-2 mt-1 focus:ring-1 focus:ring-blue-500 text-xs font-bold"})]})]})]})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-900/30 flex items-center gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium space-y-1",children:[a.jsx("p",{children:"Auto-notifications for expiry and payment confirmation require a valid SMS configuration."}),a.jsxs("p",{className:"text-[10px] mt-1",children:[a.jsx("strong",{children:"Testing Tips:"})," Verify your API credentials in your provider dashboard"]})]})]})]});case"email-gateway":return a.jsx("div",{className:"space-y-6",children:a.jsx(Le,{title:"SMTP Relay Settings",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Mail Server Host"}),a.jsx("input",{type:"text",value:N.mail_server,onChange:T=>k({...N,mail_server:T.target.value}),placeholder:"smtp.gmail.com",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Server Port"}),a.jsx("input",{type:"text",value:N.server_port,onChange:T=>k({...N,server_port:T.target.value}),placeholder:"587",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Auth Username"}),a.jsx("input",{type:"email",value:N.auth_username,onChange:T=>k({...N,auth_username:T.target.value}),placeholder:"billing@easytech.com",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Auth Password"}),a.jsx("input",{type:"password",value:N.auth_password,onChange:T=>k({...N,auth_password:T.target.value}),placeholder:"",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Encryption Protocol"}),a.jsxs("select",{value:N.encryption,onChange:T=>k({...N,encryption:T.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"TLS (Recommended)"}),a.jsx("option",{children:"SSL"}),a.jsx("option",{children:"None (Unsecured)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Sender 'From' Address"}),a.jsx("input",{type:"email",value:N.from_address,onChange:T=>k({...N,from_address:T.target.value}),placeholder:"no-reply@easytech.com",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]})]})})});case"change-password":return a.jsx(IN,{});default:return a.jsxs("div",{className:"py-20 text-center text-gray-400 flex flex-col items-center",children:[a.jsx("svg",{className:"w-12 h-12 mb-4 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("p",{className:"font-bold",children:"Module Under Maintenance"}),a.jsx("p",{className:"text-xs italic mt-1",children:"This specific configuration is being synced with the cloud."})]})}};return a.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("form",{ref:i,onSubmit:U,children:[E(),g&&a.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm font-semibold text-red-700 dark:text-red-300",children:g})]}),G!=="licence"&&G!=="change-password"&&a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 transition-all flex items-center space-x-2 active:scale-95",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Saving..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Apply Changes"})]})})})]}),a.jsxs(Fe,{isOpen:Y,onClose:()=>I(!1),title:"Renew System License",children:[ne==="idle"&&a.jsxs("form",{onSubmit:q,className:"space-y-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Selected Plan"}),a.jsxs("span",{className:"text-sm font-black text-blue-600 uppercase tracking-widest",children:[W?.name," Tier"]})]}),a.jsxs("div",{className:"flex justify-between items-center pb-4 border-b dark:border-slate-600",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Billing Amount"}),a.jsxs("span",{className:"text-xl font-black text-gray-900 dark:text-white",children:["KSH ",W?.price.toLocaleString()]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1 block mb-1",children:"M-Pesa Number"}),a.jsx("input",{required:!0,type:"tel",value:Z,onChange:T=>fe(T.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-4 text-center text-xl font-black tracking-widest focus:ring-2 focus:ring-emerald-500"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-black py-4 rounded-2xl shadow-xl active:scale-95",children:"Authorize STK Push"})]}),ne==="processing"&&a.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),a.jsx("h4",{className:"text-lg font-black",children:"Syncing with M-Pesa Gateway..."})]}),ne==="success"&&a.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center space-y-4 animate-in zoom-in duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M5 13l4 4L19 7"})})}),a.jsx("h4",{className:"text-xl font-black",children:"Payment Captured!"})]})]})]})},Xp=({onLogin:s,isLoading:l,error:i})=>{const[o,d]=y.useState("admin@easyisp.local"),[f,m]=y.useState("password123"),g=b=>{b.preventDefault(),s(o,f)};return a.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-950 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[120px] animate-pulse"}),a.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-600/10 rounded-full blur-[120px] animate-pulse"}),a.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center font-black text-2xl text-white shadow-xl shadow-blue-500/20 mb-4 transform -rotate-6",children:a.jsx("img",{src:"/EasyTech.svg",alt:"Logo",className:"transform -rotate-6"})}),a.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:"Easy Tech"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Network Management & Billing"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1 mb-2",children:"Access Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-4 flex items-center text-slate-500",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),a.jsx("input",{type:"email",required:!0,value:o,onChange:b=>d(b.target.value),className:"w-full bg-slate-800/50 border-none rounded-2xl py-4 pl-11 pr-4 text-white placeholder-slate-600 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"admin@easytech.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1 mb-2",children:"Security Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-4 flex items-center text-slate-500",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{type:"password",required:!0,value:f,onChange:b=>m(b.target.value),className:"w-full bg-slate-800/50 border-none rounded-2xl py-4 pl-11 pr-4 text-white placeholder-slate-600 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:""})]})]}),i&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 text-xs py-3 px-4 rounded-xl text-center font-bold",children:i}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white font-black py-4 rounded-2xl shadow-xl shadow-blue-600/20 transition-all flex items-center justify-center space-x-2 active:scale-95",children:l?a.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsx("span",{children:"Authorize Access"})})]})]}),a.jsxs("p",{className:"text-center text-slate-600 text-[10px] mt-8 uppercase tracking-widest font-black",children:["Powered by Easy Tech Cloud  ",new Date().getFullYear()]})]})]})},YN=({isOpen:s,onClose:l,onSave:i,editingPackage:o,setEditingPackage:d})=>{const[f,m]=y.useState(!1),g="^[0-9]+[kMGkmg]?$",b="^[0-9]+[s]?(/[0-9]+[s]?)?$",x=(h,S)=>{const A=S.replace(/[^0-9kMGkmgs/]/gi,"");d({...o,[h]:A})},v=()=>{const h=o?.speed_up||"5M",S=o?.speed_down||"20M";let A=`${h}/${S}`;const j=o?.burst_limit_up&&o?.burst_limit_down,N=o?.priority!==void 0,k=o?.min_limit_up&&o?.min_limit_down;if(j||N||k){const C=o?.burst_limit_up||h,L=o?.burst_limit_down||S,M=o?.burst_threshold_up||h,B=o?.burst_threshold_down||S,Y=o?.burst_time||"30/30";if(A+=` ${C}/${L} ${M}/${B} ${Y}`,N||k){const I=o?.priority||8;if(A+=` ${I}`,k){const W=o?.min_limit_up,de=o?.min_limit_down;A+=` ${W}/${de}`}}}return A};return a.jsx(Fe,{isOpen:s,onClose:l,title:o?.id?"Update Package Profile":"Define New Service Plan",maxWidth:"max-w-2xl",children:a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Package Name"}),a.jsx("input",{required:!0,type:"text",value:o?.name||"",onChange:h=>d({...o,name:h.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. Fiber Home 10Mbps"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Price (KSH)"}),a.jsx("input",{required:!0,type:"number",min:"0",value:o?.price||"",onChange:h=>d({...o,price:Number(h.target.value)}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-black",placeholder:"1500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Validity (Days)"}),a.jsx("input",{required:!0,type:"number",min:"1",value:o?.validity_days||"",onChange:h=>d({...o,validity_days:Number(h.target.value)}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"30"})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-blue-600 tracking-widest mb-3",children:"Level 1: Base Bandwidth (MIR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Upload (rx)"}),a.jsx("input",{required:!0,type:"text",pattern:g,title:"Input must be a number followed by k, M, or G (e.g., 5M)",value:o?.speed_up||"",onChange:h=>x("speed_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-mono text-sm invalid:ring-2 invalid:ring-red-500 transition-all uppercase",placeholder:"5M"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Download (tx)"}),a.jsx("input",{required:!0,type:"text",pattern:g,title:"Input must be a number followed by k, M, or G (e.g., 20M)",value:o?.speed_down||"",onChange:h=>x("speed_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-mono text-sm invalid:ring-2 invalid:ring-red-500 transition-all uppercase",placeholder:"20M"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Advanced QoS (Bursts, Priority, CIR)"}),a.jsx(Pu,{checked:f,onChange:()=>m(!f)})]}),f&&a.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Level 2: Bursting Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",pattern:g,placeholder:"Burst Up (e.g. 10M)",value:o?.burst_limit_up||"",onChange:h=>x("burst_limit_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsx("input",{type:"text",pattern:g,placeholder:"Burst Down (e.g. 40M)",value:o?.burst_limit_down||"",onChange:h=>x("burst_limit_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsx("input",{type:"text",pattern:g,placeholder:"Thr Up (e.g. 3M)",value:o?.burst_threshold_up||"",onChange:h=>x("burst_threshold_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsx("input",{type:"text",pattern:g,placeholder:"Thr Down (e.g. 15M)",value:o?.burst_threshold_down||"",onChange:h=>x("burst_threshold_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 text-xs font-mono uppercase invalid:text-red-500"}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-1",children:"Burst Time (rx/tx)"}),a.jsx("input",{type:"text",pattern:b,title:"Format: Seconds or Seconds/Seconds (e.g., 30/30)",placeholder:"30/30",value:o?.burst_time||"",onChange:h=>x("burst_time",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 text-xs font-mono invalid:ring-1 invalid:ring-red-500"})]})]})]}),a.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/10 rounded-2xl border border-indigo-100 dark:border-indigo-900/20 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-indigo-600 tracking-widest mb-1",children:"Level 3: Priority & Min (CIR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Traffic Priority (1-8)"}),a.jsx("select",{value:o?.priority||8,onChange:h=>d({...o,priority:Number(h.target.value)}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-indigo-500 font-bold",children:[1,2,3,4,5,6,7,8].map(h=>a.jsxs("option",{value:h,children:["Priority ",h," ",h===1?"(Highest)":h===8?"(Lowest)":""]},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Min Upload (CIR)"}),a.jsx("input",{type:"text",pattern:g,placeholder:"2M",value:o?.min_limit_up||"",onChange:h=>x("min_limit_up",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 text-xs font-mono uppercase invalid:text-red-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Min Download (CIR)"}),a.jsx("input",{type:"text",pattern:g,placeholder:"5M",value:o?.min_limit_down||"",onChange:h=>x("min_limit_down",h.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 text-xs font-mono uppercase invalid:text-red-500"})]})]})]})]}),a.jsxs("div",{className:"bg-slate-950 p-5 rounded-2xl border border-slate-800 shadow-inner",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/5 pb-2",children:[a.jsx("span",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest",children:"MikroTik Rate-Limit String"}),a.jsx(it,{variant:"active",children:"Live Output"})]}),a.jsx("code",{className:"text-sm text-green-400 font-mono block leading-relaxed break-all whitespace-pre-wrap",children:v()}),a.jsx("p",{className:"text-[8px] text-gray-500 mt-2 italic uppercase",children:"This value is pushed to the 'Mikrotik-Rate-Limit' RADIUS attribute."})]}),a.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 group flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 group-hover:rotate-12 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o?.id?"Sync Package Update":"Deploy Network Package"]})]})})},GN=()=>{const[s,l]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),[i,o]=y.useState(null),[d,f]=y.useState(!1),[m,g]=y.useState(!1),[b,x]=y.useState(null),{can:v}=za();y.useEffect(()=>{h()},[]);const h=async()=>{try{const j=await Xs.getAll();localStorage.setItem(ve.PACKAGES,JSON.stringify(j.data||[])),l(j.data||[])}catch(j){console.error("Error fetching packages:",j)}},S=async j=>{if(j.preventDefault(),!i||!i.name){x("Package name is required");return}g(!0),x(null);try{if(s.findIndex(k=>k.id===i.id)>=0&&i.id)await Xs.update(i.id,i),h(),oe.success("Package updated successfully");else{const k=await Xs.create(i);h(),oe.success("Package created successfully")}f(!1),o(null)}catch(N){const k=N instanceof Error?N.message:"Failed to save package";x(k),console.error("Error saving package:",N),oe.error("Error saving package: "+k)}finally{g(!1)}},A=async j=>{if(JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]").some(L=>L.packageId===j||L.package?.id===j)){await Rr("Cannot delete package","This package is assigned to one or more customers. Reassign them before deleting.",{icon:"info",confirmButtonText:"OK",cancelButtonText:"Close",confirmButtonColor:"#2563eb"});return}if((await Rr("Delete this package?","This action cannot be undone.",{confirmButtonText:"Delete"})).isConfirmed)try{await Xs.delete(j),h(),oe.success("Package deleted successfully")}catch(L){console.error("Error deleting package:",L),oe.error("Error deleting package: "+(L instanceof Error?L.message:"Unknown error"))}};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Internet Service Packages"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Define bandwidth limits and billing cycles for customers."})]}),v("manage-packages")&&a.jsxs("button",{onClick:()=>{o({}),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Package"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.map(j=>a.jsxs(Le,{title:j?.type?.toUpperCase(),className:"relative group border-none shadow-xl hover:shadow-2xl transition-all",children:[v("manage-packages")&&a.jsxs("div",{className:"absolute top-4 right-4 flex space-x-1 z-10",children:[a.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),o(j),f(!0)},className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Edit Package",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),A(j.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:"Delete Package",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xl font-black text-gray-900 dark:text-white leading-tight mb-1",children:j.name}),a.jsxs("p",{className:"text-3xl font-black text-blue-600 dark:text-blue-400",children:[a.jsx("span",{className:"text-sm font-medium mr-1 uppercase",children:"KSH"}),j.price.toLocaleString(),a.jsxs("span",{className:"text-sm text-gray-400 font-medium ml-1",children:["/ ",j.validity_days," Days"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-3 rounded-2xl border border-gray-100 dark:border-slate-700/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Base DL"})]}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:j.speed_down})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-3 rounded-2xl border border-gray-100 dark:border-slate-700/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Base UL"})]}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:j.speed_up})]})]}),j.burst_limit_down&&a.jsxs("div",{className:"mb-6 px-3 py-2 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/20 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[9px] font-black uppercase text-blue-500 block leading-none mb-1",children:"Burst Peak"}),a.jsxs("p",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:[j.burst_limit_down," DL / ",j.burst_limit_up," UL"]})]}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx(it,{variant:"active",children:"Burst ON"}),a.jsxs("span",{className:"text-[8px] text-gray-400 mt-0.5",children:[j.burst_time," interval"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs pt-4 border-t border-gray-100 dark:border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsx("span",{className:"font-bold",children:"Radius Sync Enabled"})]}),a.jsx(it,{variant:"active",children:"Production"})]})]},j.id)),v("manage-packages")&&a.jsxs("button",{onClick:()=>{o({}),f(!0)},className:"border-2 border-dashed border-gray-200 dark:border-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center text-gray-400 hover:text-blue-500 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all min-h-[220px] group",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-slate-800 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a.jsx("span",{className:"font-bold",children:"Add Service Package"}),a.jsx("p",{className:"text-[10px] mt-1 text-center max-w-[150px]",children:"Define a new tier of internet service for your subscribers"})]})]}),a.jsx(YN,{isOpen:d,onClose:()=>f(!1),editingPackage:i,setEditingPackage:o,onSave:S,isSaving:m,saveError:b})]})},zg=({isOpen:s,onClose:l,setIsCustomerModalOpen:i,editingCustomer:o,setEditingCustomer:d,customers:f,onSuccess:m})=>{const g=Ws(),[b,x]=y.useState(!1),[v,h]=y.useState(null),S=y.useRef(null),[A,j]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),{can:N}=za(),k=!!o?.parentId,C=f.filter(M=>M.id!==o?.id&&!M.parentId);y.useEffect(()=>{if(!s)return;(async()=>{try{const B=await Xs.getAll();localStorage.setItem(ve.PACKAGES,JSON.stringify(B.data||[])),j(B.data||[])}catch(B){console.error("Error fetching packages:",B)}})()},[j]);const L=async M=>{M.preventDefault(),h(null),x(!0);try{const B={first_name:o?.firstName,last_name:o?.lastName,email:o?.email,phone:o?.phone,location:o?.location,apartment:o?.apartment,house_no:o?.houseNo,parent_id:o?.parentId||null,is_independent:o?.isIndependent||!1,ip_address:o?.ipAddress||null,mac_address:o?.macAddress||null,radius_username:o?.radiusUsername||null,radius_password:o?.radiusPassword||null,connection_type:o?.connectionType||"PPPoE",package_id:o?.packageId,installation_fee:o?.installationFee||0};if(o?.id){const Y=await zt.update(String(o.id),B);d(Y.customer),m&&m(),oe.success("Customer updated successfully!"),Y.username_modified&&oe.info(Y.username_message||"RADIUS username was modified to avoid conflicts")}else{const Y=await zt.create(B);d({}),g(`/crm/customers/${Y.customer.id}`),oe.success("Customer created successfully!"),Y.username_modified&&oe.info(Y.username_message||"RADIUS username was modified to avoid conflicts")}S.current={...o},i(!1),d(null)}catch(B){console.error("Error saving customer:",B);const Y=B.message||"Failed to save customer. Please try again.";h(Y),oe.error(Y)}finally{x(!1)}};return a.jsxs(Fe,{isOpen:s,onClose:l,title:o?.id?"Update Subscriber":k?"Add New Sub-Account":"New Customer Registration",maxWidth:"max-w-xl",children:[v&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl",children:a.jsx("p",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:v})}),a.jsxs("form",{onSubmit:L,className:"space-y-4",children:[k&&a.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-xl border border-purple-200 dark:border-purple-800 mb-2",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 dark:text-purple-400 uppercase tracking-widest",children:"Sub-Account Mode"}),a.jsx("p",{className:"text-[9px] text-purple-500 mt-0.5 leading-tight italic",children:"Name and phone details are inherited from the main account."})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"First Name*"}),a.jsx("input",{required:!0,readOnly:k,type:"text",value:o?.firstName||"",onChange:M=>d({...o,firstName:M.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"Jane"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Last Name*"}),a.jsx("input",{required:!0,readOnly:k,type:"text",value:o?.lastName||"",onChange:M=>d({...o,lastName:M.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"Doe"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Email"}),a.jsx("input",{type:"email",readOnly:k,value:o?.email||"",onChange:M=>d({...o,email:M.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"jane.doe@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Phone*"}),a.jsx("input",{required:!0,readOnly:k,type:"tel",value:o?.phone||"",onChange:M=>d({...o,phone:M.target.value}),className:`w-full border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 font-bold ${k?"bg-slate-200 dark:bg-slate-700 text-gray-500 cursor-not-allowed":"bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}`,placeholder:"+2547XXXXXXXX"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Physical Address"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Area / Location*"}),a.jsx("input",{required:!0,type:"text",value:o?.location||"",onChange:M=>d({...o,location:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-medium",placeholder:"e.g. Githurai 45"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Apartment / Building"}),a.jsx("input",{type:"text",value:o?.apartment||"",onChange:M=>d({...o,apartment:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-medium",placeholder:"e.g. Hadasa Apt"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"House / Unit No"}),a.jsx("input",{type:"text",value:o?.houseNo||"",onChange:M=>d({...o,houseNo:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-medium",placeholder:"e.g. A4"})]})]})]}),a.jsxs("div",{className:"p-4 bg-purple-50/50 dark:bg-purple-900/5 rounded-2xl border border-purple-100 dark:border-purple-900/20 space-y-3",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-purple-600 tracking-widest ml-1",children:"Account Hierarchy"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Linked Main Account"}),a.jsxs("select",{disabled:k&&!o?.id,value:o?.parentId||"",onChange:M=>d({...o,parentId:M.target.value||void 0}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-medium text-sm",children:[a.jsx("option",{value:"",children:"Standalone / Main Account"}),C.map(M=>a.jsxs("option",{value:M.id,children:[M.firstName," ",M.lastName," (",M.radiusUsername,")"]},M.id))]})]}),o?.parentId&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-purple-100 dark:border-purple-800",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-200",children:"Independent Billing?"}),a.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"If OFF, internet cuts when Main Account expires."})]}),a.jsx(Pu,{checked:o.isIndependent||!1,onChange:()=>d({...o,isIndependent:!o.isIndependent})})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Live Network Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Static IP"}),a.jsx("input",{type:"text",value:o?.ipAddress||"",onChange:M=>d({...o,ipAddress:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm",placeholder:"15.15.15.226"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"MAC Address"}),a.jsx("input",{type:"text",value:o?.macAddress||"",onChange:M=>d({...o,macAddress:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm",placeholder:"B0:95:..."})]})]})]}),a.jsxs("div",{className:"p-4 bg-indigo-50/50 dark:bg-indigo-900/5 rounded-2xl border border-indigo-100 dark:border-indigo-900/20 space-y-4",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-indigo-500 tracking-widest ml-1",children:"RADIUS Credentials"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Radius Username"}),a.jsx("input",{type:"text",value:o?.radiusUsername||"",onChange:M=>d({...o,radiusUsername:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Radius Password"}),a.jsx("input",{type:"text",value:o?.radiusPassword||"",onChange:M=>d({...o,radiusPassword:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono text-sm"})]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50/50 dark:bg-blue-900/5 rounded-2xl border border-blue-100 dark:border-blue-900/20 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest ml-1",children:"Connection Type*"}),a.jsxs("select",{required:!0,value:o?.connectionType||"PPPoE",onChange:M=>d({...o,connectionType:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"PPPoE",children:"PPPoE"}),a.jsx("option",{value:"Static IP",children:"Static IP"}),a.jsx("option",{value:"DHCP",children:"DHCP"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest ml-1",children:"Package*"}),a.jsxs("select",{required:!0,value:o?.packageId||"",onChange:M=>d({...o,packageId:M.target.value}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"",children:"Select..."}),A.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest ml-1",children:"Installation Fee (KSH)*"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400 text-[10px] font-black uppercase",children:"KSH"}),a.jsx("input",{required:!0,type:"number",value:o?.installationFee??0,onChange:M=>d({...o,installationFee:Number(M.target.value)}),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3 pl-12 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-black",placeholder:"0.00"})]}),a.jsx("p",{className:"text-[9px] text-gray-400 mt-1 italic ml-1",children:"Enter the total setup cost for this subscriber."})]})]}),a.jsx("button",{type:"submit",disabled:!N("manage-customers")||!N("create-customers")||b,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl mt-4 hover:bg-blue-500 shadow-xl shadow-blue-600/20 transition-all active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-blue-600",children:b?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):o?.id?"Update Subscriber":k?"Activate Sub-Account":"Register and Activate"})]})]})},Xr=({currentPage:s,setCurrentPage:l,totalPages:i,rowsPerPage:o,setRowsPerPage:d})=>a.jsxs("div",{className:`flex flex-col md:flex-row items-center justify-between 
          gap-4 mt-6 pt-6 border-t dark:border-slate-800`,children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{disabled:s===1,onClick:()=>l(f=>f-1),className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 disabled:opacity-20 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{className:"flex items-center gap-1 px-4",children:[a.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["Page ",s]}),a.jsxs("span",{className:"text-sm text-gray-400",children:["of ",i||1]})]}),a.jsx("button",{disabled:s>=i,onClick:()=>l(f=>f+1),className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 disabled:opacity-20 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Show"}),a.jsxs("select",{value:o,onChange:f=>{d(Number(f.target.value)),l(1)},className:"bg-gray-100 dark:bg-slate-800 border-none rounded-lg text-xs font-black p-1.5 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:10,children:"10 Rows"}),a.jsx("option",{value:15,children:"15 Rows"}),a.jsx("option",{value:25,children:"25 Rows"})]})]})]}),XN=({isBulkSmsOpen:s,setIsBulkSmsOpen:l,filteredCustomers:i,totalCustomers:o=0,activeFilters:d={},packages:f=[],sites:m=[]})=>{const[g,b]=se.useState(""),[x,v]=se.useState(!1),[h,S]=se.useState({current:0,total:0}),[A,j]=se.useState([]),[N,k]=se.useState("custom");y.useEffect(()=>{(async()=>{const I=(await Zs.get())?.settings||{};I["notes-template"]&&Array.isArray(I["notes-template"].templates)&&j(I["notes-template"].templates)})()},[]),y.useEffect(()=>{s||(k("custom"),b(""))},[s]);const C=B=>{const Y=B.target.value;if(k(Y),Y==="custom")return;const I=A.find(W=>W.id===Y);I&&b(I.content)},L=(B,Y)=>B.replace(/{FirstName}/gi,Y.firstName||"").replace(/{LastName}/gi,Y.lastName||"").replace(/{Isp}/gi,Y.organization?.name||"ISP").replace(/{Expiry}/gi,Y.expiryDate||"").replace(/{PackageName}/gi,Y.package?.name||"").replace(/{PaidAmount}/gi,Y.lastPayment?.amount?.toString()||"0").replace(/{PackageAmount}/gi,Y.package?.price?.toString()||"0").replace(/{PhoneNumber}/gi,Y.phone||""),M=async B=>{if(B.preventDefault(),!g.trim()){oe.error("Please enter a message");return}if(i.length===0){oe.error("No customers to send SMS to");return}if((await Rr("Send Bulk SMS?",`You are about to send SMS to ${i.length} customer(s). This action cannot be undone.`,{confirmButtonText:"Send SMS",confirmButtonColor:"#2563eb",cancelButtonText:"Cancel",icon:"question"})).isConfirmed){v(!0),S({current:0,total:i.length});try{const I=i.filter(Z=>Z.phone).map(Z=>({phone:Z.phone,message:L(g,Z),customer_id:Z.id}));if(I.length===0){oe.error("No customers with valid phone numbers found");return}S({current:0,total:I.length});const W=await Gu.sendBulk(I),{total_recipients:de,jobs_dispatched:ne,estimated_time_minutes:ae}=W.data;oe.success(` Bulk SMS Queued Successfully!

 ${de} messages queued in ${ne} batches
 Estimated processing time: ${ae} minutes

Messages will be sent in the background.`,{duration:6e3}),b(""),k("custom"),l(!1)}catch(I){console.error("Bulk SMS Error:",I);const W=I?.response?.data?.message||I.message||"Unknown error occurred";oe.error(` Error sending bulk SMS: ${W}`)}finally{v(!1),S({current:0,total:0})}}};return a.jsx(Fe,{isOpen:s,onClose:()=>l(!1),title:"Bulk SMS Composer",maxWidth:"max-w-3xl",children:a.jsxs("form",{onSubmit:M,className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-800/50 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-600 dark:text-blue-400 tracking-widest ml-1",children:"Targeting Filters"}),a.jsxs("span",{className:"text-[10px] font-bold bg-blue-600 text-white px-2 py-0.5 rounded-full",children:["Targeting: ",i.length," of ",o," Customers"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2 bg-blue-100/50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-[11px] text-blue-700 dark:text-blue-300",children:[a.jsx("p",{className:"font-bold",children:"Filters Applied from Main Page"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"To change targeting, close this pop up and adjust filters on the Customers page, then reopen."})]})]}),(()=>{const B=[];if(d.searchTerm&&B.push({label:"Search",value:d.searchTerm}),d.statusFilter&&B.push({label:"Status",value:d.statusFilter}),d.packageFilter){const Y=f.find(I=>I.id===d.packageFilter);B.push({label:"Package",value:Y?.name||d.packageFilter})}if(d.siteFilter){const Y=m.find(I=>I.id===d.siteFilter);B.push({label:"Site",value:Y?.name||d.siteFilter})}return d.locationFilter&&B.push({label:"Location",value:d.locationFilter}),d.apartmentFilter&&B.push({label:"Apartment",value:d.apartmentFilter}),d.houseNoFilter&&B.push({label:"House No",value:d.houseNoFilter}),d.connectivityFilter&&d.connectivityFilter!=="all"&&B.push({label:"Connectivity",value:d.connectivityFilter}),B.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[9px] font-bold text-gray-500 dark:text-gray-400 uppercase ml-1",children:"Active Filters:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:B.map((Y,I)=>a.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-white dark:bg-slate-800 px-2.5 py-1 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:[Y.label,":"]}),a.jsx("span",{className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:Y.value})]},I))})]}):a.jsx("div",{className:"text-center py-2",children:a.jsx("p",{className:"text-[10px] font-bold text-gray-400",children:"No filters applied - targeting all customers"})})})()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Personalization Tags (Click to add)"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{tag:"{FirstName}",label:"First Name"},{tag:"{LastName}",label:"Last Name"},{tag:"{Isp}",label:"ISP Name"},{tag:"{Expiry}",label:"Expiry Date"},{tag:"{PackageName}",label:"Package"},{tag:"{PaidAmount}",label:"Paid Amt"},{tag:"{PackageAmount}",label:"Price"},{tag:"{PhoneNumber}",label:"Phone"}].map(B=>a.jsx("button",{type:"button",onClick:()=>{b(Y=>Y+" "+B.tag),N!=="custom"&&k("custom")},className:"text-[10px] font-bold px-2 py-1 bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-300 rounded-md hover:bg-blue-600 hover:text-white transition-colors",children:B.label},B.tag))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Message Body"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:N,onChange:C,className:"text-[10px] font-bold bg-transparent border-none text-blue-600 p-0 focus:ring-0 cursor-pointer",children:[a.jsx("option",{value:"custom",children:"Custom Message"}),A.filter(B=>B.category==="SMS").map(B=>a.jsx("option",{value:B.id,children:B.name},B.id))]})})]}),a.jsx("textarea",{required:!0,rows:6,value:g,onChange:B=>{b(B.target.value),N!=="custom"&&k("custom")},placeholder:"Type your message here or click tags above...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm leading-relaxed"}),a.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 mt-1 px-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Variables will be replaced per recipient"]}),a.jsxs("span",{className:g.length>160?"text-orange-500":"",children:[g.length," / 160 Characters (",~~(g.length/160+1)," SMS)"]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-slate-800",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),disabled:x,className:"px-6 py-2.5 rounded-xl text-sm font-bold bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Discard"}),a.jsx("button",{type:"submit",disabled:x,className:"px-8 py-2.5 rounded-xl text-sm font-black bg-blue-600 text-white shadow-xl shadow-blue-500/30 hover:bg-blue-700 active:scale-95 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",children:x?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending... ",h.current>0&&`(${h.current}/${h.total})`]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Broadcast Message"]})})]})]})})},KN=()=>{const s=Ws(),[l,i]=y.useState(""),[o,d]=y.useState(!1),[f,m]=y.useState(1),[g,b]=y.useState(10),[x,v]=y.useState(!1),[h,S]=y.useState(""),[A,j]=y.useState(""),[N,k]=y.useState("all"),[C,L]=y.useState(""),[M,B]=y.useState(""),[Y,I]=y.useState(""),[W,de]=y.useState(""),[ne,ae]=y.useState(null),[Z,fe]=y.useState(!1),[G,ue]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),[me,O]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),[U,le]=y.useState(()=>JSON.parse(localStorage.getItem(ve.SITES)||"[]")),[D,q]=y.useState(!1),{can:E}=za();y.useEffect(()=>{Q(),T(),H()},[]),y.useEffect(()=>{m(1)},[l,h,A,C]);const T=async()=>{try{const ie=await Xs.getAll();ue(ie.data||[]),localStorage.setItem(ve.PACKAGES,JSON.stringify(ie.data||[]))}catch(ie){console.error("Error fetching packages:",ie)}},H=async()=>{try{v(!0);const ie=await zt.getAll();console.log({customersRes:ie});const jt=ie.data||[];O(jt),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(jt))}catch(ie){console.error("Error loading initial data:",ie)}finally{v(!1)}},Q=async()=>{try{const jt=(await Sl.getAll()).data||[];le(jt),localStorage.setItem(ve.SITES,JSON.stringify(jt))}catch(ie){console.error("Error fetching sites:",ie)}},re=y.useMemo(()=>({total:me.length,active:me.filter(ie=>ie.status==="active").length,expired:me.filter(ie=>ie.status==="expired").length,online:me.filter(ie=>ie.isOnline).length}),[me]),ge=ie=>typeof ie=="string"?ie:ie&&typeof ie=="object"&&"name"in ie?String(ie.name??""):"",we=y.useMemo(()=>me.filter(ie=>{if(!(`${ie.firstName} ${ie.lastName}`.toLowerCase().includes(l.toLowerCase())||ie.phone.includes(l)||ie.radiusUsername.toLowerCase().includes(l.toLowerCase())||ie.email?.toLowerCase().includes(l.toLowerCase())))return!1;const Qa=!h||ie.siteId===h,tt=!A||ie.status===A,Za=!C||ie.packageId===C,Qe=ge(ie.location),pt=!M||Qe.toLowerCase().includes(M.toLowerCase()),pa=!Y||ie.apartment.toLowerCase().includes(Y.toLowerCase()),kt=!W||ie.houseNo.toLowerCase().includes(W.toLowerCase()),_n=!!ie.isOnline;return Qa&&tt&&Za&&pt&&pa&&kt&&(N==="all"||(N==="online"?_n:!_n))}),[me,l,h,A,N,C,M,Y,W]),ke=y.useMemo(()=>{const ie=(f-1)*g;return we.slice(ie,ie+g)},[we,f,g]),He=Math.ceil(we.length/g),ma=()=>{S(""),j(""),k("all"),L(""),B(""),I(""),de(""),i("")},ea=[h,A,C,M,Y,W].filter(Boolean).length+(N!=="all"?1:0),ha=()=>{ae({connectionType:"PPPoE",installationFee:0}),fe(!0)},Mn=()=>{const Ua=[["First Name","Last Name","Phone","Email","Status","Package","Expiry Date","Radius Username","Radius Password","Location","Apartment","House No","Connection Type","Site","Balance","Is Online"].join(","),...we.map(Qe=>{const pt=U.find(pa=>pa.id===Qe.siteId);return[`"${Qe.firstName}"`,`"${Qe.lastName}"`,`"${Qe.phone}"`,`"${Qe.email||""}"`,`"${Qe.status}"`,`"${Qe.package?.name||""}"`,`"${new Date(Qe.expiryDate).toISOString().split("T")[0]}"`,`"${Qe.radiusUsername}"`,`"${Qe.radiusPassword}"`,`"${ge(Qe.location)}"`,`"${Qe.apartment||""}"`,`"${Qe.houseNo||""}"`,`"${Qe.connectionType||""}"`,`"${pt?.name||""}"`,`"${Qe.balance||0}"`,`"${Qe.isOnline?"Yes":"No"}"`].join(",")})].join(`
`),Qa=new Blob([Ua],{type:"text/csv;charset=utf-8;"}),tt=document.createElement("a"),Za=URL.createObjectURL(Qa);tt.setAttribute("href",Za),tt.setAttribute("download",`customers_${new Date().toISOString().split("T")[0]}.csv`),tt.style.visibility="hidden",document.body.appendChild(tt),tt.click(),document.body.removeChild(tt)},ta=()=>{q(!0)};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Total Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-gray-900 dark:text-white leading-none",children:re.total})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest",children:"Active Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-emerald-600 dark:text-emerald-400 leading-none",children:re.active})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-red-500 tracking-widest",children:"Expired Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-red-600 dark:text-red-400 leading-none",children:re.expired})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest",children:"Online Users"})]}),a.jsx("p",{className:"text-3xl font-black text-center text-emerald-600 dark:text-emerald-400 leading-none",children:re.online})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6 p-1",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:"Customer Database"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Manage subscribers, connections, and billing status."})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[a.jsxs("button",{type:"button",onClick:()=>d(!o),className:`relative px-4 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 border ${o||ea>0?"bg-blue-600 border-blue-600 text-white shadow-md shadow-blue-500/20":"bg-white border-slate-200 dark:bg-slate-900 dark:border-slate-800 text-slate-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),a.jsx("span",{className:"hidden sm:inline",children:"Filters"}),ea>0&&a.jsx("span",{className:`flex items-center justify-center w-5 h-5 text-[10px] rounded-full ${o?"bg-white text-blue-600":"bg-blue-600 text-white"}`,children:ea})]}),a.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl items-center",children:[a.jsx("button",{title:"Upload Customers",className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),a.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600 mx-1"}),a.jsx("button",{title:"Download CSV",onClick:Mn,className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),a.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600 mx-1"}),E("send-bulk-messages")&&a.jsx("button",{title:"Send Bulk SMS",className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 transition-all",onClick:ta,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})]}),E("create-customers")&&a.jsxs("button",{type:"button",onClick:ha,className:"bg-blue-600 hover:bg-blue-700 active:scale-95 text-white px-5 py-2.5 rounded-xl text-sm font-black shadow-lg shadow-blue-500/25 transition-all flex items-center gap-2",children:[a.jsx("div",{className:"bg-white/20 rounded-lg p-0.5",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),"Register ",a.jsx("span",{className:"",children:"Customer"})]})]})]}),o&&a.jsx(Le,{title:"Advanced Parameters",className:"animate-in slide-in-from-top-4 duration-300 border-none shadow-xl bg-gray-50/50 dark:bg-slate-900/50",children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Network Site"}),a.jsxs("select",{value:h,onChange:ie=>S(ie.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white appearance-none font-bold",children:[a.jsx("option",{value:"",children:"All Sites"}),U.map(ie=>a.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Account Status"}),a.jsxs("select",{value:A,onChange:ie=>j(ie.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white appearance-none font-bold",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"suspended",children:"Paused"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Live Connectivity"}),a.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 gap-1 border border-transparent focus-within:ring-2 focus-within:ring-blue-500",children:["all","online","offline"].map(ie=>a.jsx("button",{onClick:()=>k(ie),className:`flex-1 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-tighter transition-all ${N===ie?"bg-blue-600 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:ie},ie))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Internet Package"}),a.jsxs("select",{value:C,onChange:ie=>L(ie.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white appearance-none font-bold",children:[a.jsx("option",{value:"",children:"All Packages"}),G.map(ie=>a.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Area Location"}),a.jsx("input",{type:"text",placeholder:"e.g. Githurai",value:M,onChange:ie=>B(ie.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Apartment / Bldg"}),a.jsx("input",{type:"text",placeholder:"e.g. Hadasa",value:Y,onChange:ie=>I(ie.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Hse / Unit No"}),a.jsx("input",{type:"text",placeholder:"e.g. A4",value:W,onChange:ie=>de(ie.target.value),className:"w-full bg-white dark:bg-slate-800 border-none rounded-xl text-xs p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:ma,className:"w-full py-2.5 text-xs font-black text-red-500 hover:text-red-600 transition-colors uppercase tracking-widest",children:"Clear All Filters"})})]})}),a.jsxs(Le,{title:"Subscribers",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by name, username, phone or email...",value:l,onChange:ie=>i(ie.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("p",{className:"text-xs text-gray-400 italic",children:["Showing ",we.length," of ",me.length," subscribers"]})})]}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm whitespace-nowrap sm:whitespace-normal",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"pb-3 px-6",children:"Customer"}),a.jsx("th",{className:"pb-3 px-6",children:"Status"}),a.jsx("th",{className:"pb-3 px-6",children:"Connectivity"}),a.jsx("th",{className:"pb-3 px-6",children:"Radius"}),a.jsx("th",{className:"pb-3 px-6",children:"Service Plan"}),a.jsx("th",{className:"pb-3 px-6",children:"Physical Address"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:ke.length>0?ke.map(ie=>{const jt=!!ie.isOnline;return a.jsxs("tr",{onClick:()=>s(`/crm/customers/${ie.id}`),className:"group hover:bg-gray-50 dark:hover:bg-slate-800/20 transition-all cursor-pointer",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center font-bold text-base flex-shrink-0",children:ie.firstName?.charAt(0)||"?"}),x?a.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"}):a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white dark:border-slate-900 ${jt?"bg-green-500":"bg-red-300"}`})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:[ie.firstName," ",ie.lastName]}),ie.parentId&&a.jsx("span",{className:"text-[9px] bg-purple-100 text-purple-600 dark:bg-purple-900/30 px-2 py-0.5 rounded-full font-black uppercase",children:"Child"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:ie.phone})]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx(it,{variant:ie.status,children:ie.status})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex flex-col",children:x?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"w-2.5 h-2.5 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-[10px] text-blue-400 font-medium",children:"Syncing..."})]}):jt?a.jsxs("span",{className:"text-[10px] text-green-500 font-bold flex items-center gap-1",children:[a.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse"}),"Online"]}):a.jsx("span",{className:"text-[10px] text-red-400 font-medium italic",children:"Offline"})})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"User:"}),a.jsx("code",{className:"text-xs font-mono font-semibold text-gray-700 dark:text-gray-300",children:ie.radiusUsername})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Pass:"}),a.jsx("code",{className:"text-xs font-mono font-semibold text-gray-700 dark:text-gray-300",children:ie.radiusPassword})]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400",children:ie.package?.name}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:["Exp: ",new Date(ie.expiryDate).toDateString()]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[ie.houseNo&&`${ie.houseNo}, `,ie.apartment,a.jsx("br",{}),a.jsx("span",{className:"text-gray-400 font-bold uppercase text-[9px] tracking-wider",children:ge(ie.location)})]})})]},ie.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center text-gray-400 italic",children:"No subscribers found matching your criteria. Try adjusting your filters."})})})]})}),a.jsx(Xr,{currentPage:f,setCurrentPage:m,totalPages:He,rowsPerPage:g,setRowsPerPage:b})]}),a.jsx(zg,{isOpen:Z,onClose:()=>fe(!1),setIsCustomerModalOpen:fe,editingCustomer:ne,setEditingCustomer:ae,customers:me}),a.jsx(XN,{isBulkSmsOpen:D,setIsBulkSmsOpen:q,filteredCustomers:we,totalCustomers:me.length,activeFilters:{searchTerm:l,siteFilter:h,statusFilter:A,packageFilter:C,locationFilter:M,apartmentFilter:Y,houseNoFilter:W,connectivityFilter:N},packages:G,sites:U})]})};function FN(){const[s,l]=y.useState(""),[i,o]=y.useState(!1),[d,f]=y.useState(!1),[m,g]=y.useState(null),[b,x]=y.useState(!1),[v,h]=y.useState(!1),[S,A]=y.useState(!1),[j,N]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PAYMENTS)||"[]")),k=Ws();return{state:{smsText:s,isSmsModalOpen:i,isCustomerModalOpen:d,editingCustomer:m,isDepositModalOpen:b,isPackageModalOpen:v,isReconcileModalOpen:S,payments:j},actions:{setSmsText:l,setIsSmsModalOpen:o,deleteCustomer:async I=>{const W=I.subAccounts&&I.subAccounts.length>0,de=W?`Warning: This account has ${I.subAccounts.length} sub-accounts (${I.subAccounts.map(ae=>ae.radiusUsername).join(", ")}). Deleting this master account will delete ALL of them.`:"This will permanently remove the customer and their RADIUS access.";if((await Tt.fire({title:"Are you sure?",text:de,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:W?"Yes, Delete All":"Yes, Delete",cancelButtonText:"Cancel"})).isConfirmed)try{Tt.showLoading(),await zt.delete(`${I.id}?cascade=true`),oe.success("All accounts deleted successfully"),k("/crm/customers")}catch(ae){oe.error(ae.response?.data?.message||"Failed to delete"),Tt.close()}},handleEdit:I=>{g(I),f(!0)},handlePauseService:async I=>{const W=I.status==="suspended",de=W?"Resume Service":"Pause Service",ne=W?"This will restore their service with the remaining time they had left.":"This will pause their service and save their remaining time for later.";if((await Tt.fire({title:`${de}?`,text:ne,icon:"question",showCancelButton:!0,confirmButtonColor:W?"#10b981":"#f59e0b",confirmButtonText:`Yes, ${de}`,cancelButtonText:"Cancel"})).isConfirmed)try{Tt.showLoading(),W?(await zt.resumeSubscription(I.id),oe.success("Service resumed successfully")):(await zt.pauseSubscription(I.id),oe.success("Service paused successfully")),window.location.reload()}catch(Z){oe.error(Z.response?.data?.message||`Failed to ${de.toLowerCase()}`),Tt.close()}},handleAddChild:I=>{g({parentId:I.id,firstName:I.firstName,lastName:I.lastName,phone:I.phone,email:I.email}),f(!0)},handleStkPush:async I=>{if(!I?.phone){oe.error("Customer phone number is missing");return}const W=Math.max(1,Number(I.package?.price||1)),de=await Tt.fire({title:"Initiate STK Push",html:`<div style="text-align:left;"><div style="margin-bottom:8px;"><strong>Customer:</strong> ${I.firstName||""} ${I.lastName||""}</div><div style="margin-bottom:8px;"><strong>Phone:</strong> ${I.phone}</div><div style="margin-bottom:8px;"><strong>Package:</strong> ${I.package?.name||"N/A"}</div></div>`,input:"number",inputLabel:"Amount (KSH)",inputValue:W,inputAttributes:{min:"1",step:"1"},showCancelButton:!0,confirmButtonText:"Send STK Push",cancelButtonText:"Cancel",preConfirm:ne=>{const ae=Number(ne);return!ae||Number.isNaN(ae)||ae<1?(Tt.showValidationMessage("Enter a valid amount"),null):ae}});if(de.isConfirmed)try{Tt.fire({title:"Sending STK Push...",allowOutsideClick:!1,didOpen:()=>{Tt.showLoading()}}),await Js.stkPushPayhero({phone:I.phone,amount:Number(de.value)}),Tt.close(),oe.success("STK push initiated. Ask the customer to enter their PIN.")}catch(ne){Tt.close(),oe.error(ne?.message||"Failed to initiate STK push")}},setIsCustomerModalOpen:f,setEditingCustomer:g,setIsDepositModalOpen:x,setIsPackageModalOpen:h,setIsReconcileModalOpen:A,setPayments:N}}}const QN=({isOpen:s,setIsDepositModalOpen:l,customer:i,onSuccess:o})=>{const[d,f]=se.useState({amount:"",reason:""}),m=async g=>{if(g.preventDefault(),!d.amount||!d.reason){oe.warning("Amount and reason are required");return}try{await $x.create({customer_id:i.id,amount:parseFloat(d.amount),type:"credit",category:"Deposit",method:"Cash",description:d.reason}),oe.success(`Deposit of ${d.amount} applied successfully`),l(!1),o?.(),f({amount:"",reason:""})}catch(b){console.error("Error creating deposit:",b),oe.error("Failed to apply deposit. Please try again.")}};return a.jsx(Fe,{isOpen:s,onClose:()=>l(!1),title:"Manual Balance Credit",children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Deposit Amount (KSH)"}),a.jsx("input",{required:!0,type:"number",value:d.amount,onChange:g=>f({...d,amount:g.target.value}),placeholder:"e.g. 2500",className:"w-full bg-gray-50 dark:bg-slate-800 p-4 rounded-xl font-black border-none mt-1 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Reason for Credit"}),a.jsx("textarea",{required:!0,rows:3,value:d.reason,onChange:g=>f({...d,reason:g.target.value}),placeholder:"e.g. Overpayment reversal, Cash collection, Goodwill credit",className:"w-full bg-gray-50 dark:bg-slate-800 p-4 rounded-xl font-bold border-none mt-1 focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-4 rounded-xl font-black shadow-lg hover:bg-blue-500 transition-all active:scale-95",children:"Apply Manual Credit"})]})})},Kp=({technicalSpecs:s,customer:l,onRefresh:i})=>{const[o,d]=y.useState("Offline"),[f,m]=y.useState(!1),[g,b]=y.useState(!1),x=y.useRef(!1),v=y.useRef(2e3),h=s?.start_time,S=s?.is_online,{can:A}=za();y.useEffect(()=>{if(!h){d("Offline");return}const C=new Date(h.replace("+00:00","+03:00")).getTime(),L=setInterval(()=>{const M=new Date().getTime(),B=Math.floor((M-C)/1e3);if(B>=0){const Y=Math.floor(B/86400),I=Math.floor(B%86400/3600),W=Math.floor(B%3600/60),de=B%60;d(`${Y}d:${I}h:${W}m:${de.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(L)},[h,S]),y.useEffect(()=>{let C;if(S){v.current=2e3;return}const M=async()=>{S||(x.current||(x.current=!0,m(!0),await i(),x.current=!1,m(!1),v.current=Math.min(v.current*2,6e4),console.log("Next delay will be:",v.current)),C=setTimeout(M,v.current))};return C=setTimeout(M,v.current),()=>{C&&clearTimeout(C)}},[S,i]);const j=async C=>{try{const L=await zt.resetMacBinding(C);i(),oe.success(L.message)}catch(L){console.error("Error resetting MAC binding:",L),oe.error("Failed to reset MAC binding.")}},N=C=>{if(C<0)return"--";if(C<60)return`${C}s`;if(C<3600)return`${Math.floor(C/60)}m ${C%60}s`;const L=Math.floor(C/3600),M=Math.floor(C%3600/60);return`${L}h ${M}m`},k=C=>{if(C===0)return"0 B";const L=1024,M=["B","KB","MB","GB","TB"],B=Math.floor(Math.log(C)/Math.log(L));return parseFloat((C/Math.pow(L,B)).toFixed(2))+" "+M[B]};return a.jsxs(Le,{title:"Technical Specs",className:"border-none shadow-sm rounded-[2.5rem] bg-slate-900 text-white",children:[a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Allocated IP"}),a.jsx("p",{className:"text-sm font-mono font-bold text-blue-400",children:s?.framed_ip||"Not Assigned"})]}),a.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:a.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Device Type"}),a.jsx("p",{className:"text-sm font-mono font-bold text-blue-400",children:s?.device_vendor})]}),a.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:a.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Physical MAC"}),a.jsx("p",{className:"text-sm font-mono font-bold text-emerald-400",children:s?.calling_station_id||"Unbound"})]}),a.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:a.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A10.003 10.003 0 0012 3c1.268 0 2.49.234 3.62.661m-1.42 14.24l.066.088A10.018 10.018 0 0021 12c0-2.312-.783-4.441-2.091-6.13"})})})]}),a.jsxs("div",{className:" border-t border-white/5 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Last Uptime"}),a.jsx("span",{className:"text-sm font-mono font-bold text-purple-400",children:s?.last_uptime})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:`text-[12px] font-bold uppercase ${s?.is_online?"text-emerald-400":"text-red-400"}`,children:s?.is_online?"Online":"Offline"}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[f?a.jsx("span",{className:"w-2.5 h-2.5 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"}):a.jsx("span",{className:`w-2 h-2 rounded-full ${s?.is_online?"bg-emerald-500 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:`text-xs font-black font-mono tracking-widest ${s?.is_online?"text-emerald-600":"text-red-500"}`,children:o})]})]}),a.jsxs("div",{className:"flex gap-2",children:[A("flash-mac-binding")&&a.jsx("button",{onClick:()=>j(l.id),className:`w-1/2 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-xl text-[9px] 
                            font-black uppercase tracking-widest transition-all`,children:"Flush MAC"}),a.jsx("button",{onClick:()=>b(!0),className:`flex-1 py-2 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 rounded-xl text-[9px] 
                        font-black uppercase tracking-widest transition-all`,children:"Sess Details"})]})]})]}),a.jsx(Fe,{isOpen:g,onClose:()=>b(!1),title:`RADIUS Session History: ${l.radiusUsername}`,maxWidth:"max-w-6xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 text-gray-400 uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-6 text-left",children:"Start Time"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"Stop Time"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"Offline Time"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"Duration"}),a.jsx("th",{className:"py-3 px-6 text-left",children:"DL / UL"}),a.jsx("th",{className:"py-3 px-6 text-right",children:"Cause"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:s?.sessions?.map((C,L)=>{let M=-1;const B=s.sessions[L+1];if(B&&B.acctstoptime){const Y=new Date(C.acctstarttime).getTime(),I=new Date(B.acctstoptime).getTime();M=Math.floor((Y-I)/1e3)}return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/40 group",children:[a.jsx("td",{className:"py-4 px-6 font-medium text-gray-900 dark:text-slate-100 whitespace-nowrap",children:C.acctstarttime}),a.jsx("td",{className:"py-4 px-6 font-medium text-gray-900 dark:text-slate-100 whitespace-nowrap",children:C.acctstoptime||a.jsx("span",{className:"text-emerald-500 animate-pulse font-black",children:"ACTIVE"})}),a.jsx("td",{className:"py-4 px-6",children:M!==-1?a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`font-black text-[10px] ${M>300?"text-red-500":"text-gray-400"}`,children:N(M)}),a.jsx("span",{className:"text-[8px] text-gray-500 uppercase tracking-tighter font-bold",children:"since prev session"})]}):a.jsx("span",{className:"text-gray-400 italic",children:"Oldest Record"})}),a.jsx("td",{className:"py-4 px-6 font-bold text-gray-900 dark:text-slate-100 whitespace-nowrap",children:C.acctstoptime?N(Math.floor((new Date(C.acctstoptime).getTime()-new Date(C.acctstarttime).getTime())/1e3)):a.jsx("span",{className:"text-emerald-500 font-black",children:o})}),a.jsx("td",{className:"py-4 px-6 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-blue-600 font-bold",children:["DL: ",k(C.acctinputoctets)]}),a.jsxs("span",{className:"text-indigo-600 font-bold",children:["UL: ",k(C.acctoutputoctets)]})]})}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx("span",{className:`px-2 py-0.5 rounded uppercase font-black text-[9px] 
                                  ${C.acctterminatecause==="NAS-Error"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:C.acctterminatecause})})]},C.radacctid)})})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t dark:border-slate-800",children:[a.jsxs("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-tighter",children:["Last synced with MikroTik: ",new Date().toLocaleTimeString()]}),a.jsx("button",{onClick:()=>b(!1),className:`px-6 py-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-[10px] 
                      font-black uppercase rounded-xl`,children:"Close Intelligence"})]})]})})]})},ZN=({isChangeDateModalOpen:s,setIsChangeDateModalOpen:l,customer:i,onSuccess:o})=>{const[d,f]=y.useState(""),[m,g]=y.useState(!1);y.useEffect(()=>{s.type||l({open:!1,type:""})},[]);const b=async()=>{if(!i?.id||!d){oe.error("Please select a date");return}g(!0);try{const v=s.type==="expiry"?{expiry_date:d}:{extension_date:d};console.log({payload:v}),await zt.update(String(i.id),v),oe.success(s.type==="expiry"?"Expiry date updated successfully!":"Extension date updated successfully!"),f(""),l({open:!1,type:""}),o?.()}catch(v){oe.error(v.message||"Failed to update date. Please try again.")}finally{g(!1)}},x=()=>{f(""),l({open:!1,type:""})};return a.jsx(Fe,{isOpen:s.open,onClose:x,title:s.type==="expiry"?"Change expiry date":"Extend subscription",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:s.type==="expiry"?"New Expiry Date":"Extension Date"}),a.jsx("input",{type:"datetime-local",value:d,onChange:v=>f(v.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 p-4 rounded-xl font-bold border border-gray-200 dark:border-slate-700 mb-4"}),i&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:s.type==="expiry"?`Current expiry: ${new Date(i.expiryDate).toLocaleString()}`:`Current extension: ${i.extensionDate?new Date(i.extensionDate).toLocaleString():"Not set"}`})]}),a.jsx("button",{onClick:b,disabled:m||!d,className:`w-full py-4 rounded-xl font-black shadow-lg transition-all ${m||!d?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-500/20"}`,children:m?"Updating...":"Commit Renewal"})]})})},JN=({isOpen:s,onClose:l,customer:i,onSuccess:o})=>{const[d,f]=y.useState(""),[m,g]=y.useState([]),[b,x]=y.useState(!1),[v,h]=y.useState(!1);y.useEffect(()=>{if(!s)return;(async()=>{h(!0);try{const k=localStorage.getItem(ve.PACKAGES);k&&g(JSON.parse(k));const L=(await Xs.getAll()).data||[];g(L),localStorage.setItem(ve.PACKAGES,JSON.stringify(L))}catch(k){console.error("Error fetching packages:",k),oe.error("Failed to load packages")}finally{h(!1)}})()},[s]);const S=async()=>{if(!i?.id||!d){oe.error("Please select a package");return}if(d===i.packageId){oe.error("Please select a different package than the current one");return}x(!0);try{const N={package_id:d};await zt.update(String(i.id),N);const k=m.find(C=>C.id===d);oe.success(`Subscription updated to ${k?.name} successfully!`),f(""),l(),o?.()}catch(N){oe.error(N.message||"Failed to update subscription. Please try again.")}finally{x(!1)}},A=m.find(N=>N.id===i?.packageId),j=m.find(N=>N.id===d);return a.jsx(Fe,{isOpen:s,onClose:l,title:"Change Subscription Plan",maxWidth:"max-w-2xl",children:a.jsxs("div",{className:"space-y-6",children:[A&&a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-800",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-600 dark:text-blue-400 tracking-widest mb-2",children:"Current Subscription"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:A.name}),a.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[A.speed_down," / ",A.speed_up]})]}),a.jsxs("p",{className:"text-lg font-black text-blue-600 dark:text-blue-400",children:["KSH ",A.price.toLocaleString()]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1 block mb-3",children:"Select New Package"}),v?a.jsxs("div",{className:"flex items-center justify-center py-6",children:[a.jsx("div",{className:"w-6 h-6 border-3 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading packages..."})]}):m.length===0?a.jsx("div",{className:"py-6 text-center text-gray-500",children:a.jsx("p",{className:"text-sm",children:"No packages available"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.map(N=>a.jsxs("div",{onClick:()=>f(N.id),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${d===N.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":N.id===i?.packageId?"border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 opacity-60":"border-gray-200 dark:border-slate-700 hover:border-blue-400"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:N.name}),a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:[N.speed_down," / ",N.speed_up]})]}),N.id===i?.packageId&&a.jsx("span",{className:"text-[8px] font-black uppercase text-gray-400 bg-gray-200 dark:bg-slate-700 px-2 py-1 rounded",children:"Current"})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-slate-700",children:[a.jsxs("span",{className:"text-[10px] text-gray-500",children:[N.validity_days," days"]}),a.jsxs("span",{className:"text-lg font-black text-blue-600 dark:text-blue-400",children:["KSH ",N.price.toLocaleString()]})]})]},N.id))})]}),j&&j.id!==i?.packageId&&a.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-800",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-600 dark:text-emerald-400 tracking-widest mb-2",children:"New Package Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Package Name:"}),a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:j.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Speed:"}),a.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[j.speed_down," / ",j.speed_up]})]}),a.jsxs("div",{className:"flex justify-between border-t border-emerald-200 dark:border-emerald-800 pt-2 mt-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:"Monthly Cost:"}),a.jsxs("span",{className:"text-lg font-black text-emerald-600 dark:text-emerald-400",children:["KSH ",j.price.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:l,className:"py-3 bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 text-[10px] font-black uppercase rounded-xl hover:bg-gray-200 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:b||!d||d===i?.packageId,className:`py-3 text-[10px] font-black uppercase rounded-xl transition-all ${b||!d||d===i?.packageId?"bg-blue-400 dark:bg-blue-800 text-white opacity-60 cursor-not-allowed":"bg-blue-600 dark:bg-blue-700 text-white hover:bg-blue-700 dark:hover:bg-blue-600 shadow-lg shadow-blue-500/20 active:scale-95"}`,children:b?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"inline-block w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating..."]}):"Update Plan"})]})]})})},WN=s=>({id:s?.id?.toString()||"",subscriberId:s?.customer_id?.toString()||"",mpesaCode:s?.mpesa_code||s?.mpesaCode||"",amount:Number(s?.amount)||0,billRef:s?.bill_ref||s?.billRef||"",phone:s?.phone||"",firstName:s?.first_name||s?.firstName||"",lastName:s?.last_name||s?.lastName||"",timestamp:s?.created_at||s?.timestamp||"",status:s?.status||"pending"}),e4=({customer:s,isResolveModalOpen:l,setIsResolveModalOpen:i,onClose:o,onSuccess:d})=>{const[f,m]=se.useState([]),[g,b]=se.useState(!1),[x,v]=se.useState(!1),[h,S]=se.useState(""),[A,j]=se.useState(null),[N,k]=se.useState(!1),[C,L]=se.useState(null),[M,B]=se.useState(s?.id||""),[Y,I]=se.useState("");y.useEffect(()=>{if(!l)return;let G=!0;return(async()=>{b(!0),I(""),S(""),j(null),B(s?.id||"");try{const me=await Js.getPending(),O=Array.isArray(me?.data)?me.data:me?.data?.data||[];G&&m(O.map(WN))}catch(me){console.error("Error fetching pending payments:",me),G&&(m([]),I(me?.message||"Failed to load pending payments"))}finally{G&&b(!1)}})(),()=>{G=!1}},[s?.id,l]);const W=()=>{i(!1),j(null),k(!1),L(null),B(""),S(""),I(""),o&&o()},de=async G=>{if(!(!G||!M||x)){v(!0),j(G),I("");try{await Js.resolvePending(G.id,M),m(ue=>ue.filter(me=>me.id!==G.id)),d&&d(),W()}catch(ue){console.error("Error resolving payment:",ue),I(ue?.message||"Failed to resolve pending payment")}finally{v(!1),j(null)}}},ne=G=>{!G||x||(L(G),k(!0))},ae=()=>{k(!1),L(null)},Z=async()=>{C&&(k(!1),await de(C),L(null))},fe=y.useMemo(()=>{const G=h.trim().toLowerCase();return f.filter(ue=>ue.status!=="pending"?!1:G?ue.mpesaCode.toLowerCase().includes(G)||ue.phone.includes(G)||ue.lastName.toLowerCase().includes(G):!0)},[f,h]);return a.jsx(Fe,{isOpen:l,onClose:W,title:"Search Pending Receipts",maxWidth:"max-w-lg",children:a.jsxs("div",{className:"relative space-y-4",children:[a.jsxs("p",{className:"text-[10px] font-black uppercase text-gray-400 bg-gray-50 dark:bg-slate-800 px-3 py-2 rounded-lg border border-gray-100 dark:border-slate-700",children:["Select a pending transaction to link to ",s?.firstName||"subscriber"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search M-Pesa Code or Phone...",value:h,onChange:G=>S(G.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold focus:ring-2 focus:ring-blue-500"})]}),Y&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-800",children:a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:Y})}),a.jsx("div",{className:"max-h-[350px] overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:g?a.jsx("div",{className:"py-16 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-2 text-gray-400 text-xs font-semibold",children:[a.jsx("span",{className:"inline-block w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}),"Loading pending receipts..."]})}):fe.length>0?fe.map(G=>a.jsxs("div",{onClick:()=>ne(G),className:`p-4 bg-white dark:bg-slate-800 rounded-xl border border-gray-100 dark:border-slate-700 transition-all group shadow-sm ${x?"cursor-not-allowed opacity-70":"hover:border-blue-500 cursor-pointer"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:"font-mono font-black text-gray-900 dark:text-white tracking-tight",children:G.mpesaCode}),a.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-black text-sm",children:["KSH ",G.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[a.jsxs("span",{className:"text-gray-400 font-bold uppercase tracking-tighter",children:["Phone: ",G.phone]}),a.jsx("span",{className:"text-blue-500 font-black uppercase tracking-widest transition-opacity",children:A?.id===G.id?"Linking...":"Select Payment & Link"})]})]},G.id)):a.jsx("div",{className:"py-20 text-center",children:a.jsx("p",{className:"text-xs text-gray-400 italic font-medium",children:"No pending payments match your search."})})}),N&&a.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black/40 backdrop-blur-[1px] p-4",children:a.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 p-5 shadow-2xl",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Confirm Link"}),a.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-white mt-1",children:["Link this receipt to ",s?.firstName||"this subscriber","?"]})]}),a.jsx("button",{onClick:ae,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200","aria-label":"Close confirmation",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"mt-4 rounded-xl border border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/60 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-slate-200",children:C?.mpesaCode||"Receipt"}),a.jsxs("span",{className:"text-xs font-black text-emerald-600 dark:text-emerald-400",children:["KSH ",C?.amount.toLocaleString()]})]}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-500 dark:text-slate-300",children:["Phone: ",C?.phone||"-"]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:ae,className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-4 py-2 text-xs font-black uppercase text-slate-500 dark:text-slate-300 transition-colors hover:bg-slate-100 dark:hover:bg-slate-700",children:"Cancel"}),a.jsx("button",{onClick:Z,className:"rounded-xl bg-blue-600 px-4 py-2 text-xs font-black uppercase text-white shadow-lg shadow-blue-600/30 transition-colors hover:bg-blue-500",children:"Confirm Link"})]})]})})]})})},Fp=({customerPayments:s})=>{const[l,i]=y.useState(1),[o,d]=y.useState(5),f=Math.max(1,Math.ceil((s?.length||0)/o)),m=(l-1)*o,g=(s||[]).slice(m,m+o);return a.jsxs(Le,{title:"Payment Ledger History",className:"rounded-[2.5rem] border-none shadow-sm overflow-hidden",children:[a.jsx("div",{className:"max-h-[420px] overflow-y-auto overflow-x-auto -mx-6 -mt-4",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30 border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Date"}),a.jsx("th",{className:"py-4 px-6",children:"M-Pesa Code"}),a.jsx("th",{className:"py-4 px-6",children:"Description"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Phone"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:g.length>0?g.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-xs text-gray-500 font-medium",children:new Date(b.timestamp).toLocaleString()}),a.jsx("td",{className:"py-4 px-6 font-mono font-black text-gray-900 dark:text-white tracking-widest",children:b.mpesaCode}),a.jsx("td",{className:"py-4 px-6 text-xs text-gray-400",children:b.billRef}),a.jsxs("td",{className:"py-4 px-6 font-black text-emerald-600",children:["KSH ",b.amount.toLocaleString()]}),a.jsx("td",{className:"py-4 px-6 font-mono text-gray-700 dark:text-gray-300",children:b.phone}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx(it,{variant:b.status,children:b.status.toUpperCase()})})]},b.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-12 text-center text-gray-400 italic",children:"No transaction history found for this subscriber."})})})]})}),a.jsx(Xr,{currentPage:l,setCurrentPage:i,totalPages:f,rowsPerPage:o,setRowsPerPage:d})]})},t4=({state:s,actions:l,customer:i})=>{const[o,d]=se.useState(""),[f,m]=se.useState([]),[g,b]=se.useState("custom");y.useEffect(()=>{(async()=>{const j=(await Zs.get())?.settings||{};j["notes-template"]&&Array.isArray(j["notes-template"].templates)&&m(j["notes-template"].templates)})()},[]),y.useEffect(()=>{s.isSmsModalOpen||(b("custom"),d(""))},[s.isSmsModalOpen]);const x=S=>{const A=S.target.value;if(b(A),A==="custom")return;const j=f.find(N=>N.id===A);if(j&&i){const N=v(j.content,i);d(N)}},v=(S,A)=>S.replace(/{FirstName}/gi,A.firstName||"").replace(/{LastName}/gi,A.lastName||"").replace(/{Isp}/gi,A.organization?.name||"ISP").replace(/{Expiry}/gi,A.expiryDate||"").replace(/{PackageName}/gi,A.package?.name||"").replace(/{PaidAmount}/gi,A.lastPayment?.amount?.toString()||"0").replace(/{PackageAmount}/gi,A.package?.price?.toString()||"0").replace(/{PhoneNumber}/gi,A.phone||""),h=async S=>{if(!o.trim()){alert("Please enter a message");return}try{l.setIsSmsModalOpen(!1);const A=v(o,S);d("");const j=await Gu.send(S.phone,A,S.id);oe.success("SMS sent successfully!")}catch(A){console.error("SMS send error:",A);const j=A.response?.data?.error||A.response?.data?.message,N=A.message||"Unknown error";oe.error(`Failed: ${j||N}`),d(o),l.setIsSmsModalOpen(!0)}};return a.jsx(Fe,{isOpen:s.isSmsModalOpen,onClose:()=>l.setIsSmsModalOpen(!1),title:`Compose Transmission to ${i.firstName}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-800 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-600 rounded-lg text-white",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-600 tracking-widest leading-none mb-1",children:"Destination Phone"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:i.phone})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Personalization Tags (Click to add)"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{tag:"{FirstName}",label:"First Name"},{tag:"{LastName}",label:"Last Name"},{tag:"{Isp}",label:"ISP Name"},{tag:"{Expiry}",label:"Expiry Date"},{tag:"{PackageName}",label:"Package"},{tag:"{PaidAmount}",label:"Paid Amt"},{tag:"{PackageAmount}",label:"Price"},{tag:"{PhoneNumber}",label:"Phone"}].map(S=>a.jsx("button",{type:"button",onClick:()=>{d(A=>A+" "+S.tag),g!=="custom"&&b("custom")},className:"text-[10px] font-bold px-2 py-1 bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-300 rounded-md hover:bg-emerald-600 hover:text-white transition-colors",children:S.label},S.tag))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-end mb-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Message Body"}),a.jsxs("select",{value:g,onChange:x,className:"text-[10px] font-bold bg-transparent border-none text-emerald-600 p-0 focus:ring-0 cursor-pointer",children:[a.jsx("option",{value:"custom",children:"Custom Message"}),f.filter(S=>S.category==="SMS").map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))]})]}),a.jsx("textarea",{value:o,onChange:S=>{d(S.target.value),g!=="custom"&&b("custom")},rows:4,placeholder:"Enter SMS content or select a template...",className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-2xl p-4 text-sm font-medium text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"}),a.jsxs("p",{className:"text-[10px] text-right text-gray-400 font-bold mt-1 uppercase tracking-tighter",children:[o.length," Characters"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[a.jsx("button",{onClick:()=>l.setIsSmsModalOpen(!1),className:"py-3 bg-gray-100 dark:bg-slate-800 text-gray-500 text-[10px] font-black uppercase rounded-xl",children:"Discard"}),a.jsx("button",{onClick:()=>h(i),className:"py-3 bg-emerald-600 text-white text-[10px] font-black uppercase rounded-xl shadow-lg shadow-emerald-500/20 active:scale-95",children:"Transmit SMS"})]})]})})},a4=({customerId:s})=>{const[l,i]=y.useState(!1),[o,d]=y.useState([]),[f,m]=y.useState(!1),[g,b]=y.useState(!1);y.useEffect(()=>{l&&!g&&x()},[l]);const x=async()=>{m(!0);try{const S=typeof s=="string"?parseInt(s):s,A=await Gu.getLogs(S,5);console.log("Fetched SMS logs:",A),d(A.data||[]),b(!0)}catch(S){console.error("Failed to fetch SMS logs:",S),oe.error("Failed to load SMS logs")}finally{m(!1)}},v=()=>{i(!l)},h=S=>new Date(S).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs(Le,{title:"SMS Logs",className:"border-none shadow-sm rounded-[2.5rem]",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium italic",children:l?"SMS history for this customer":"Click to view SMS history"}),a.jsx("button",{onClick:v,className:"px-3 py-1.5 text-xs font-bold rounded-lg transition-all hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Hide"]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Show Logs"]})})]}),l&&a.jsx("div",{className:"mt-4 overflow-x-auto -mx-6 border-t dark:border-slate-800 animate-in slide-in-from-top-2 duration-300",children:f?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),a.jsx("p",{className:"text-sm font-medium",children:"No SMS logs found"}),a.jsx("p",{className:"text-xs mt-1",children:"SMS sent to this customer will appear here"})]}):a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-black",children:"Date"}),a.jsx("th",{className:"px-6 py-3 font-black",children:"Message"}),a.jsx("th",{className:"px-6 py-3 font-black",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:o.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:h(S.created_at)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("p",{className:"text-xs text-gray-900 dark:text-white line-clamp-2",children:S.message}),S.error_message&&a.jsxs("p",{className:"text-[10px] text-red-600 dark:text-red-400 mt-1",children:["Error: ",S.error_message]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${S.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:S.status})})]},S.id))})]})})]})},s4=()=>{const s=Ws(),{customerId:l}=$2(),[i,o]=y.useState(null),[d,f]=y.useState(null),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(),[S,A]=y.useState({open:!1,type:""}),[j,N]=y.useState(!1),k=se.useRef(null),{state:C,actions:L}=FN(),{can:M}=za(),B=y.useMemo(()=>i?C.payments.filter(G=>G.subscriberId===i.id||G.subscriberId===i.radiusUsername).sort((G,ue)=>new Date(ue.timestamp).getTime()-new Date(G.timestamp).getTime()):[],[C.payments,i]),Y=y.useMemo(()=>B.filter(G=>G.status==="completed").reduce((G,ue)=>G+ue.amount,0),[B]),I=y.useMemo(()=>{if(!i)return{value:0,unit:"Days"};const G=new Date,me=new Date(i.expiryDate).getTime()-G.getTime();if(me<=0)return{value:0,unit:"Days"};const O=Math.floor(me/(1e3*60)),U=Math.floor(me/(1e3*60*60)),le=Math.ceil(me/(1e3*60*60*24));return O<60?{value:O,unit:"Minutes"}:U<24?{value:U,unit:"Hours"}:{value:le,unit:"Days"}},[i?.expiryDate]),W=y.useMemo(()=>d?d.status==="active":!0,[d?.status]),de=y.useMemo(()=>d&&!i?.isIndependent&&!W,[d,i?.isIndependent,W]),ne=y.useMemo(()=>i?.status==="active"&&!de,[i?.status,de]);y.useEffect(()=>{if(!l)return;const G=`${l}-${j}`;k.current!==G&&(k.current=G,ae(),Z(),fe())},[l,j]);const ae=async()=>{if(l)try{const G=await zt.getTechnicalSpecs(l);console.log("Technical specs response:",G),h(G)}catch(G){console.error("Failed to fetch technical specs:",G)}},Z=async()=>{if(l){g(!0),x(null);try{const G=await zt.getWithRelations(l);console.log("Customer data response:",G);const{customer:ue}=G;o(ue),f(ue.parent||null)}catch(G){console.error("Failed to fetch customer:",G),x(G.message||"Failed to load customer details")}finally{g(!1)}}},fe=async()=>{try{const G=await Js.getAll(),ue=Array.isArray(G?.data)?G.data:G?.data?.data||[];L.setPayments(ue)}catch(G){console.error("Error fetching payments:",G)}};return m?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-semibold",children:"Loading customer details..."})]})}):b||!i?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600 font-semibold mb-4",children:b||"Customer not found"}),a.jsx("button",{onClick:()=>s("/crm/customers"),className:"px-4 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700",children:"Back to Customers"})]})}):a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-500 pb-20",children:[a.jsxs("div",{className:"flex md:items-center justify-between gap-4",children:[a.jsxs("button",{onClick:()=>s("/crm/customers"),className:"flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-blue-600 transition-colors w-fit group",children:[a.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-100 dark:border-slate-800 group-hover:border-blue-500 transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),a.jsx("span",{className:"hidden sm:block",children:"Back to customers"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[M("send-message")&&a.jsxs("button",{onClick:()=>L.setIsSmsModalOpen(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/20",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"Send SMS"]}),a.jsxs("button",{onClick:()=>L.handleEdit(i),className:"px-4 py-2 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-300 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-bold hover:bg-gray-50 dark:hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit Profile"]}),a.jsx("button",{onClick:()=>{L.deleteCustomer(i)},disabled:!M("delete-customers"),className:"p-2 bg-red-500/10 text-red-600 rounded-xl hover:bg-red-500/20 transition-all",title:"Delete Account",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-slate-800 p-8 overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 text-right flex flex-col items-end gap-2",children:a.jsx(it,{variant:ne?"active":i.status==="suspended"?"suspended":"expired",children:ne?"ACTIVE":i.status==="suspended"?"PAUSED":"EXPIRED"})}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:"w-32 h-32 rounded-[2rem] bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center text-5xl font-black text-white shadow-2xl shadow-blue-500/30 ring-4 ring-white dark:ring-slate-900",children:[i.firstName?.charAt(0)||"?",i.lastName?.charAt(0)||""]}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-8 h-8 rounded-xl border-4 border-white dark:border-slate-900 flex items-center justify-center shadow-lg ${ne?"bg-green-500":"bg-red-500"}`,children:a.jsx("div",{className:`w-2 h-2 rounded-full bg-white ${ne?"animate-pulse":""}`})})]}),a.jsxs("div",{className:"flex-1 text-center md:text-left",children:[a.jsxs("h3",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-tight mb-2",children:[i.firstName," ",i.lastName]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 mb-6",children:[a.jsxs("p",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-lg font-bold text-xs",children:["ID: ",i.id]}),a.jsxs("p",{className:"px-3 py-1 bg-slate-50 dark:bg-slate-800 text-slate-500 rounded-lg font-mono text-xs uppercase tracking-tighter",children:["@",i.radiusUsername]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-x-8 gap-y-4 text-left",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-blue-500 shadow-sm",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),a.jsx("span",{className:"font-bold text-sm",children:i.phone})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-blue-500 shadow-sm",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("span",{className:"font-bold text-sm truncate",children:i.email||"No Email Record"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-blue-500 shadow-sm",children:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.396 0 4.651.59 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 21a8 8 0 10-16 0"})]})}),a.jsx("span",{className:"font-bold text-sm truncate",children:i.radiusUsername||"No Username Record"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-indigo-500 shadow-sm",children:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-xs text-gray-900 dark:text-white uppercase tracking-tighter leading-none",children:i.location}),a.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[i.apartment,", House ",i.houseNo]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-indigo-500 shadow-sm",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3M3 11h18M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("p",{children:new Date(i.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"p-2 bg-gray-50 dark:bg-slate-800 rounded-xl text-indigo-500 shadow-sm",children:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11V7a4 4 0 10-8 0v4"}),a.jsx("rect",{x:"4",y:"11",width:"16",height:"10",rx:"2",ry:"2",strokeWidth:2})]})}),a.jsx("p",{children:i.radiusPassword||"No Password Record"})]})]})]})]})]})]}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Kp,{technicalSpecs:v,customer:i,onRefresh:async()=>{await ae()}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Le,{title:"Active Subscription",className:"border-none shadow-sm rounded-[2.5rem] bg-blue-50/30 dark:bg-blue-900/5",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-2xl font-black text-gray-900 dark:text-white leading-tight",children:i.package?.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-blue-600 tracking-widest",children:i.connectionType}),a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:[i.package?.speed_down," Plan"]})]})]}),a.jsxs("p",{className:"text-2xl font-black text-blue-600",children:["KSH ",i.package?.price.toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-blue-100 dark:border-blue-900/20",children:[i?.extensionDate&&a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Extension Date"}),a.jsx("span",{className:"text-[10px] font-bold text-gray-500",children:new Date(i.extensionDate).toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Expiry Date"}),a.jsx("span",{className:"text-[10px] font-bold text-gray-500",children:new Date(i.expiryDate).toLocaleString()})]}),a.jsx("p",{className:`text-xl font-black ${ne?I.unit!=="Days"||I.value<5?"text-red-500 animate-pulse":"text-emerald-500":"text-slate-400"}`,children:ne?`${I.value} ${I.unit} Remaining`:"Service Disconnected"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>L.handlePauseService(i),disabled:!M("manage-subscriptions"),className:`flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${i.status==="suspended"?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400 hover:bg-amber-200"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.status==="suspended"?"Resume Service":"Pause Service"]}),a.jsxs("button",{onClick:()=>A({open:!0,type:"extension"}),disabled:!M("change-expiry"),className:"flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-500/20 hover:bg-indigo-700 transition-all",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Extend Period"]})]}),a.jsx("button",{onClick:()=>A({open:!0,type:"expiry"}),disabled:!M("change-expiry"),className:"w-full py-3 border border-red-200 dark:border-blue-800 text-red-600 dark:text-red-400 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-red-50 dark:hover:bg-red-900/10 transition-all",children:"Change Expiry Date"}),a.jsx("button",{onClick:()=>L.setIsPackageModalOpen(!0),disabled:!M("change-packages"),className:"w-full py-3 border border-dashed border-blue-200 dark:border-blue-800 text-blue-600 dark:text-blue-400 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all",children:"Change Subscription Plan"})]})]})}),a.jsx(Le,{title:"Financial Insight",className:"border-none shadow-sm rounded-[2.5rem]",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-800",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Account Balance"}),a.jsxs("p",{className:`text-3xl font-black ${i.balance<0?"text-red-500":"text-emerald-500"}`,children:["KSH ",i.balance.toLocaleString()]})]}),a.jsx("div",{className:"p-3 bg-white dark:bg-slate-900 rounded-2xl shadow-sm",children:a.jsx("svg",{className:`w-8 h-8 ${i.balance<0?"text-red-500":"text-green-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsxs("div",{className:"p-5 bg-emerald-50/50 dark:bg-emerald-900/5 rounded-2xl border border-emerald-100 dark:border-emerald-900/20",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-1",children:"Total Lifetime Spend"}),a.jsxs("p",{className:"text-xl font-black text-emerald-700 dark:text-emerald-400",children:["KSH ",Y.toLocaleString()]}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold mt-1 uppercase italic",children:"Sum of all completed receipts"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:()=>L.setIsDepositModalOpen(!0),disabled:!M("adjust-balances"),className:"py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-[10px] font-black uppercase rounded-xl transition-all hover:opacity-90",children:"Direct Deposit"}),a.jsx("button",{onClick:()=>L.setIsReconcileModalOpen(!0),disabled:!M("manage-payments"),className:"py-3 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 text-[10px] font-black uppercase rounded-xl transition-all hover:bg-gray-50 dark:hover:bg-slate-800",children:"Reconcile M-Pesa"})]})]})})]}),a.jsx("div",{className:"hidden lg:block",children:a.jsx(Fp,{customerPayments:B})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(Kp,{technicalSpecs:v,customer:i,onRefresh:async()=>{await ae()}})}),a.jsxs(Le,{title:"Authentication Records",className:"border-none shadow-sm rounded-[2.5rem]",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("p",{className:"text-xs text-gray-500 font-medium italic",children:"Detailed RADIUS authentication and accounting trail."})}),a.jsx("div",{className:"mt-4 overflow-x-auto -mx-6 border-t dark:border-slate-800 animate-in slide-in-from-top-2 duration-300",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Reply"}),a.jsx("th",{className:"py-4 px-6",children:"Auth Status"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:v?.logs?.data?.map(G=>a.jsxs("tr",{className:"hover:bg-blue-50/10 transition-colors",children:[a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:G.reply})," ",a.jsx("br",{}),a.jsx("span",{className:" text-xs text-gray-500 font-mono",children:G.time})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx(it,{variant:G.status_label.toLowerCase()==="auth successful"?"active":"expired",children:G.status_label.toUpperCase()})})]},G.id))||a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"py-10 text-center text-xs text-gray-400 italic",children:"No logs found in the core database."})})})]})})]}),a.jsx(Le,{title:"Relational Hierarchy",className:"rounded-[2.5rem] border-none shadow-sm bg-purple-50/50 dark:bg-purple-900/5",children:a.jsxs("div",{className:"space-y-4",children:[d?a.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 rounded-2xl border border-purple-200 dark:border-purple-800 shadow-sm",children:[a.jsx("p",{className:"text-[9px] font-black text-purple-600 uppercase tracking-widest mb-2",children:"Primary Billing Parent"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[d.firstName," ",d.lastName]}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-mono",children:["@",d.radiusUsername]})]}),a.jsx("button",{onClick:()=>s(`/crm/customers/${d.id}`),className:"px-3 py-1 bg-purple-100 dark:bg-purple-800 text-purple-600 dark:text-purple-300 rounded-lg text-[10px] font-black uppercase tracking-tighter",children:"Switch"})]})]}):a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-900 rounded-2xl border border-purple-200 dark:border-purple-800 shadow-sm gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-purple-600 flex items-center justify-center text-white shadow-lg",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-purple-600 uppercase tracking-widest leading-none mb-1",children:"Identity Rank"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-tighter",children:"Master Account"})]}),a.jsxs("button",{onClick:()=>L.handleAddChild(i),className:"px-4 py-2 bg-purple-600 text-white rounded-xl text-sm font-bold hover:bg-purple-700 transition-all flex items-center gap-2 shadow-lg shadow-purple-500/20",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Sub-Account"]})]}),i.subAccounts?.length>0&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest px-2",children:["Sub-Accounts (",i.subAccounts.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.subAccounts?.map(G=>a.jsxs("div",{onClick:()=>s(`/crm/customers/${G.id}`),className:"p-3 bg-white dark:bg-slate-900 rounded-xl border border-gray-100 dark:border-slate-800 cursor-pointer hover:border-purple-500 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("span",{className:"text-xs font-black text-gray-900 dark:text-white uppercase tracking-tighter",children:G.isIndependent?"Independent Billing":"Shared Billing"}),a.jsx("div",{className:`rounded-md px-1 ${G.status==="active"?"bg-emerald-500":"bg-red-500"}`,children:G.status})]}),a.jsx("div",{className:"flex flex-col gap-0.5",children:a.jsxs("p",{className:"text-[12px] text-gray-700 font-mono tracking-tighter",children:[G.radiusPassword,"  ",G.radiusUsername]})})]},G.id))})]})]})}),i&&a.jsx(a4,{customerId:i.id}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Fp,{customerPayments:B})})]})]}),a.jsx(t4,{state:C,actions:L,customer:i}),a.jsx(zg,{isOpen:C.isCustomerModalOpen,onClose:()=>L.setIsCustomerModalOpen(!1),setIsCustomerModalOpen:L.setIsCustomerModalOpen,editingCustomer:C.editingCustomer,setEditingCustomer:L.setEditingCustomer,customers:[],onSuccess:()=>N(!j)}),a.jsx(QN,{isOpen:C.isDepositModalOpen,setIsDepositModalOpen:L.setIsDepositModalOpen,customer:i,onSuccess:()=>N(!j)}),a.jsx(ZN,{isChangeDateModalOpen:S,setIsChangeDateModalOpen:A,customer:i,onSuccess:()=>N(!j)}),a.jsx(JN,{isOpen:C.isPackageModalOpen,onClose:()=>L.setIsPackageModalOpen(!1),customer:i,onSuccess:()=>N(!j)}),a.jsx(e4,{customer:i,isResolveModalOpen:C.isReconcileModalOpen,setIsResolveModalOpen:L.setIsReconcileModalOpen,onClose:()=>L.setIsReconcileModalOpen(!1),onSuccess:()=>N(!j)})]})},n4=({isResolveModalOpen:s,setIsResolveModalOpen:l,reconcilingPayment:i,setReconcilingPayment:o,onResolved:d})=>{const[f,m]=se.useState([]),[g,b]=se.useState(""),[x,v]=se.useState(""),[h,S]=se.useState(!1),[A,j]=se.useState("");y.useEffect(()=>{s&&(b(""),v(""),j(""),S(!1),zt.getAll().then(C=>{const L=Array.isArray(C?.data)?C.data:C?.data?.data||[];m(L)}).catch(C=>{console.error("Error fetching customers for reconciliation:",C),m([])}))},[s]);const N=y.useMemo(()=>{const C=x.trim().toLowerCase();return C?f.filter(L=>{const M=`${L.firstName||""} ${L.lastName||""}`.toLowerCase(),B=(L.radiusUsername||"").toLowerCase(),Y=(L.phone||"").toLowerCase();return M.includes(C)||B.includes(C)||Y.includes(C)}):f},[f,x]),k=async C=>{if(C.preventDefault(),!i||!g){j("Please select a customer");return}S(!0),j("");try{await Js.resolvePending(i.id,g),l(!1),o(null),b(""),d&&d()}catch(L){console.error("Error resolving payment:",L),j(L.response?.data?.message||L.message||"Failed to resolve payment")}finally{S(!1)}};return a.jsx(Fe,{isOpen:s,onClose:()=>{l(!1),o(null),b("")},title:"Resolve M-Pesa Receipt",maxWidth:"max-w-lg",children:a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i&&a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-5 rounded-2xl border border-amber-100 dark:border-amber-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black uppercase text-amber-600",children:"Transaction Info"}),a.jsx("span",{className:"font-mono font-black text-amber-700 dark:text-amber-400",children:i.mpesaCode})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-y border-amber-200/50",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Receipt Amount"}),a.jsxs("span",{className:"text-lg font-black text-gray-900 dark:text-white",children:["KSH ",i.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Sender Phone"}),a.jsx("span",{className:"text-xs font-mono font-bold text-gray-700 dark:text-gray-300",children:i.phone})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Target Subscriber Account"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search name, phone, or username...",value:x,onChange:C=>v(C.target.value),className:"w-full pl-9 pr-4 py-3 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-xs font-bold focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:N.length>0?N.map(C=>a.jsxs("div",{onClick:()=>b(C.id),className:`p-4 rounded-xl border transition-all group shadow-sm flex items-center justify-between cursor-pointer ${g===C.id?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700":"bg-white dark:bg-slate-800 border-gray-100 dark:border-slate-700 hover:border-blue-500"}`,children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[C.firstName," ",C.lastName]}),a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-mono",children:["@",C.radiusUsername||"No Username","  ",C.phone]})]}),a.jsx("div",{className:`transition-opacity ${g===C.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:a.jsx("span",{className:"text-[10px] font-black text-blue-600 dark:text-blue-300 uppercase tracking-widest bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg",children:g===C.id?"Selected":"Link Here"})})]},C.id)):a.jsx("div",{className:"py-12 text-center border-2 border-dashed border-gray-100 dark:border-slate-800 rounded-2xl",children:a.jsx("p",{className:"text-xs text-gray-400 font-medium italic",children:x.trim().length<2?"Start typing to find a subscriber...":"No subscribers match your search."})})}),a.jsx("p",{className:"text-[9px] text-gray-400 mt-1 italic ml-1",children:"Linking this transaction will instantly credit the selected account's balance."})]}),A&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-800",children:a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:A})}),a.jsx("button",{type:"submit",disabled:h||!g,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all active:scale-95 flex items-center justify-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Processing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Confirm Link & Finalize"]})})]})})},l4=()=>{const[s,l]=y.useState(""),[i,o]=y.useState("completed"),[d,f]=y.useState(!1),[m,g]=y.useState(null),[b,x]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PAYMENTS)||"[]")),[v,h]=y.useState(!1);y.useEffect(()=>{S()},[]);const S=async(k=!1)=>{h(!0);try{const C=await Js.getAll(),L=Array.isArray(C?.data)?C.data:C?.data?.data||[];x(L),k&&oe.success("Ledger synced successfully!"),localStorage.setItem(ve.PAYMENTS,JSON.stringify(L))}catch(C){console.error("Error fetching payments:",C),oe.error("Failed to sync ledger. Please try again.")}finally{h(!1)}},A=b.filter(k=>k.status==="completed"&&(k.mpesaCode.toLowerCase().includes(s.toLowerCase())||k.subscriberId.toLowerCase().includes(s.toLowerCase())||k.firstName.toLowerCase().includes(s.toLowerCase())||k.lastName.toLowerCase().includes(s.toLowerCase()))),j=b.filter(k=>k.status==="pending"&&(k.mpesaCode.toLowerCase().includes(s.toLowerCase())||k.lastName.toLowerCase().includes(s.toLowerCase())||k.phone.includes(s))),N=()=>{const k=[["Subscriber ID","M-Pesa Code","Amount","Bill Ref","Sender Name","Phone","Status","Timestamp"],...b.map(B=>[B.subscriberId,B.mpesaCode,B.amount,B.billRef,`${B.firstName} ${B.lastName}`,B.phone,B.status,B.timestamp])].map(B=>B.join(",")).join(`
`),C=new Blob([k],{type:"text/csv;charset=utf-8;"}),L=URL.createObjectURL(C),M=document.createElement("a");M.setAttribute("href",L),M.setAttribute("download",`payments_${new Date().toISOString()}.csv`),M.click(),URL.revokeObjectURL(L)};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Financial Ledger"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Revenue tracking and transaction reconciliation center."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>S(!0),className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",title:"Sync Ledger",disabled:v,children:a.jsx("svg",{className:`w-5 h-5 ${v?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("button",{onClick:N,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export CSV"]})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:items-center justify-between",children:[a.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-slate-800 rounded-2xl w-fit shadow-inner",children:[a.jsxs("button",{onClick:()=>o("completed"),className:`px-6 py-2.5 text-sm font-black rounded-xl transition-all flex items-center gap-2 ${i==="completed"?"bg-white dark:bg-slate-700 text-blue-600 shadow-md":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Completed"]}),a.jsxs("button",{onClick:()=>o("pending"),className:`px-6 py-2.5 text-sm font-black rounded-xl transition-all flex items-center gap-2 ${i==="pending"?"bg-white dark:bg-slate-700 text-amber-600 shadow-md":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending",j.length>0&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-amber-500 text-white text-[9px] rounded-full animate-bounce",children:j.length})]})]}),a.jsxs("div",{className:"relative w-full lg:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:`Search ${i} records...`,value:s,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-2xl text-sm shadow-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]})]}),i==="pending"?a.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-4 duration-300",children:[a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),a.jsx("h3",{className:"text-sm font-black text-amber-600 dark:text-amber-500 uppercase tracking-widest",children:"Unlinked M-Pesa Receipts"})]}),a.jsx(Le,{title:"Background Recon Queue",className:"border-none shadow-xl shadow-amber-500/5 dark:shadow-none overflow-hidden bg-amber-50/10 dark:bg-amber-900/5 border-amber-100 dark:border-amber-900/20",children:a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-amber-600 dark:text-amber-500 uppercase text-[10px] tracking-widest bg-amber-50/50 dark:bg-amber-900/10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"M-Pesa Code"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Reference Input"}),a.jsx("th",{className:"py-4 px-6",children:"Sender Phone"}),a.jsx("th",{className:"py-4 px-6",children:"Time Received"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Resolve"})]})}),a.jsx("tbody",{className:"divide-y border-t border-amber-100 dark:border-amber-900/20",children:j.length>0?j.map(k=>a.jsxs("tr",{className:"group hover:bg-amber-50 dark:hover:bg-amber-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"font-mono font-black text-gray-900 dark:text-white tracking-tight",children:k.mpesaCode})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"text-amber-600 dark:text-amber-400 font-black",children:["KSH ",k.amount.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-[11px] bg-white dark:bg-slate-800 px-2 py-1 rounded border border-amber-100 dark:border-amber-900/30 text-gray-600 dark:text-gray-300 font-mono",children:k.lastName})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-mono text-xs",children:k.phone})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-xs truncate w-32",children:k.timestamp})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsx("button",{onClick:()=>{g(k),f(!0)},className:"px-3 py-1.5 bg-amber-600 hover:bg-amber-700 text-white text-[10px] font-black uppercase rounded-lg shadow-lg shadow-amber-600/20 transition-all active:scale-95",children:"Link Account"})})]},k.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center opacity-40",children:[a.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"font-medium italic",children:"Reconciliation queue is empty."})]})})})})]})})})]}):a.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("h3",{className:"text-sm font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Successfully Processed"})]}),a.jsx(Le,{title:"Completed Ledger",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30 border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Subscriber"}),a.jsx("th",{className:"py-4 px-6",children:"M-Pesa Code"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Bill ID/Ref"}),a.jsx("th",{className:"py-4 px-6",children:"Sender Name"}),a.jsx("th",{className:"py-4 px-6",children:"Date & Time"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Receipt"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:A.length>0?A.map(k=>a.jsxs("tr",{className:"group hover:bg-blue-50/30 dark:hover:bg-blue-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg text-[11px] font-black uppercase font-mono",children:k.subscriberId})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"font-mono font-bold text-gray-900 dark:text-white tracking-tight",children:k.mpesaCode})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-black",children:["KSH ",k.amount.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:k.billRef})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none mb-1",children:k.firstName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-mono tracking-tighter truncate w-24",children:k.phone})]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-xs truncate w-32",children:new Date(k.timestamp).toLocaleString()})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})})]},k.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-20 text-center text-gray-400 italic text-xs",children:"No matching completed transactions found."})})})]})})})]}),a.jsx(n4,{isResolveModalOpen:d,setIsResolveModalOpen:f,reconcilingPayment:m,setReconcilingPayment:g,onResolved:()=>{S(),f(!1)}})]})},r4=()=>{const[s,l]=y.useState(()=>JSON.parse(localStorage.getItem(ve.TRANSACTIONS)||"[]")),[i,o]=y.useState(""),[d,f]=y.useState(null),[m,g]=y.useState(!1);y.useEffect(()=>{b()},[l]);const b=async(h=!1)=>{g(!0);try{const j=((await $x.getAll()).data||[]).map(N=>({id:N.id.toString(),customer_id:N.customer_id.toString(),customer_name:"",amount:N.amount,type:N.type,category:N.category,method:N.method,description:N.description,date:N.created_at,balance_before:N.balance_before,balance_after:N.balance_after,reference_id:N.reference_id}));l(j),localStorage.setItem(ve.TRANSACTIONS,JSON.stringify(j)),h&&oe.success("Transactions synced successfully!")}catch(S){console.error("Error fetching transactions:",S)}finally{g(!1)}},x=s.filter(h=>h.id.toLowerCase().includes(i.toLowerCase())||h.customer_name.toLowerCase().includes(i.toLowerCase())||h.description.toLowerCase().includes(i.toLowerCase())||h.reference_id?.toLowerCase().includes(i.toLowerCase())),v=()=>{if(s.length===0){oe.info("No transactions to export.");return}const h=[["ID","Customer ID","Customer Name","Amount","Type","Category","Method","Description","Date","Balance Before","Balance After","Reference ID"],...s.map(N=>[N.id,N.customer_id,N.customer_name,N.amount,N.type,N.category,N.method,N.description,N.date,N.balance_before,N.balance_after,N.reference_id||""])].map(N=>N.map(k=>{const C=String(k??"");return C.includes(",")||C.includes('"')||C.includes(`
`)?`"${C.replace(/"/g,'""')}"`:C}).join(",")).join(`
`),S=new Blob([h],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(S),j=document.createElement("a");j.setAttribute("href",A),j.setAttribute("download",`transactions_${new Date().toISOString()}.csv`),j.click(),URL.revokeObjectURL(A),oe.success("Transactions exported.")};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"General Ledger"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Comprehensive audit trail of all financial movements."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>b(!0),className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:a.jsx("svg",{className:`w-5 h-5 ${m?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("button",{onClick:v,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Audit Export"]})]})]}),a.jsxs(Le,{title:"System-Wide Transactions",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by ID, Subscriber or Ref...",value:i,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]})}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"ID"}),a.jsx("th",{className:"py-4 px-6",children:"Subscriber"}),a.jsx("th",{className:"py-4 px-6",children:"Type"}),a.jsx("th",{className:"py-4 px-6",children:"Method"}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Date"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Details"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:x.map(h=>a.jsxs("tr",{className:"group hover:bg-blue-50/30 dark:hover:bg-blue-900/10 transition-all",children:[a.jsxs("td",{className:"py-4 px-6 font-mono font-bold text-gray-500 text-[10px]",children:["#",h.id]}),a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none mb-1",children:h.customer_name}),a.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-mono",children:h.customer_id})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black uppercase tracking-tighter ${h.type==="credit"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:h.category})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:h.method})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("span",{className:`font-black ${h.type==="credit"?"text-green-600":"text-red-600"}`,children:[h.type==="credit"?"+":"-"," KSH ",h.amount.toLocaleString()]})}),a.jsx("td",{className:"py-4 px-6 text-gray-500 text-xs font-medium",children:new Date(h.date).toLocaleString()}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx("button",{onClick:()=>f(h),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]},h.id))})]})})]}),a.jsx(Fe,{isOpen:!!d,onClose:()=>f(null),title:"Database Transaction Record",maxWidth:"max-w-lg",children:d&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start border-b dark:border-slate-800 pb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Transaction UUID"}),a.jsx("p",{className:"text-sm font-mono font-black text-gray-900 dark:text-white",children:d.id})]}),a.jsx(it,{variant:d.type==="credit"?"active":"expired",children:d.type.toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-2xl",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Subscriber"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:d.customer_name})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-2xl",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Payment Method"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:d.method})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest px-1",children:"Ledger Snapshot"}),a.jsxs("div",{className:"p-5 bg-slate-900 rounded-[2rem] text-white shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Balance Before"}),a.jsxs("span",{className:"font-mono text-slate-300",children:["KSH ",d.balance_before.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-4 py-3 border-y border-white/10",children:[a.jsx("span",{className:"text-xs font-black uppercase text-blue-400",children:"Transaction"}),a.jsxs("span",{className:`text-xl font-black ${d.type==="credit"?"text-green-400":"text-red-400"}`,children:[d.type==="credit"?"+":"-"," ",d.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Final Balance"}),a.jsxs("span",{className:"font-mono text-xl font-black text-white",children:["KSH ",d.balance_after.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"p-4 border border-dashed border-gray-200 dark:border-slate-800 rounded-2xl",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Audit Description"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 leading-relaxed italic",children:d.description}),d.reference_id&&a.jsxs("p",{className:"text-[10px] font-mono text-blue-500 mt-2",children:["External Ref: ",d.reference_id]})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx("button",{className:"flex-1 py-3 bg-gray-100 dark:bg-slate-800 text-gray-900 dark:text-white text-xs font-bold rounded-xl hover:bg-gray-200 transition-colors",children:"View Receipt"}),a.jsx("button",{className:"flex-1 py-3 bg-blue-600 text-white text-xs font-bold rounded-xl shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-all",children:"Print Log"})]})]})})]})},i4=({isOpen:s,onClose:l,editingInvoice:i})=>{const[o,d]=y.useState(""),[f,m]=y.useState([{description:"",amount:0}]),[g,b]=y.useState(""),[x,v]=y.useState(new Date().toISOString().split("T")[0]),[h,S]=y.useState(!1),[A,j]=y.useState("unpaid"),[N,k]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),C=ne=>{if(!ne)return"";const ae=new Date(ne);return Number.isNaN(ae.getTime())?"":ae.toISOString().split("T")[0]};y.useEffect(()=>{i?(d(i.customer_id||""),m(i.items||[{description:"",amount:0}]),b(C(i.due_date)),v(C(i.issue_date)||new Date().toISOString().split("T")[0]),S((i.tax??0)>0),j(i.status||"unpaid")):(d(""),m([{description:"Internet Service Fee",amount:0}]),b(new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]),v(new Date().toISOString().split("T")[0]),S(!1),j("unpaid"))},[i,s]),y.useEffect(()=>{try{(async()=>{const Z=(await zt.getAll()).data||[];k(Z),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(Z))})()}catch(ne){console.error("Error loading initial data:",ne)}},[]);const L=()=>{m([...f,{description:"",amount:0}])},M=ne=>{m(f.filter((ae,Z)=>Z!==ne))},B=(ne,ae,Z)=>{const fe=[...f];fe[ne]={...fe[ne],[ae]:Z},m(fe)},Y=f.reduce((ne,ae)=>ne+(Number(ae.amount)||0),0),I=h?Y*.16:0,W=Y+I,de=async ne=>{ne.preventDefault();const ae=N.find(G=>G.id===o);if(!ae)return;const Z=f.map(G=>({description:G.description,amount:Number(G.amount)||0})),fe={...i,customer_id:o,customer_name:`${ae.firstName} ${ae.lastName}`,items:Z,subtotal:Y,tax:I,total:W,issue_date:x,due_date:g,status:A};try{i?.id?(await So.update(i.id,fe),oe.success("Invoice updated successfully")):(await So.create(fe),oe.success("Invoice created successfully")),l()}catch(G){console.error("Error saving invoice:",G),oe.error("Failed to save invoice")}};return a.jsx(Fe,{isOpen:s,onClose:l,title:i?.id?"Modify Invoice":"Generate Official Invoice",maxWidth:"max-w-2xl",children:a.jsxs("form",{onSubmit:de,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Subscriber"}),a.jsxs("select",{required:!0,value:o,onChange:ne=>d(ne.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"",children:"Choose Subscriber..."}),N.map(ne=>a.jsxs("option",{value:ne.id,children:[ne.firstName," ",ne.lastName," (",ne.radiusUsername,")"]},ne.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Due Date"}),a.jsx("input",{required:!0,type:"date",value:g,onChange:ne=>b(ne.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Status"}),a.jsxs("select",{value:A,onChange:ne=>j(ne.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{value:"unpaid",children:"Unpaid"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Tax Options"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Include VAT (16%) on this invoice"})]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-200",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:ne=>S(ne.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Include Tax"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center px-1",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Line Items"}),a.jsx("button",{type:"button",onClick:L,className:"text-xs font-black text-blue-600 hover:text-blue-700",children:"+ Add Item"})]}),a.jsx("div",{className:"space-y-2",children:f.map((ne,ae)=>a.jsxs("div",{className:"flex gap-2 items-start animate-in slide-in-from-left-2 duration-200",children:[a.jsx("input",{required:!0,type:"text",placeholder:"Service Description",value:ne.description,onChange:Z=>B(ae,"description",Z.target.value),className:"flex-1 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-sm font-medium text-gray-900 dark:text-white"}),a.jsxs("div",{className:"w-32 relative",children:[a.jsx("span",{className:"absolute left-3 inset-y-0 flex items-center text-gray-400 text-[10px] font-bold",children:"KSH"}),a.jsx("input",{required:!0,type:"number",placeholder:"0.00",value:ne.amount||"",onChange:Z=>B(ae,"amount",Z.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 pl-10 text-sm font-bold text-gray-900 dark:text-white text-right"})]}),f.length>1&&a.jsx("button",{type:"button",onClick:()=>M(ae),className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},ae))})]}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-[2rem] text-white shadow-xl space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs opacity-60 font-bold uppercase tracking-widest",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["KSH ",Y.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs opacity-60 font-bold uppercase tracking-widest border-b border-white/10 pb-4",children:[a.jsx("span",{children:h?"VAT (16%)":"Tax (Excluded)"}),a.jsxs("span",{children:["KSH ",I.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-black uppercase tracking-widest text-blue-400",children:"Total Billed"}),a.jsxs("span",{className:"text-3xl font-black text-white",children:["KSH ",W.toLocaleString()]})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl shadow-blue-500/20 hover:bg-blue-500 transition-all active:scale-95",children:i?.id?"Update Invoice Ledger":"Commit Official Invoice"})]})})},o4=()=>{const[s,l]=y.useState([]),[i,o]=y.useState(""),[d,f]=y.useState(null),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(!1),[S,A]=y.useState(""),[j,N]=y.useState("ET"),[k,C]=y.useState(""),[L,M]=y.useState(""),[B,Y]=y.useState(""),[I,W]=y.useState(""),{can:de}=za();y.useEffect(()=>{ne(),ae()},[]),y.useEffect(()=>{m||ne()},[m]);const ne=async()=>{h(!0);try{const E=((await So.getAll()).data||[]).map(T=>({id:T.id?.toString()??"",invoice_number:T.invoice_number,customer_id:T.customer_id?.toString()??"",customer_name:T.customer_name,items:T.items||[],subtotal:Number(T.subtotal)||0,tax:Number(T.tax)||0,total:Number(T.total)||0,issue_date:T.issue_date,due_date:T.due_date,status:T.status}));l(E)}catch(D){console.error("Error fetching invoices:",D),oe.error("Failed to fetch invoices"),l([])}finally{h(!1)}},ae=async()=>{try{const D=await Zs.get(),q=D?.settings||{},E=q.general||{},T=q["payment-gateway"]||{},H=E.business_logo||"",Q=D?.acronym||E.acronym||"",re=E.isp_legal_name||D?.name||"",we=(Q||re).split(" ").filter(Boolean).slice(0,2).map(ke=>ke[0]).join("").toUpperCase()||"ET";A(H),N(we),C(re),M(T.paybill||T.paybill_short_code||""),Y(E.support_hotline||""),W(E.business_address||"")}catch(D){console.error("Error fetching organization branding:",D)}},Z=s.filter(D=>D.invoice_number.toLowerCase().includes(i.toLowerCase())||D.customer_name.toLowerCase().includes(i.toLowerCase())),fe=s.filter(D=>D.status!=="paid").reduce((D,q)=>D+q.total,0),G=s.filter(D=>D.status==="paid").reduce((D,q)=>D+q.total,0),ue=D=>{f(D),setTimeout(()=>{window.print(),f(null)},500)},me=()=>{x(null),g(!0)},O=D=>{x(D),g(!0)},U=async D=>{if(confirm("Are you sure you want to delete this invoice?"))try{await So.delete(D),oe.success("Invoice deleted successfully"),ne()}catch(q){console.error("Error deleting invoice:",q),oe.error("Failed to delete invoice")}},le=()=>{ne()};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[d&&a.jsxs("div",{className:"fixed inset-0 z-[100] bg-white text-black p-12 print:block hidden",id:"printable-invoice",children:[a.jsxs("div",{className:"flex justify-between items-start border-b-2 border-slate-900 pb-8 mb-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"w-12 h-12 bg-slate-900 text-white rounded-lg flex items-center justify-center font-black text-xl mb-4 overflow-hidden",children:S?a.jsx("img",{src:S,alt:"Company Logo",className:"w-full h-full object-contain"}):j}),a.jsx("h1",{className:"text-3xl font-black uppercase tracking-tighter",children:k||"Company Name"}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Official Service Invoice"}),(I||B)&&a.jsxs("div",{className:"mt-2 text-xs text-slate-500 space-y-1",children:[I&&a.jsx("p",{children:I}),B&&a.jsxs("p",{children:["Support: ",B]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h2",{className:"text-5xl font-black text-slate-900 mb-2",children:"INVOICE"}),a.jsx("p",{className:"font-mono font-bold text-lg",children:d.invoice_number})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-20 mb-12",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 mb-2 tracking-widest",children:"Billed To:"}),a.jsx("p",{className:"text-xl font-black",children:d.customer_name}),a.jsxs("p",{className:"text-slate-600",children:["Subscriber ID: ",d.customer_id]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-slate-500 text-sm",children:["Issue Date: ",a.jsx("span",{className:"font-bold text-slate-900",children:new Date(d.issue_date).toLocaleDateString()})]}),a.jsxs("p",{className:"text-slate-500 text-sm",children:["Due Date: ",a.jsx("span",{className:"font-bold text-slate-900",children:new Date(d.due_date).toLocaleDateString()})]}),a.jsxs("p",{className:"text-slate-500 text-sm",children:["Status: ",a.jsx("span",{className:"font-bold text-slate-900 uppercase",children:d.status})]})]})})]}),a.jsxs("table",{className:"w-full mb-12",children:[a.jsx("thead",{className:"border-b-2 border-slate-900",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 text-left font-black uppercase text-xs",children:"Description of Service"}),a.jsx("th",{className:"py-4 text-right font-black uppercase text-xs",children:"Amount (KSH)"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:d.items.map((D,q)=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-5 font-medium",children:D.description}),a.jsx("td",{className:"py-5 text-right font-bold",children:D.amount.toLocaleString()})]},q))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-72 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-slate-500",children:[a.jsx("span",{className:"font-bold uppercase text-[10px]",children:"Subtotal"}),a.jsxs("span",{className:"font-bold",children:["KSH ",d.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-slate-500 border-b pb-3",children:[a.jsx("span",{className:"font-bold uppercase text-[10px]",children:"Tax (VAT 16%)"}),a.jsxs("span",{className:"font-bold",children:["KSH ",d.tax.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between pt-2",children:[a.jsx("span",{className:"font-black uppercase text-sm",children:"Amount Due"}),a.jsxs("span",{className:"text-2xl font-black",children:["KSH ",d.total.toLocaleString()]})]})]})}),a.jsxs("div",{className:"mt-20 pt-8 border-t border-slate-200 text-center",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Payment Methods"}),a.jsxs("p",{className:"text-sm font-medium",children:["Pay via M-PESA Paybill: ",a.jsx("span",{className:"font-black",children:L||"N/A"})," | Account: ",a.jsx("span",{className:"font-black",children:d.customer_id})]}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-6 italic",children:"Thank you for your business. Terms apply."})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Billing & Invoices"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage subscription cycles and manual billing entries."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:le,className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),de("manage-invoices")&&a.jsxs("button",{onClick:me,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Invoice"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest mb-1",children:"Total Paid"}),a.jsxs("p",{className:"text-2xl font-black text-emerald-700 dark:text-emerald-400",children:["KSH ",G.toLocaleString()]})]}),a.jsxs("div",{className:"p-6 bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-amber-500 tracking-widest mb-1",children:"Total Outstanding"}),a.jsxs("p",{className:"text-2xl font-black text-amber-700 dark:text-amber-400",children:["KSH ",fe.toLocaleString()]})]}),a.jsxs("div",{className:"col-span-2 sm:col-span-1 p-6 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest mb-1",children:"Invoice Count"}),a.jsxs("p",{className:"text-2xl font-black text-blue-700 dark:text-blue-400",children:[s.length," Documents"]})]})]}),a.jsxs(Le,{title:"Billing History",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by Invoice # or Customer...",value:i,onChange:D=>o(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]})}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Invoice #"}),a.jsx("th",{className:"py-4 px-6",children:"Subscriber"}),a.jsx("th",{className:"py-4 px-6",children:"Total Billed"}),a.jsx("th",{className:"py-4 px-6",children:"Issue Date"}),a.jsx("th",{className:"py-4 px-6",children:"Due Date"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),de("manage-invoices")&&a.jsx("th",{className:"py-4 px-6 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:Z.map(D=>a.jsxs("tr",{className:"group hover:bg-blue-50/30 dark:hover:bg-blue-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6 font-mono font-black text-gray-900 dark:text-white",children:D.invoice_number}),a.jsxs("td",{className:"py-5 px-6",children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none mb-1",children:D.customer_name}),a.jsx("p",{className:"text-[10px] text-gray-400 font-mono uppercase tracking-tighter",children:D.customer_id})]}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"font-black text-gray-900 dark:text-white",children:["KSH ",D.total.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6 text-gray-500 text-xs",children:new Date(D.issue_date).toLocaleString()}),a.jsx("td",{className:"py-5 px-6 text-gray-500 text-xs",children:new Date(D.due_date).toLocaleString()}),a.jsx("td",{className:"py-5 px-6",children:a.jsx(it,{variant:D.status,children:D.status.toUpperCase()})}),de("manage-invoices")&&a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end items-center gap-1 transition-all",children:[a.jsx("button",{onClick:()=>O(D),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Edit",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>ue(D),className:"p-2 text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all",title:"Download / Print",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})}),a.jsx("button",{onClick:()=>U(D.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:"Delete",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},D.id))})]})})]}),a.jsx(i4,{isOpen:m,onClose:()=>g(!1),editingInvoice:b})]})},c4=({isOpen:s,onClose:l,onSave:i,editingExpense:o,categories:d})=>{const[f,m]=y.useState(""),[g,b]=y.useState(""),[x,v]=y.useState(""),[h,S]=y.useState(new Date().toISOString().split("T")[0]),[A,j]=y.useState("Bank Transfer"),[N,k]=y.useState(""),[C,L]=y.useState(!1);y.useEffect(()=>{o?(m(o.description||""),b(o.amount?.toString()||""),v(o.category||(d.length>0?d[0].name:"")),S(o.date?o.date.split("T")[0]:new Date().toISOString().split("T")[0]),j(o.payment_method||"Bank Transfer"),k(o.reference_no||"")):(m(""),b(""),v(d.length>0?d[0].name:""),S(new Date().toISOString().split("T")[0]),j("Bank Transfer"),k(""))},[o,s,d]);const M=async B=>{B.preventDefault(),L(!0);try{const Y={...o,description:f,amount:parseFloat(g),category:x,date:h,payment_method:A,reference_no:N};await i(Y),oe.success(o?.id?"Expense updated successfully":"Expense recorded successfully"),l()}catch(Y){console.error("Error saving expense:",Y),oe.error("Failed to save expense. Please try again.")}finally{L(!1)}};return a.jsx(Fe,{isOpen:s,onClose:l,title:o?.id?"Update Expense Record":"Record New Expenditure",maxWidth:"max-w-xl",children:a.jsxs("form",{onSubmit:M,className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Expense Description"}),a.jsx("input",{required:!0,type:"text",value:f,onChange:B=>m(B.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. Monthly Electricity Bill"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Category"}),a.jsxs("select",{required:!0,value:x,onChange:B=>v(B.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[d.length===0&&a.jsx("option",{value:"",children:"No categories defined"}),d.map(B=>a.jsx("option",{value:B.name,children:B.name},B.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Amount (KSH)"}),a.jsx("input",{required:!0,type:"number",value:g,onChange:B=>b(B.target.value),className:"w-full bg-white dark:bg-slate-900 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-black",placeholder:"0.00"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Expense Date"}),a.jsx("input",{required:!0,type:"date",value:h,onChange:B=>S(B.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Payment Method"}),a.jsxs("select",{value:A,onChange:B=>j(B.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-bold",children:[a.jsx("option",{children:"Bank Transfer"}),a.jsx("option",{children:"M-Pesa"}),a.jsx("option",{children:"Cash"}),a.jsx("option",{children:"Cheque"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Reference / Receipt No."}),a.jsx("input",{type:"text",value:N,onChange:B=>k(B.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono",placeholder:"e.g. TXN-12345678"})]}),a.jsx("button",{type:"submit",disabled:C,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white font-black py-4 rounded-2xl shadow-xl hover:opacity-90 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":o?.id?"Update Audit Record":"Confirm Expenditure"})]})})},d4=({isOpen:s,onClose:l,categories:i,onAdd:o,onDelete:d})=>{const[f,m]=y.useState(""),g=b=>{b.preventDefault(),f.trim()&&(o(f.trim()),m(""))};return a.jsx(Fe,{isOpen:s,onClose:l,title:"Manage Expense Categories",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:f,onChange:b=>m(b.target.value),className:"flex-1 bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3 text-sm font-bold text-gray-900 dark:text-white",placeholder:"Category Name (e.g. Fuel)"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-sm hover:bg-blue-700 transition-colors",children:"Add"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest px-1",children:"Active Categories"}),a.jsx("div",{className:"max-h-60 overflow-y-auto pr-1 space-y-1",children:i.map(b=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-800/50 rounded-xl group transition-all",children:[a.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:b.name}),a.jsx("button",{onClick:()=>d(b.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},b.id))})]})]})})},u4={Utilities:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Equipment:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Salaries:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Marketing:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),Maintenance:a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Rent:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Other:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})},vu=[{id:"cat-utilities",name:"Utilities"},{id:"cat-equipment",name:"Equipment"},{id:"cat-salaries",name:"Salaries"},{id:"cat-marketing",name:"Marketing"},{id:"cat-maintenance",name:"Maintenance"},{id:"cat-rent",name:"Rent"},{id:"cat-other",name:"Other"}],f4=()=>{const[s,l]=y.useState([]),[i,o]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CATEGORIES)||"[]")),[d,f]=y.useState(!1),[m,g]=y.useState(""),[b,x]=y.useState("All"),[v,h]=y.useState(""),[S,A]=y.useState(""),[j,N]=y.useState(!1),[k,C]=y.useState(null),[L,M]=y.useState(1),[B,Y]=y.useState(15),[I,W]=y.useState(1),[de,ne]=y.useState(!1),{can:ae}=za();y.useEffect(()=>{fe()},[]),y.useEffect(()=>{Z()},[L,B,m,b,v,S]);const Z=async()=>{ne(!0);try{const q=await uo.getAll(L,B,b,m,v,S),T=(q.data||[]).map(H=>({id:H.id.toString(),description:H.description,amount:parseFloat(H.amount),category:H.category,date:H.date,payment_method:H.payment_method,reference_no:H.reference_no}));l(T),W(q.last_page||1)}catch(q){console.error("Error fetching expenses:",q),oe.error("Failed to fetch expenses"),l([])}finally{ne(!1)}},fe=async()=>{try{const q=localStorage.getItem(ve.CATEGORIES),E=q?JSON.parse(q):[],T=Array.isArray(E)&&E.length>0?E:vu;o(T),localStorage.setItem(ve.CATEGORIES,JSON.stringify(T))}catch(q){console.error("Error fetching categories:",q),o(vu),localStorage.setItem(ve.CATEGORIES,JSON.stringify(vu))}},G=y.useMemo(()=>s.reduce((q,E)=>q+E.amount,0),[s]),ue=()=>{C(null),N(!0)},me=q=>{C(q),N(!0)},O=async q=>{if(confirm("Are you sure you want to delete this expense?"))try{await uo.delete(q),oe.success("Expense deleted successfully"),Z()}catch(E){console.error("Error deleting expense:",E),oe.error("Failed to delete expense")}},U=()=>Z(),le=()=>f(!0),D=async q=>{try{q.id?await uo.update(q.id,q):await uo.create(q),Z()}catch(E){throw console.error("Error saving expense:",E),E}};return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Operational Expenses"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Track company spend and financial overhead."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:U,className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("button",{onClick:le,className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 px-5 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 hover:bg-slate-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Categories"]}),ae("manage-expenses")&&a.jsxs("button",{onClick:ue,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Expense"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-800 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-red-500 tracking-widest mb-1",children:"Total in Range"}),a.jsxs("p",{className:"text-2xl font-black text-red-700 dark:text-red-400",children:["KSH ",G.toLocaleString()]})]}),["Equipment","Utilities","Salaries"].map(q=>{const E=s.filter(T=>T.category===q).reduce((T,H)=>T+H.amount,0);return a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-3xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:q}),a.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["KSH ",E.toLocaleString()]})]},q)})]}),a.jsx(Le,{title:"Expense Filters",className:"border-none shadow-sm overflow-visible py-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"Search Description"}),a.jsx("input",{type:"text",placeholder:"Filter by description...",value:m,onChange:q=>g(q.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"Filter Category"}),a.jsxs("select",{value:b,onChange:q=>x(q.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white",children:[a.jsx("option",{value:"All",children:"All Categories"}),i.map(q=>a.jsx("option",{value:q.name,children:q.name},q.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"From Date"}),a.jsx("input",{type:"date",value:v,onChange:q=>h(q.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 mb-1 block tracking-widest",children:"To Date"}),a.jsx("input",{type:"date",value:S,onChange:q=>A(q.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm p-2.5 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})]})}),a.jsxs(Le,{title:"Expenditure Ledger",className:"border-none shadow-xl shadow-slate-200/50 dark:shadow-none overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Description"}),a.jsx("th",{className:"py-4 px-6",children:"Category"}),a.jsx("th",{className:"py-4 px-6",children:"Method"}),a.jsx("th",{className:"py-4 px-6",children:"Ref No."}),a.jsx("th",{className:"py-4 px-6",children:"Amount"}),a.jsx("th",{className:"py-4 px-6",children:"Date"}),ae("manage-expenses")&&a.jsx("th",{className:"py-4 px-6 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:de?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-20 text-center text-gray-400",children:"Loading expenses..."})}):s.length>0?s.map(q=>a.jsxs("tr",{className:"group hover:bg-red-50/30 dark:hover:bg-red-900/10 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:q.description})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-7 h-7 bg-gray-100 dark:bg-slate-800 text-gray-400 rounded-lg flex items-center justify-center",children:u4[q.category]||a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01"})})}),a.jsx("span",{className:"text-xs font-bold text-gray-500",children:q.category})]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:q.payment_method})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("span",{className:"font-mono text-[10px] text-slate-400",children:q.reference_no||"--"})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"font-black text-red-600 dark:text-red-400",children:["KSH ",q.amount.toLocaleString()]})}),a.jsx("td",{className:"py-5 px-6 text-gray-500 text-xs",children:q.date}),ae("manage-expenses")&&a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[a.jsx("button",{onClick:()=>me(q),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>O(q.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},q.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-20 text-center text-gray-400 italic",children:m||b!=="All"||v||S?"No expenses found matching the selected filters.":'No expenses recorded yet. Click "Add Expense" to get started.'})})})]})}),a.jsx(Xr,{currentPage:L,setCurrentPage:M,totalPages:I,rowsPerPage:B,setRowsPerPage:Y})]}),a.jsx(c4,{isOpen:j,onClose:()=>N(!1),onSave:D,editingExpense:k,categories:i}),a.jsx(d4,{isOpen:d,onClose:()=>f(!1),categories:i,onAdd:q=>o([...i,{id:"c"+Date.now(),name:q}]),onDelete:q=>o(E=>E.filter(T=>T.id!==q))})]})},m4=()=>{const s=Ws(),[l,i]=y.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[o,d]=y.useState(new Date().toISOString().split("T")[0]),[f,m]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),[g,b]=y.useState(()=>JSON.parse(localStorage.getItem(ve.EXPENSES)||"[]")),[x,v]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PAYMENTS)||"[]")),[h,S]=y.useState(()=>JSON.parse(localStorage.getItem(ve.PACKAGES)||"[]")),[A,j]=y.useState(!1),[N,k]=y.useState(""),[C,L]=y.useState([]);y.useEffect(()=>{M(),B(),Y()},[]);const M=async()=>{try{const D=await Js.getAll(),q=Array.isArray(D?.data)?D.data:D?.data?.data||[];v(q)}catch(D){console.error("Error fetching payments:",D)}},B=async()=>{try{const q=(await zt.getAll()).data||[];m(q),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(q))}catch(D){console.error("Error loading initial data:",D)}},Y=async()=>{try{const D=await Xs.getAll();localStorage.setItem(ve.PACKAGES,JSON.stringify(D.data||[])),S(D.data||[])}catch(D){console.error("Error fetching packages:",D)}},I=y.useMemo(()=>{const D=new Date(l),q=new Date(o),E=x.filter(Q=>{const re=new Date(Q.timestamp);return re>=D&&re<=q}),T=g.filter(Q=>{const re=new Date(Q.date);return re>=D&&re<=q}),H=f.filter(Q=>{const re=new Date(Q.createdAt);return re>=D&&re<=q});return{filteredPayments:E,filteredExpenses:T,filteredCustomers:H}},[x,g,f,l,o]),W=I.filteredPayments.reduce((D,q)=>D+q.amount,0),de=I.filteredExpenses.reduce((D,q)=>D+q.amount,0),ne=W-de,ae=f.filter(D=>D.balance<0),Z=f.filter(D=>D.balance>0),fe=ae.reduce((D,q)=>D+Math.abs(q.balance),0),G=Z.reduce((D,q)=>D+q.balance,0),ue=y.useMemo(()=>{const D=new Date,q=new Date;return q.setDate(D.getDate()-7),f.filter(E=>{const T=new Date(E.expiryDate);return E.status!=="active"||T<D&&T>=q}).reduce((E,T)=>{const H=h.find(Q=>Q.id===T.packageId);return E+(Number(H?.price)||0)},0)},[f,h]),me=y.useMemo(()=>h.map(D=>{const q=f.filter(H=>H.packageId===D.id).length,E=f.filter(H=>H.packageId===D.id).map(H=>H.id),T=I.filteredPayments.filter(H=>E.includes(H.subscriberId)).reduce((H,Q)=>H+Q.amount,0);return{name:D.name,count:q,percentage:f.length>0?q/f.length*100:0,revenue:T}}).sort((D,q)=>q.revenue-D.revenue),[h,f,I.filteredPayments]),O=()=>{k("Arrears Breakdown (Negative Balances)"),L(ae),j(!0)},U=()=>{k("Surplus Breakdown (Positive Balances)"),L(Z),j(!0)},le=D=>h.find(q=>q.id===D)?.name||"Unknown";return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white dark:bg-slate-900 p-6 rounded-[2rem] shadow-sm border border-gray-100 dark:border-slate-800",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black tracking-tight text-gray-900 dark:text-white",children:"Business Intelligence"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Aggregate data analysis for fiscal period: ",a.jsxs("span",{className:"font-bold text-blue-600 uppercase",children:[l," to ",o]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-slate-800 p-1.5 rounded-xl gap-2",children:[a.jsx("input",{type:"date",value:l,onChange:D=>i(D.target.value),className:"bg-transparent border-none text-xs font-bold focus:ring-0 text-gray-700 dark:text-gray-300"}),a.jsx("span",{className:"text-gray-400 font-black",children:""}),a.jsx("input",{type:"date",value:o,onChange:D=>d(D.target.value),className:"bg-transparent border-none text-xs font-bold focus:ring-0 text-gray-700 dark:text-gray-300"})]}),a.jsx("button",{className:"p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all active:scale-95 shadow-lg shadow-blue-500/20",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-[2rem] shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Gross Revenue"}),a.jsxs("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["KSH ",W.toLocaleString()]}),a.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-emerald-500 font-bold",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),a.jsxs("span",{children:[I.filteredPayments.length," Payments Collected"]})]})]}),a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-[2rem] shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Total Expenses"}),a.jsxs("p",{className:"text-2xl font-black text-red-600 dark:text-red-400",children:["KSH ",de.toLocaleString()]}),a.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-red-500 font-bold",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),a.jsxs("span",{children:[I.filteredExpenses.length," Ledger Items"]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-1",children:"Net Profit (EBITDA)"}),a.jsxs("p",{className:"text-3xl font-black text-blue-400",children:["KSH ",ne.toLocaleString()]}),a.jsx("div",{className:"mt-2",children:a.jsx(it,{variant:ne>0?"active":"expired",children:ne>0?"PROFITABLE":"LOSS"})})]}),a.jsx("div",{className:"absolute right-[-10%] bottom-[-20%] w-24 h-24 bg-blue-500/10 rounded-full blur-2xl group-hover:bg-blue-500/20 transition-all"})]}),a.jsxs("div",{className:"p-6 bg-indigo-600 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-indigo-200 tracking-widest mb-1",children:"Expected Earning"}),a.jsxs("p",{className:"text-2xl font-black",children:["KSH ",ue.toLocaleString()]}),a.jsx("p",{className:"text-[10px] text-indigo-200 mt-2 font-bold uppercase",children:"From recently expired Subs"})]}),a.jsx("div",{className:"absolute left-[-10%] top-[-20%] w-24 h-24 bg-white/5 rounded-full blur-2xl"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Le,{title:"Unpaid Earnings (Arrears)",className:"rounded-[2.5rem] border-none shadow-xl shadow-red-500/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-3xl font-black text-red-600 dark:text-red-400",children:["KSH ",fe.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total amount owed by ",a.jsx("span",{className:"font-bold",children:ae.length})," customers with negative balances."]}),a.jsx("button",{onClick:O,className:"mt-4 px-4 py-2 bg-red-600 text-white text-[10px] font-black uppercase rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-600/20",children:"View Arrears Detail"})]}),a.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center text-red-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),a.jsx(Le,{title:"Paid Earnings (Surplus)",className:"rounded-[2.5rem] border-none shadow-xl shadow-emerald-500/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400",children:["KSH ",G.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total credit held by ",a.jsx("span",{className:"font-bold",children:Z.length})," customers with positive balances."]}),a.jsx("button",{onClick:U,className:"mt-4 px-4 py-2 bg-emerald-600 text-white text-[10px] font-black uppercase rounded-xl hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20",children:"View Surplus Detail"})]}),a.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center text-emerald-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(Le,{title:"Revenue by Package",className:"lg:col-span-2 rounded-[2.5rem] overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto -mx-6 -mt-4",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest bg-gray-50/50 dark:bg-slate-800/30 border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Service Plan"}),a.jsx("th",{className:"py-4 px-6",children:"Subscribers"}),a.jsx("th",{className:"py-4 px-6",children:"Market Share"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Generated Revenue"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:me.map(D=>a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none",children:D.name})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[D.count," Active"]})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-600",style:{width:`${D.percentage}%`}})}),a.jsxs("span",{className:"text-[10px] font-black text-gray-400",children:[D.percentage.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("span",{className:"font-black text-gray-900 dark:text-white",children:["KSH ",D.revenue.toLocaleString()]})})]},D.name))})]})})}),a.jsx(Le,{title:"Asset Allocation",className:"rounded-[2.5rem]",children:a.jsxs("div",{className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Top Revenue Contributor"}),a.jsx("p",{className:"text-lg font-black text-blue-600",children:me[0]?.name||"N/A"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Responsible for ",me[0]?(me[0].revenue/(W||1)*100).toFixed(1):0,"% of collections."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[a.jsx("span",{className:"text-gray-500 uppercase",children:"Operational Efficiency"}),a.jsx("span",{className:"text-emerald-500",children:"92%"})]}),a.jsx("div",{className:"w-full h-2 bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"92%"}})}),a.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Calculation based on collection vs provisioned bandwidth costs."})]})]})})]}),a.jsx(Le,{title:"Operational Overhead Breakdown",className:"rounded-[2.5rem] overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Expense Category"}),a.jsx("th",{className:"py-4 px-6",children:"Entries"}),a.jsx("th",{className:"py-4 px-6",children:"Total Spent"}),a.jsx("th",{className:"py-4 px-6",children:"Budget Impact"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Status"})]})}),a.jsxs("tbody",{className:"divide-y dark:divide-slate-800",children:[Array.from(new Set(g.map(D=>D.category))).map(D=>{const q=I.filteredExpenses.filter(H=>H.category===D).reduce((H,Q)=>H+Q.amount,0),E=I.filteredExpenses.filter(H=>H.category===D).length,T=de>0?q/de*100:0;return a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-4 px-6 font-bold text-gray-900 dark:text-white",children:D}),a.jsxs("td",{className:"py-4 px-6 text-gray-500 font-medium",children:[E," records"]}),a.jsxs("td",{className:"py-4 px-6 font-black text-gray-900 dark:text-white",children:["KSH ",q.toLocaleString()]}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-20 h-1.5 bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-500",style:{width:`${T}%`}})}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[T.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsx(it,{variant:T>30?"expired":"active",children:T>30?"CRITICAL":"STABLE"})})]},D)}),g.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400 italic",children:"No expenses recorded in the selected period."})})]})]})})}),a.jsxs(Fe,{isOpen:A,onClose:()=>j(!1),title:N,maxWidth:"max-w-4xl",children:[a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Customer Name"}),a.jsx("th",{className:"py-4 px-6",children:"Phone"}),a.jsx("th",{className:"py-4 px-6",children:"Package"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),a.jsx("th",{className:"py-4 px-6 text-right",children:"Balance"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:C.length>0?C.map(D=>a.jsxs("tr",{onClick:()=>{s(`/crm/customers/${D.id}`),j(!1)},className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-all cursor-pointer group",children:[a.jsxs("td",{className:"py-4 px-6",children:[a.jsxs("p",{className:"font-bold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors",children:[D.firstName," ",D.lastName]}),a.jsx("p",{className:"text-[9px] text-gray-400 font-mono",children:D.id})]}),a.jsx("td",{className:"py-4 px-6 text-gray-500",children:D.phone}),a.jsx("td",{className:"py-4 px-6 text-xs font-bold text-blue-600",children:le(D.packageId)}),a.jsx("td",{className:"py-4 px-6",children:a.jsx(it,{variant:D.status,children:D.status})}),a.jsx("td",{className:"py-4 px-6 text-right",children:a.jsxs("span",{className:`font-black ${D.balance<0?"text-red-500":"text-emerald-500"}`,children:["KSH ",D.balance.toLocaleString()]})})]},D.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400 italic",children:"No customers found for this criteria."})})})]})}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>j(!1),className:"px-6 py-2 bg-slate-900 dark:bg-white dark:text-slate-900 text-white text-xs font-black uppercase rounded-xl",children:"Close Ledger"})})]})]})},h4=({isOpen:s,onClose:l,onSave:i,editingLead:o})=>{const[d,f]=y.useState(""),[m,g]=y.useState(""),[b,x]=y.useState(""),[v,h]=y.useState(""),[S,A]=y.useState("new"),[j,N]=y.useState(""),[k,C]=y.useState(!1),[L,M]=y.useState(null);y.useEffect(()=>{o?(f(o.name||""),g(o.phone||""),x(o.email||""),h(o.address||""),A(o.status||"new"),N(o.notes||"")):(f(""),g(""),x(""),h(""),A("new"),N("")),M(null)},[o,s]);const B=async Y=>{Y.preventDefault(),C(!0),M(null);try{const I={name:d,phone:m,email:b||void 0,address:v||void 0,status:S,notes:j||void 0};o?.id?(await kn.update(o.id,I),oe.success("Prospect updated successfully")):(await kn.create(I),oe.success("New sales opportunity created")),i(),l()}catch(I){M(I.message||"Failed to save lead")}finally{C(!1)}};return a.jsx(Fe,{isOpen:s,onClose:l,title:o?.id?"Update Prospect":"New Sales Opportunity",maxWidth:"max-w-md",children:a.jsxs("form",{onSubmit:B,className:"space-y-5",children:[L&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-900/30 rounded-xl p-3 text-red-600 dark:text-red-400 text-sm",children:L}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Prospect Name"}),a.jsx("input",{required:!0,type:"text",value:d,onChange:Y=>f(Y.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. John Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Phone Number"}),a.jsx("input",{required:!0,type:"tel",value:m,onChange:Y=>g(Y.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-mono",placeholder:"+254 7XX XXX XXX"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Email (Optional)"}),a.jsx("input",{type:"email",value:b,onChange:Y=>x(Y.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",placeholder:"email@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Service Address / Landmark"}),a.jsx("textarea",{rows:3,value:v,onChange:Y=>h(Y.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm",placeholder:"e.g. Githurai 45, Near Shell Petrol Station"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Initial Status"}),a.jsxs("select",{value:S,onChange:Y=>A(Y.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 appearance-none text-gray-900 dark:text-white font-black",children:[a.jsx("option",{value:"new",children:"NEW INQUIRY"}),a.jsx("option",{value:"contacted",children:"CONTACTED"}),a.jsx("option",{value:"survey",children:"FIELD SURVEY REQUIRED"}),a.jsx("option",{value:"lost",children:"NOT INTERESTED / LOST"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Notes (Optional)"}),a.jsx("textarea",{rows:3,value:j,onChange:Y=>N(Y.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm",placeholder:"Any additional information..."})]}),a.jsx("button",{type:"submit",disabled:k,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Saving...":o?.id?"Update Prospect Profile":"Create Opportunity"})]})})},p4=({})=>{const[s,l]=y.useState(""),[i,o]=y.useState("all"),[d,f]=y.useState([]),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(1),[S,A]=y.useState(10),[j,N]=y.useState(1),[k,C]=y.useState(!1),[L,M]=y.useState(null),[B,Y]=y.useState({total:0,new:0,contacted:0,survey:0,converted:0,lost:0}),{can:I}=za(),W=async()=>{try{C(!0),M(null);const O=await kn.getAll(v,S,i,s);f(O.data||[]),N(O.last_page||1)}catch(O){M(O.message||"Failed to fetch leads"),console.error("Error fetching leads:",O)}finally{C(!1)}},de=async()=>{try{const O=await kn.getStats();Y(O)}catch(O){console.error("Error fetching stats:",O)}};y.useEffect(()=>{W()},[v,S,i,s]),y.useEffect(()=>{de()},[]);const ne=()=>{W(),de()},ae=()=>{x(null),g(!0)},Z=O=>{x(O),g(!0)},fe=async O=>{if(confirm("Are you sure you want to delete this lead?"))try{await kn.delete(O),ne()}catch(U){alert(U.message||"Failed to delete lead")}},G=async O=>{try{await kn.update(O.id,{status:"converted"}),ne()}catch(U){alert(U.message||"Failed to convert lead")}},ue=async(O,U)=>{try{await kn.update(O,{status:U}),ne()}catch(le){alert(le.message||"Failed to update status")}},me=()=>{g(!1),ne()};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Leads & Prospects"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Track and convert potential subscribers into the network."})]}),I("manage-leads")&&a.jsxs("button",{onClick:ae,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Prospect"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-3xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Total Pipeline"}),a.jsx("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:B.total})]}),a.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest mb-1",children:"New Inquiries"}),a.jsx("p",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:B.new})]}),a.jsxs("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-purple-500 tracking-widest mb-1",children:"Field Surveys"}),a.jsx("p",{className:"text-2xl font-black text-purple-600 dark:text-purple-400",children:B.survey})]}),a.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest mb-1",children:"Converted"}),a.jsx("p",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:B.converted})]})]}),L&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-900/30 rounded-xl p-4 text-red-600 dark:text-red-400",children:L}),a.jsxs(Le,{title:"Prospect Database",className:"border-none shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search prospects...",value:s,onChange:O=>l(O.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex gap-2",children:["all","new","contacted","survey","lost"].map(O=>a.jsx("button",{onClick:()=>o(O),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${i===O?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-gray-100 dark:bg-slate-800 text-gray-500"}`,children:O},O))})]}),a.jsx("div",{className:"overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"Name"}),a.jsx("th",{className:"py-4 px-6",children:"Contact"}),a.jsx("th",{className:"py-4 px-6",children:"Service Address"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),a.jsx("th",{className:"py-4 px-6",children:"Created"}),I("manage-leads")&&a.jsx("th",{className:"py-4 px-6 text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:k?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center text-gray-400",children:a.jsxs("div",{className:"flex justify-center items-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading leads..."]})})}):d.length>0?d.map(O=>a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none",children:O.name})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-xs font-mono text-blue-600 dark:text-blue-400",children:O.phone})}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:O.address})}),a.jsx("td",{className:"py-5 px-6",children:a.jsxs("select",{value:O.status,onChange:U=>ue(O.id,U.target.value),className:"bg-transparent border-none text-[10px] font-black uppercase tracking-widest text-blue-600 focus:ring-0 cursor-pointer p-0",children:[a.jsx("option",{value:"new",children:"NEW"}),a.jsx("option",{value:"contacted",children:"CONTACTED"}),a.jsx("option",{value:"survey",children:"SURVEY"}),a.jsx("option",{value:"converted",children:"CONVERTED"}),a.jsx("option",{value:"lost",children:"LOST"})]})}),a.jsx("td",{className:"py-5 px-6 text-xs text-gray-400",children:O.created_at}),I("manage-leads")&&a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[O.status!=="converted"&&O.status!=="lost"&&a.jsx("button",{onClick:()=>G(O),className:"px-3 py-1.5 bg-emerald-500 hover:bg-emerald-600 text-white text-[10px] font-black uppercase rounded-lg shadow-lg shadow-emerald-500/20 transition-all active:scale-95",children:"Convert"}),a.jsx("button",{onClick:()=>Z(O),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>fe(O.id),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},O.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-20 text-center text-gray-400 italic",children:"No prospects found."})})})]})}),a.jsx(Xr,{currentPage:v,setCurrentPage:h,totalPages:j,rowsPerPage:S,setRowsPerPage:A})]}),a.jsx(h4,{isOpen:m,onClose:()=>g(!1),editingLead:b,onSave:me})]})};var Ca=(s=>(s.LOW="low",s.MEDIUM="medium",s.HIGH="high",s.CRITICAL="critical",s))(Ca||{}),vt=(s=>(s.OPEN="open",s.IN_PROGRESS="in-progress",s.CLOSED="closed",s))(vt||{});const x4=({isOpen:s,onClose:l,onSave:i,editingTicket:o})=>{const[d,f]=y.useState("customer"),[m,g]=y.useState(""),[b,x]=y.useState(null),[v,h]=y.useState(!1),[S,A]=y.useState(""),[j,N]=y.useState(""),[k,C]=y.useState(Ca.MEDIUM),[L,M]=y.useState(vt.OPEN),[B,Y]=y.useState(()=>JSON.parse(localStorage.getItem(ve.CUSTOMERS)||"[]")),[I,W]=y.useState(!1);y.useEffect(()=>{try{(async()=>{const fe=(await zt.getAll()).data||[];Y(fe),localStorage.setItem(ve.CUSTOMERS,JSON.stringify(fe))})()}catch(ae){console.error("Error loading initial data:",ae)}},[]);const de=y.useMemo(()=>{if(!m.trim())return[];const ae=m.toLowerCase();return B.filter(Z=>Z.firstName.toLowerCase().includes(ae)||Z.lastName.toLowerCase().includes(ae)||Z.radiusUsername?.toLowerCase().includes(ae)||Z.phone.includes(ae)).slice(0,5)},[m,B]);y.useEffect(()=>{if(o){if(o.customer_id){f("customer");const ae=B.find(Z=>Z.id===o.customer_id);x(ae||null),g(o.customer_name||"")}else f("general"),x(null),g("");A(o.subject||""),N(o.description||""),C(o.priority||Ca.MEDIUM),M(o.status||vt.OPEN)}else f("customer"),x(null),g(""),A(""),N(""),C(Ca.MEDIUM),M(vt.OPEN)},[o,s,B]);const ne=async ae=>{if(ae.preventDefault(),d==="customer"&&!b){oe.error("Please select a customer or switch to General ticket mode.");return}W(!0);try{const Z={customer_id:d==="customer"?b?.id:void 0,subject:S,description:j,priority:k,status:L};o?.id?(await jl.update(o.id,Z),oe.success("Ticket updated successfully")):(await jl.create(Z),oe.success("Service ticket created successfully")),i(),l()}catch(Z){oe.error(Z.message||"Failed to save ticket")}finally{W(!1)}};return a.jsx(Fe,{isOpen:s,onClose:l,title:o?.id?"Modify Activity Log":"New Service Request",maxWidth:"max-w-lg",children:a.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[a.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-slate-800 rounded-xl w-full border border-gray-200 dark:border-slate-700",children:[a.jsx("button",{type:"button",onClick:()=>f("customer"),className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${d==="customer"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Subscriber Issue"}),a.jsx("button",{type:"button",onClick:()=>{f("general"),x(null),g("")},className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${d==="general"?"bg-white dark:bg-slate-700 text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"General / Internal"})]}),d==="customer"&&a.jsxs("div",{className:"relative animate-in fade-in slide-in-from-top-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1 block mb-1",children:"Search Subscriber"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",value:m,onFocus:()=>h(!0),onChange:ae=>{g(ae.target.value),b&&ae.target.value!==`${b.firstName} ${b.lastName}`&&x(null)},placeholder:"Type name, phone or username...",className:`w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl py-3 pl-10 pr-10 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold transition-all ${b?"ring-2 ring-emerald-500":""}`}),b&&a.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-emerald-500",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),v&&de.length>0&&!b&&a.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-gray-100 dark:border-slate-800 overflow-hidden animate-in fade-in slide-in-from-top-2",children:de.map(ae=>a.jsxs("button",{type:"button",onClick:()=>{x(ae),g(`${ae.firstName} ${ae.lastName}`),h(!1)},className:"w-full px-4 py-3 text-left hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center justify-between group border-b last:border-0 dark:border-slate-800",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[ae.firstName," ",ae.lastName]}),a.jsxs("p",{className:"text-[10px] text-gray-500 font-mono",children:[ae.radiusUsername," | ",ae.phone]})]}),a.jsx("svg",{className:"w-4 h-4 text-gray-300 group-hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]},ae.id))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Subject / Issue Summary"}),a.jsx("input",{required:!0,type:"text",value:S,onChange:ae=>A(ae.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:d==="customer"?"e.g. Broken Drop Fiber":"e.g. Site Maintenance: West Hub"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Priority"}),a.jsxs("select",{value:k,onChange:ae=>C(ae.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold appearance-none",children:[a.jsx("option",{value:Ca.LOW,children:"LOW"}),a.jsx("option",{value:Ca.MEDIUM,children:"MEDIUM"}),a.jsx("option",{value:Ca.HIGH,children:"HIGH"}),a.jsx("option",{value:Ca.CRITICAL,children:"CRITICAL"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Status"}),a.jsxs("select",{value:L,onChange:ae=>M(ae.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold appearance-none",children:[a.jsx("option",{value:vt.OPEN,children:"OPEN"}),a.jsx("option",{value:vt.IN_PROGRESS,children:"IN PROGRESS"}),a.jsx("option",{value:vt.CLOSED,children:"CLOSED"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Technical Description"}),a.jsx("textarea",{required:!0,rows:4,value:j,onChange:ae=>N(ae.target.value),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm",placeholder:"Describe the nature of the issue or the task requirements in detail..."})]})]}),a.jsx("button",{type:"submit",disabled:I,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Saving...":o?.id?"Update Action Item":"Create Service Ticket"})]})})},g4=()=>{const[s,l]=y.useState(""),[i,o]=y.useState("all"),[d,f]=y.useState(()=>JSON.parse(localStorage.getItem(ve.TICKETS)||"[]")),[m,g]=y.useState(!1),[b,x]=y.useState(null),[v,h]=y.useState(1),[S,A]=y.useState(10),{can:j}=za();y.useEffect(()=>{(async()=>{try{const fe=await jl.getAll(),ue=(Array.isArray(fe)?fe:fe.data||[]).map(me=>({id:me.id.toString(),customer_id:me.customer_id?.toString(),customer_name:me.customer?.first_name&&me.customer?.last_name?`${me.customer.first_name} ${me.customer.last_name}`:"",subject:me.subject,description:me.description,priority:me.priority,status:me.status,created_at:me.created_at}));f(ue),localStorage.setItem(ve.TICKETS,JSON.stringify(ue))}catch(fe){console.error("Error fetching tickets:",fe)}})()},[]);const N=y.useMemo(()=>d.filter(Z=>{const fe=Z.subject.toLowerCase().includes(s.toLowerCase())||(Z.customer_name?.toLowerCase().includes(s.toLowerCase())??!1)||Z.id.toLowerCase().includes(s.toLowerCase()),G=i==="all"||Z.status===i;return fe&&G}),[d,s,i]),k=Math.max(1,Math.ceil(N.length/S)),C=(v-1)*S,L=N.slice(C,C+S);y.useEffect(()=>{v>k&&h(k)},[v,k]);const M={total:d.length,open:d.filter(Z=>Z.status===vt.OPEN).length,critical:d.filter(Z=>Z.priority===Ca.CRITICAL&&Z.status!==vt.CLOSED).length,resolved:d.filter(Z=>Z.status===vt.CLOSED).length},B=async(Z,fe)=>{try{await jl.update(Z,fe),f(G=>G.map(ue=>ue.id===Z?{...ue,status:fe}:ue)),localStorage.setItem(ve.TICKETS,JSON.stringify(d.map(G=>G.id===Z?{...G,status:fe}:G)))}catch(G){console.error("Error updating ticket status:",G)}},Y=async Z=>{try{await jl.delete(Z),f(fe=>fe.filter(G=>G.id!==Z))}catch(fe){console.error("Error deleting ticket:",fe)}},I=Z=>{switch(Z){case Ca.CRITICAL:return a.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-[9px] font-black rounded-full animate-pulse uppercase shadow-sm",children:"Critical"});case Ca.HIGH:return a.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400 text-[9px] font-black rounded-full uppercase",children:"High"});case Ca.MEDIUM:return a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 text-[9px] font-black rounded-full uppercase",children:"Medium"});default:return a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 dark:bg-slate-800 dark:text-slate-400 text-[9px] font-black rounded-full uppercase",children:"Low"})}},W=Z=>{switch(Z){case vt.OPEN:return a.jsx(it,{variant:"expired",children:"Open"});case vt.IN_PROGRESS:return a.jsx(it,{variant:"suspended",children:"In Progress"});case vt.CLOSED:return a.jsx(it,{variant:"active",children:"Closed"})}},de=()=>{x(null),g(!0)},ne=Z=>{x(Z),g(!0)},ae=async()=>{g(!1);try{const Z=await jl.getAll(),G=(Array.isArray(Z)?Z:Z.data||[]).map(ue=>({id:ue.id.toString(),customer_id:ue.customer_id?.toString(),customer_name:ue.customer?.first_name&&ue.customer?.last_name?`${ue.customer.first_name} ${ue.customer.last_name}`:"",subject:ue.subject,description:ue.description,priority:ue.priority,status:ue.status,created_at:ue.created_at}));f(G),localStorage.setItem(ve.TICKETS,JSON.stringify(G))}catch(Z){console.error("Error fetching tickets:",Z)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black tracking-tight text-gray-900 dark:text-white",children:"Operations Queue"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Task management for field technicians and system admins."})]}),j("manage-tickets")&&a.jsxs("button",{onClick:de,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Entry"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-3xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest mb-1",children:"Active Backlog"}),a.jsx("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:M.total})]}),a.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-red-500 tracking-widest mb-1",children:"Open Tickets"}),a.jsx("p",{className:"text-2xl font-black text-red-600 dark:text-red-400",children:M.open})]}),a.jsxs("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-purple-500 tracking-widest mb-1",children:"High Severity"}),a.jsx("p",{className:"text-2xl font-black text-purple-600 dark:text-purple-400",children:M.critical})]}),a.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30 rounded-3xl",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest mb-1",children:"Work Done"}),a.jsx("p",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:M.resolved})]})]}),a.jsxs(Le,{title:"Task Inventory",className:"border-none shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Filter by Subject, ID or User...",value:s,onChange:Z=>l(Z.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex gap-2",children:["all",vt.OPEN,vt.IN_PROGRESS,vt.CLOSED].map(Z=>a.jsx("button",{onClick:()=>o(Z),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${i===Z?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-gray-100 dark:bg-slate-800 text-gray-500"}`,children:Z},Z))})]}),a.jsx("div",{className:" overflow-x-auto -mx-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left text-gray-400 uppercase text-[10px] tracking-widest border-b dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-6",children:"ID"}),a.jsx("th",{className:"py-4 px-6",children:"Association"}),a.jsx("th",{className:"py-4 px-6",children:"Issue / Subject"}),a.jsx("th",{className:"py-4 px-6",children:"Priority"}),a.jsx("th",{className:"py-4 px-6",children:"Status"}),j("manage-tickets")&&a.jsx("th",{className:"py-4 px-6 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-slate-800",children:L.length>0?L.map(Z=>a.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-all",children:[a.jsx("td",{className:"py-5 px-6",children:a.jsxs("p",{className:"font-mono text-xs font-bold text-gray-400 uppercase tracking-tight",children:["#",Z.id]})}),a.jsx("td",{className:"py-5 px-6",children:Z.customer_id?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-none",children:Z.customer_name})]}),a.jsx("p",{className:"text-[9px] text-gray-400 uppercase mt-1 font-mono",children:Z.customer_id})]}):a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.jsx("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"General System"})]})}),a.jsxs("td",{className:"py-5 px-6",children:[a.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 truncate max-w-xs",children:Z.subject}),a.jsxs("p",{className:"text-[10px] text-gray-400 mt-0.5",children:["Created: ",new Date(Z.created_at).toLocaleString()]})]}),a.jsx("td",{className:"py-5 px-6",children:I(Z.priority)}),a.jsx("td",{className:"py-5 px-6",children:a.jsx("div",{className:"flex items-center gap-2",children:W(Z.status)})}),j("manage-tickets")&&a.jsx("td",{className:"py-5 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[Z.status!==vt.CLOSED&&a.jsx("button",{onClick:()=>B(Z.id,vt.CLOSED),className:"p-2 text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all",title:"Quick Close",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("button",{onClick:()=>ne(Z),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("button",{onClick:()=>Y(Z.id),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},Z.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-24 text-center text-gray-400 italic",children:"No activity entries found matching your filters."})})})]})}),a.jsx(Xr,{currentPage:v,setCurrentPage:h,totalPages:k,rowsPerPage:S,setRowsPerPage:A})]}),a.jsx(x4,{isOpen:m,onClose:()=>g(!1),onSave:ae,editingTicket:b})]})},b4=()=>{const[s,l]=se.useState([]),[i,o]=se.useState(!1),[d,f]=y.useState(null),[m,g]=se.useState(!1),{can:b}=za();y.useEffect(()=>{(async()=>{const j=await Zs.get();console.log("Organization settings response:",j);const N=j?.settings||{};N["notes-template"]&&Array.isArray(N["notes-template"].templates)&&l(N["notes-template"].templates)})()},[]);const x=async A=>{const j=s.find(k=>k.id===A);if(!(!j||j.isDefault||!(await Rr("Delete template?",`This will permanently remove "${j.name}".`,{confirmButtonText:"Delete"})).isConfirmed)){g(!0);try{const k=s.filter(C=>C.id!==A);await Zs.update({settings:{"notes-template":{templates:k}}}),l(k),oe.success("Template deleted successfully!")}catch(k){console.error("Failed to delete template",k),oe.error("Failed to delete template")}finally{g(!1)}}},v=A=>{f(A),o(!0)},h=()=>{f({name:"",content:"",category:"SMS"}),o(!0)},S=async A=>{if(A.preventDefault(),!(!d?.name||!d?.content)){g(!0);try{let j=[];if(d.id)j=s.map(N=>N.id===d.id?{...N,name:d.name,content:d.content,category:d.category||N.category}:N);else{const N={id:Date.now().toString(),name:d.name,content:d.content,category:d.category||"SMS"};j=[...s,N]}await Zs.update({settings:{"notes-template":{templates:j}}}),oe.success("Template saved successfully!"),l(j),o(!1),f(null)}catch(j){console.error("Failed to save template",j),oe.error(j instanceof Error?j.message:"Failed to save template")}finally{g(!1)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-gray-100 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-black text-xl text-gray-900 dark:text-white tracking-tight",children:"Message Templates"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Standard patterns for automated client notifications."})]}),b("manage-templates")&&a.jsxs("button",{onClick:h,type:"button",className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-500 transition-all active:scale-95 flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Template"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(A=>a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] p-6 border border-gray-100 dark:border-slate-800 shadow-sm relative group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx(it,{variant:"active",children:A.category}),a.jsx("h4",{className:"mt-2 font-black text-gray-900 dark:text-white",children:A.name})]}),b("manage-templates")&&a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>v(A),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),!A.isDefault&&a.jsx("button",{onClick:()=>x(A.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-gray-100 dark:border-slate-800",children:a.jsx("p",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-3",children:A.content})})]},A.id))}),a.jsx(Fe,{isOpen:i,onClose:()=>o(!1),title:d?.id?"Edit Message Template":"Create Message Template",maxWidth:"max-w-lg",children:a.jsxs("form",{onSubmit:S,className:"space-y-5",children:[a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20 mb-2",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-1",children:"Placeholder Guide"}),a.jsxs("p",{className:"text-[9px] text-blue-500 leading-tight",children:["Use variables like ",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{FirstName}"}),",",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{Expiry}"}),",",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{PaidAmount}"}),", and",a.jsx("code",{className:"bg-white dark:bg-slate-800 px-1 rounded",children:"{PackageName}"})," for dynamic insertion. Click tags below to insert them."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Template Name"}),a.jsx("input",{required:!0,type:"text",value:d?.name||"",onChange:A=>f({...d,name:A.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold",placeholder:"e.g. Payment Confirmation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Category"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:d?.category||"Billing",onChange:A=>f({...d,category:A.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-3.5 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-bold appearance-none",children:[a.jsx("option",{children:"Billing"}),a.jsx("option",{children:"SMS"}),a.jsx("option",{children:"Email"}),a.jsx("option",{children:"System"})]}),a.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsx("div",{className:"flex flex-col justify-end pb-1 pl-1",children:a.jsx(it,{variant:d?.isDefault?"active":"suspended",children:d?.isDefault?"SYSTEM PROTECTED":"CUSTOM TEMPLATE"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Personalization Tags (Click to add)"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{tag:"{FirstName}",label:"First Name"},{tag:"{LastName}",label:"Last Name"},{tag:"{Isp}",label:"ISP Name"},{tag:"{Expiry}",label:"Expiry Date"},{tag:"{PackageName}",label:"Package"},{tag:"{PaidAmount}",label:"Paid Amt"},{tag:"{PackageAmount}",label:"Price"},{tag:"{PhoneNumber}",label:"Phone"}].map(A=>a.jsx("button",{type:"button",onClick:()=>f({...d,content:(d?.content||"")+" "+A.tag}),className:"text-[10px] font-bold px-2 py-1 bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-300 rounded-md hover:bg-blue-600 hover:text-white transition-colors",children:A.label},A.tag))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest ml-1",children:"Content Body"}),a.jsx("textarea",{required:!0,rows:5,value:d?.content||"",onChange:A=>f({...d,content:A.target.value}),className:"w-full bg-gray-50 dark:bg-slate-800 border-none rounded-xl p-4 mt-1 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white text-sm font-mono leading-relaxed",placeholder:"Dear {FirstName}, thank you for your payment of KSH {PaidAmount}..."})]}),a.jsxs("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 group flex items-center justify-center gap-2 disabled:opacity-60",children:[a.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),m?"Saving...":d?.id?"Apply Template Changes":"Save New Template"]})]})})]})},Qp=[{id:"dashboard",label:"Dashboard",icon:a.jsx(Oa.Dashboard,{})},{id:"management",label:"Management",icon:a.jsx(Oa.Management,{}),subItems:[{id:"sites",label:"Sites",perm:"view-sites"},{id:"packages",label:"Packages",perm:"view-packages"}]},{id:"crm",label:"CRM",icon:a.jsx(Oa.CRM,{}),subItems:[{id:"customers",label:"Customers",perm:["view-customers","view-customer-details"]},{id:"leads",label:"Leads",perm:"view-leads"},{id:"tickets",label:"Tickets",perm:"view-tickets"}]},{id:"revenue",label:"Revenue",icon:a.jsx(Oa.Revenue,{}),subItems:[{id:"payments",label:"Payments",perm:"view-payments"},{id:"transactions",label:"Transactions",perm:"view-transactions"},{id:"invoices",label:"Invoices",perm:"view-invoices"},{id:"expenses",label:"Expenses",perm:"view-expenses"},{id:"reports",label:"Reports",perm:"view-reports"}]},{id:"settings",label:"Settings",icon:a.jsx(Oa.Settings,{}),subItems:[{id:"general",label:"General",perm:["system-settings","manage-organization"]},{id:"licence",label:"Licence",perm:["system-settings","manage-organization"]},{id:"access-control",label:"Access Control",perm:["manage-admins","manage-roles"]},{id:"payment-gateway",label:"Payment Gateway",perm:"system-settings"},{id:"sms-gateway",label:"Message Gateway",perm:"system-settings"},{id:"email-gateway",label:"Email Gateway",perm:"system-settings"},{id:"notes-template",label:"Notes Template",perm:["view-templates","manage-templates"]},{id:"change-password",label:"Change Password",perm:"change-password"}]}],wu="easy-tech-auth",y4=()=>{const[s,l]=y.useState(()=>{const L=localStorage.getItem(wu);return L?JSON.parse(L):null}),[i,o]=y.useState(!1),[d,f]=y.useState(null),[m,g]=y.useState(()=>localStorage.getItem("easy-tech-theme")||"light");y.useEffect(()=>{m==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("easy-tech-theme",m)},[m]);const b=y.useMemo(()=>{if(!s)return null;if(s.role)return s.role},[s]),x=y.useMemo(()=>s?s.isSuperAdmin?["*"]:(b?.permissions||[]).map(M=>typeof M=="string"?M:M?.name).filter(M=>!!M):[],[s,b]),v=L=>s?s.isSuperAdmin?!0:x.includes(L):!1,h=L=>s?s.isSuperAdmin?!0:L.some(M=>x.includes(M)):!1,S=L=>L?Array.isArray(L)?h(L):v(L):!0,A=y.useMemo(()=>Qp.map(L=>{if(!L.subItems)return L;const M=L.subItems.filter(B=>S(B.perm));return{...L,subItems:M}}).filter(L=>L.subItems?L.subItems.length>0:S(L.perm)),[Qp,x,s]),j=({perms:L,children:M})=>s?.isSuperAdmin?a.jsx(a.Fragment,{children:M}):h(L)?a.jsx(a.Fragment,{children:M}):a.jsx(fu,{to:"/dashboard",replace:!0}),N=(L,M="success")=>{oe.success(L)},k=async(L,M)=>{o(!0),f(null);try{const B=await No.login(L,M),Y=B.role||null,I={id:B.user.id,name:B.user.name,email:B.user.email,phone:B.user.phone||"",role_id:B.user.role_id,status:B.user.status,last_login:new Date().toLocaleString(),password:"",isSuperAdmin:B.user.is_super_admin||!1,role:Y||void 0};console.log("Login successful, user data:",I),l(I),localStorage.setItem(wu,JSON.stringify(I)),N(`Authorized as ${I.name}`)}catch(B){B instanceof qx?(f(B.message),N(B.message,"error")):(f("Login failed. Please try again."),N("Login failed","error"))}finally{o(!1)}},C=async()=>{try{console.log("Logging out..."),await No.logout(),console.log("Logging out...")}catch(L){console.error("Logout error:",L)}finally{console.log("Logged out..."),l(null),localStorage.removeItem(wu),vo(null),N("Logged out safely","info")}};return y.useEffect(()=>{Px()},[]),console.log("Rendering App, currentUser:"),s?a.jsxs(pp,{children:[a.jsx(ht,{path:"/login",element:a.jsx(Xp,{onLogin:k,isLoading:i,error:d})}),a.jsx(ht,{path:"/*",element:a.jsx("div",{className:"flex h-screen overflow-hidden",children:a.jsx(Hv,{navItems:A,theme:m,toggleTheme:()=>g(m==="light"?"dark":"light"),currentUser:s,onLogout:C,children:a.jsxs(pp,{children:[a.jsx(ht,{path:"/dashboard",element:a.jsx(g1,{})}),a.jsx(ht,{path:"/management/sites",element:a.jsx(j,{perms:["view-sites"],children:a.jsx(F1,{})})}),a.jsx(ht,{path:"/management/packages",element:a.jsx(j,{perms:["view-packages"],children:a.jsx(GN,{})})}),a.jsx(ht,{path:"/crm/customers",element:a.jsx(j,{perms:["view-customers"],children:a.jsx(KN,{})})}),a.jsx(ht,{path:"/crm/customers/:customerId",element:a.jsx(j,{perms:["view-customer-details"],children:a.jsx(s4,{})})}),a.jsx(ht,{path:"/crm/leads",element:a.jsx(j,{perms:["view-leads"],children:a.jsx(p4,{})})}),a.jsx(ht,{path:"/crm/tickets",element:a.jsx(j,{perms:["view-tickets"],children:a.jsx(g4,{})})}),a.jsx(ht,{path:"/revenue/payments",element:a.jsx(j,{perms:["view-payments"],children:a.jsx(l4,{})})}),a.jsx(ht,{path:"/revenue/transactions",element:a.jsx(j,{perms:["view-transactions"],children:a.jsx(r4,{})})}),a.jsx(ht,{path:"/revenue/invoices",element:a.jsx(j,{perms:["view-invoices"],children:a.jsx(o4,{})})}),a.jsx(ht,{path:"/revenue/expenses",element:a.jsx(j,{perms:["view-expenses"],children:a.jsx(f4,{})})}),a.jsx(ht,{path:"/revenue/reports",element:a.jsx(j,{perms:["view-reports"],children:a.jsx(m4,{})})}),a.jsx(ht,{path:"/settings/access-control",element:a.jsx(j,{perms:["view-admins","view-roles"],children:a.jsx($N,{canManageAdmins:v("manage-admins"),canManageRoles:v("manage-roles")})})}),a.jsx(ht,{path:"/settings/notes-template",element:a.jsx(j,{perms:["view-templates"],children:a.jsx(b4,{})})}),a.jsx(ht,{path:"/settings/*",element:a.jsx(j,{perms:["system-settings","view-templates","manage-templates"],children:a.jsx(VN,{onSave:L=>N(L)})})}),a.jsx(ht,{path:"/",element:a.jsx(fu,{to:"/dashboard"})}),a.jsx(ht,{path:"*",element:a.jsx(fu,{to:"/dashboard"})})]})})})})]}):a.jsx(Xp,{onLogin:k,isLoading:i,error:d})},Ug=document.getElementById("root");if(!Ug)throw new Error("Could not find root element to mount to");const v4=l2.createRoot(Ug);v4.render(a.jsxs(se.StrictMode,{children:[a.jsx(V1,{richColors:!0,position:"top-center"}),a.jsx(Cv,{children:a.jsx(y4,{})})]}));
